[2025-12-21T11:39:34.860Z] [ERROR] Failed to update record | {"error":"batch insert only works with Postgresql and SQL Server","id":"95848992-1f82-4d10-a45e-002318849b2c","updateData":{"value":"[REDACTED]"},"taskIds":["01a2a3ca-0927-42b1-934c-d8bb9f219fda","4ed86073-cf67-4f0a-8580-e7a92d8d8879","0ef2d7ba-dcb5-41b3-a3b0-e681e8d4edb3","4ed28bf2-a977-440a-9627-7e3478609af7"]}
[2025-12-21T11:39:34.864Z] [ERROR] Response sent | {"requestId":"278bd484-548e-433c-975b-8a2d367c9ba9","method":"POST","url":"/api/records/95848992-1f82-4d10-a45e-002318849b2c","statusCode":500,"responseTime":"3349ms","userId":"anonymous","timestamp":"2025-12-21T11:39:34.864Z","responseData":{"success":false,"error":{"message":"batch insert only works with Postgresql and SQL Server","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-12-21T11:39:34.877Z] [ERROR] Response sent | {"requestId":"278bd484-548e-433c-975b-8a2d367c9ba9","method":"POST","url":"/api/records/95848992-1f82-4d10-a45e-002318849b2c","statusCode":500,"responseTime":"3362ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-12-21T11:39:34.877Z","responseData":"{\"success\":false,\"error\":{\"message\":\"batch insert only works with Postgresql and SQL Server\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-12-21T11:39:37.477Z] [ERROR] Failed to update record | {"error":"batch insert only works with Postgresql and SQL Server","id":"95848992-1f82-4d10-a45e-002318849b2c","updateData":{"value":"[REDACTED]"},"taskIds":["01a2a3ca-0927-42b1-934c-d8bb9f219fda","4ed86073-cf67-4f0a-8580-e7a92d8d8879","0ef2d7ba-dcb5-41b3-a3b0-e681e8d4edb3","4ed28bf2-a977-440a-9627-7e3478609af7"]}
[2025-12-21T11:39:37.479Z] [ERROR] Response sent | {"requestId":"4aab8095-d44b-45c8-851c-e68a3dee8498","method":"POST","url":"/api/records/95848992-1f82-4d10-a45e-002318849b2c","statusCode":500,"responseTime":"3982ms","userId":"anonymous","timestamp":"2025-12-21T11:39:37.479Z","responseData":{"success":false,"error":{"message":"batch insert only works with Postgresql and SQL Server","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-12-21T11:39:37.480Z] [ERROR] Response sent | {"requestId":"4aab8095-d44b-45c8-851c-e68a3dee8498","method":"POST","url":"/api/records/95848992-1f82-4d10-a45e-002318849b2c","statusCode":500,"responseTime":"3983ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-12-21T11:39:37.480Z","responseData":"{\"success\":false,\"error\":{\"message\":\"batch insert only works with Postgresql and SQL Server\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-12-21T11:39:38.209Z] [ERROR] Failed to update record | {"error":"batch insert only works with Postgresql and SQL Server","id":"95848992-1f82-4d10-a45e-002318849b2c","updateData":{"value":"[REDACTED]"},"taskIds":["01a2a3ca-0927-42b1-934c-d8bb9f219fda","4ed86073-cf67-4f0a-8580-e7a92d8d8879","0ef2d7ba-dcb5-41b3-a3b0-e681e8d4edb3","4ed28bf2-a977-440a-9627-7e3478609af7"]}
[2025-12-21T11:39:38.211Z] [ERROR] Response sent | {"requestId":"9208570b-2130-4989-9d84-94f2efa9faae","method":"POST","url":"/api/records/95848992-1f82-4d10-a45e-002318849b2c","statusCode":500,"responseTime":"4260ms","userId":"anonymous","timestamp":"2025-12-21T11:39:38.211Z","responseData":{"success":false,"error":{"message":"batch insert only works with Postgresql and SQL Server","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-12-21T11:39:38.212Z] [ERROR] Response sent | {"requestId":"9208570b-2130-4989-9d84-94f2efa9faae","method":"POST","url":"/api/records/95848992-1f82-4d10-a45e-002318849b2c","statusCode":500,"responseTime":"4261ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-12-21T11:39:38.212Z","responseData":"{\"success\":false,\"error\":{\"message\":\"batch insert only works with Postgresql and SQL Server\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-12-21T11:39:39.158Z] [ERROR] Failed to update record | {"error":"batch insert only works with Postgresql and SQL Server","id":"95848992-1f82-4d10-a45e-002318849b2c","updateData":{"value":"[REDACTED]"},"taskIds":["01a2a3ca-0927-42b1-934c-d8bb9f219fda","4ed86073-cf67-4f0a-8580-e7a92d8d8879","0ef2d7ba-dcb5-41b3-a3b0-e681e8d4edb3","4ed28bf2-a977-440a-9627-7e3478609af7"]}
[2025-12-21T11:39:39.161Z] [ERROR] Response sent | {"requestId":"760d0a0b-a58d-42d2-ba55-351f675b8747","method":"POST","url":"/api/records/95848992-1f82-4d10-a45e-002318849b2c","statusCode":500,"responseTime":"5015ms","userId":"anonymous","timestamp":"2025-12-21T11:39:39.161Z","responseData":{"success":false,"error":{"message":"batch insert only works with Postgresql and SQL Server","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-12-21T11:39:39.164Z] [ERROR] Response sent | {"requestId":"760d0a0b-a58d-42d2-ba55-351f675b8747","method":"POST","url":"/api/records/95848992-1f82-4d10-a45e-002318849b2c","statusCode":500,"responseTime":"5018ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-12-21T11:39:39.164Z","responseData":"{\"success\":false,\"error\":{\"message\":\"batch insert only works with Postgresql and SQL Server\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-12-21T11:39:39.999Z] [ERROR] Failed to update record | {"error":"batch insert only works with Postgresql and SQL Server","id":"95848992-1f82-4d10-a45e-002318849b2c","updateData":{"value":"[REDACTED]"},"taskIds":["01a2a3ca-0927-42b1-934c-d8bb9f219fda","4ed86073-cf67-4f0a-8580-e7a92d8d8879","0ef2d7ba-dcb5-41b3-a3b0-e681e8d4edb3","4ed28bf2-a977-440a-9627-7e3478609af7"]}
[2025-12-21T11:39:40.006Z] [ERROR] Response sent | {"requestId":"1c5545e5-1975-48b5-beaa-ed4559e8ba97","method":"POST","url":"/api/records/95848992-1f82-4d10-a45e-002318849b2c","statusCode":500,"responseTime":"5675ms","userId":"anonymous","timestamp":"2025-12-21T11:39:40.006Z","responseData":{"success":false,"error":{"message":"batch insert only works with Postgresql and SQL Server","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-12-21T11:39:40.010Z] [ERROR] Response sent | {"requestId":"1c5545e5-1975-48b5-beaa-ed4559e8ba97","method":"POST","url":"/api/records/95848992-1f82-4d10-a45e-002318849b2c","statusCode":500,"responseTime":"5680ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-12-21T11:39:40.010Z","responseData":"{\"success\":false,\"error\":{\"message\":\"batch insert only works with Postgresql and SQL Server\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-12-21T11:39:40.893Z] [ERROR] Failed to update record | {"error":"batch insert only works with Postgresql and SQL Server","id":"95848992-1f82-4d10-a45e-002318849b2c","updateData":{"value":"[REDACTED]"},"taskIds":["01a2a3ca-0927-42b1-934c-d8bb9f219fda","4ed86073-cf67-4f0a-8580-e7a92d8d8879","0ef2d7ba-dcb5-41b3-a3b0-e681e8d4edb3","4ed28bf2-a977-440a-9627-7e3478609af7"]}
[2025-12-21T11:39:40.896Z] [ERROR] Response sent | {"requestId":"5f4611f5-09f7-49c1-a2b4-06712264f2b7","method":"POST","url":"/api/records/95848992-1f82-4d10-a45e-002318849b2c","statusCode":500,"responseTime":"6398ms","userId":"anonymous","timestamp":"2025-12-21T11:39:40.896Z","responseData":{"success":false,"error":{"message":"batch insert only works with Postgresql and SQL Server","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-12-21T11:39:40.904Z] [ERROR] Response sent | {"requestId":"5f4611f5-09f7-49c1-a2b4-06712264f2b7","method":"POST","url":"/api/records/95848992-1f82-4d10-a45e-002318849b2c","statusCode":500,"responseTime":"6406ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-12-21T11:39:40.904Z","responseData":"{\"success\":false,\"error\":{\"message\":\"batch insert only works with Postgresql and SQL Server\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-12-21T11:39:41.631Z] [ERROR] Failed to update record | {"error":"batch insert only works with Postgresql and SQL Server","id":"95848992-1f82-4d10-a45e-002318849b2c","updateData":{"value":"[REDACTED]"},"taskIds":["01a2a3ca-0927-42b1-934c-d8bb9f219fda","4ed86073-cf67-4f0a-8580-e7a92d8d8879","0ef2d7ba-dcb5-41b3-a3b0-e681e8d4edb3","4ed28bf2-a977-440a-9627-7e3478609af7"]}
[2025-12-21T11:39:41.636Z] [ERROR] Response sent | {"requestId":"68b686b8-c498-4564-8b61-1895a71be754","method":"POST","url":"/api/records/95848992-1f82-4d10-a45e-002318849b2c","statusCode":500,"responseTime":"6747ms","userId":"anonymous","timestamp":"2025-12-21T11:39:41.635Z","responseData":{"success":false,"error":{"message":"batch insert only works with Postgresql and SQL Server","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-12-21T11:39:41.641Z] [ERROR] Response sent | {"requestId":"68b686b8-c498-4564-8b61-1895a71be754","method":"POST","url":"/api/records/95848992-1f82-4d10-a45e-002318849b2c","statusCode":500,"responseTime":"6753ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-12-21T11:39:41.641Z","responseData":"{\"success\":false,\"error\":{\"message\":\"batch insert only works with Postgresql and SQL Server\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-12-21T11:39:42.421Z] [ERROR] Failed to update record | {"error":"batch insert only works with Postgresql and SQL Server","id":"95848992-1f82-4d10-a45e-002318849b2c","updateData":{"value":"[REDACTED]"},"taskIds":["01a2a3ca-0927-42b1-934c-d8bb9f219fda","4ed86073-cf67-4f0a-8580-e7a92d8d8879","0ef2d7ba-dcb5-41b3-a3b0-e681e8d4edb3","4ed28bf2-a977-440a-9627-7e3478609af7"]}
[2025-12-21T11:39:42.423Z] [ERROR] Response sent | {"requestId":"327a4a7c-0fdb-4581-b114-196b80d561af","method":"POST","url":"/api/records/95848992-1f82-4d10-a45e-002318849b2c","statusCode":500,"responseTime":"4896ms","userId":"anonymous","timestamp":"2025-12-21T11:39:42.423Z","responseData":{"success":false,"error":{"message":"batch insert only works with Postgresql and SQL Server","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-12-21T11:39:42.425Z] [ERROR] Response sent | {"requestId":"327a4a7c-0fdb-4581-b114-196b80d561af","method":"POST","url":"/api/records/95848992-1f82-4d10-a45e-002318849b2c","statusCode":500,"responseTime":"4898ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-12-21T11:39:42.425Z","responseData":"{\"success\":false,\"error\":{\"message\":\"batch insert only works with Postgresql and SQL Server\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-12-21T13:04:58.064Z] [ERROR] Response 500 (2900ms) | {"requestId":"e9a4950d-78da-4fe0-800d-05dff1043990","method":"POST","url":"/auth/register","statusCode":500,"responseTime":"2900ms","userId":"anonymous","timestamp":"2025-12-21T13:04:58.064Z"}
[2025-12-21T13:04:58.117Z] [ERROR] Response 500 (2953ms) | {"requestId":"e9a4950d-78da-4fe0-800d-05dff1043990","method":"POST","url":"/auth/register","statusCode":500,"responseTime":"2953ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-12-21T13:04:58.117Z"}
[2025-12-21T15:08:14.420Z] [ERROR] logger is not defined | {"url":"/addTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","method":"GET","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","userId":"anonymous","params":{},"query":{},"stack":"ReferenceError: logger is not defined\n    at E:\\Project App\\appsch\\controllers\\taskController.js:24:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
[2025-12-21T15:08:18.166Z] [ERROR] logger is not defined | {"url":"/addTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","method":"GET","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","userId":"anonymous","params":{},"query":{},"stack":"ReferenceError: logger is not defined\n    at E:\\Project App\\appsch\\controllers\\taskController.js:24:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
[2025-12-21T15:08:21.115Z] [ERROR] logger is not defined | {"url":"/addTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","method":"GET","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","userId":"anonymous","params":{},"query":{},"stack":"ReferenceError: logger is not defined\n    at E:\\Project App\\appsch\\controllers\\taskController.js:24:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
[2025-12-21T15:08:23.935Z] [ERROR] logger is not defined | {"url":"/addTask/88a42d86-52aa-11f0-a486-970a6c01c1c4","method":"GET","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","userId":"anonymous","params":{},"query":{},"stack":"ReferenceError: logger is not defined\n    at E:\\Project App\\appsch\\controllers\\taskController.js:24:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
[2025-12-21T15:08:27.581Z] [ERROR] logger is not defined | {"url":"/addTask/88a42a41-52aa-11f0-a486-970a6c01c1c4","method":"GET","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","userId":"anonymous","params":{},"query":{},"stack":"ReferenceError: logger is not defined\n    at E:\\Project App\\appsch\\controllers\\taskController.js:24:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
[2025-12-21T15:31:09.546Z] [ERROR] E:\Project App\appsch\views\rbac-control.ejs:272
    270|                                             <div class="form-check form-switch d-flex justify-content-center">
    271|                                                 <input class="form-check-input permission-switch" type="checkbox" 
 >> 272|                                                        <%= r.permission.includes('1') ? 'checked' : '' %>
    273|                                                        data-role="<%= r.id %>" data-permission="1">
    274|                                             </div>
    275|                                         </td>

r.permission.includes is not a function | {"url":"/rbac-control","method":"GET","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","userId":"anonymous","params":{},"query":{},"stack":"TypeError: E:\\Project App\\appsch\\views\\rbac-control.ejs:272\n    270|                                             <div class=\"form-check form-switch d-flex justify-content-center\">\r\n    271|                                                 <input class=\"form-check-input permission-switch\" type=\"checkbox\" \r\n >> 272|                                                        <%= r.permission.includes('1') ? 'checked' : '' %>\r\n    273|                                                        data-role=\"<%= r.id %>\" data-permission=\"1\">\r\n    274|                                             </div>\r\n    275|                                         </td>\r\n\nr.permission.includes is not a function\n    at eval (eval at compile (E:\\Project App\\appsch\\node_modules\\ejs\\lib\\ejs.js:673:12), <anonymous>:24:39)\n    at Array.forEach (<anonymous>)\n    at eval (eval at compile (E:\\Project App\\appsch\\node_modules\\ejs\\lib\\ejs.js:673:12), <anonymous>:18:13)\n    at rbac-control (E:\\Project App\\appsch\\node_modules\\ejs\\lib\\ejs.js:703:17)\n    at tryHandleCache (E:\\Project App\\appsch\\node_modules\\ejs\\lib\\ejs.js:274:36)\n    at exports.renderFile [as engine] (E:\\Project App\\appsch\\node_modules\\ejs\\lib\\ejs.js:491:10)\n    at View.render (E:\\Project App\\appsch\\node_modules\\express\\lib\\view.js:139:8)\n    at tryRender (E:\\Project App\\appsch\\node_modules\\express\\lib\\application.js:627:10)\n    at Function.render (E:\\Project App\\appsch\\node_modules\\express\\lib\\application.js:574:3)\n    at ServerResponse.render (E:\\Project App\\appsch\\node_modules\\express\\lib\\response.js:909:7)"}
[2025-12-21T15:31:47.123Z] [ERROR] Failed to create record | {"error":"insert into `_RecordTasks` (`A`, `B`) values ('0feda1fb-34bb-4f8f-b96a-3ef0abda82ca', '01a2a3ca-0927-42b1-934c-d8bb9f219fda') - Table 'appsch2._RecordTasks' doesn't exist","recordData":{"staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","value":"[REDACTED]","createdAt":"2025-12-21 00:00:00"},"taskIds":["01a2a3ca-0927-42b1-934c-d8bb9f219fda","4ed86073-cf67-4f0a-8580-e7a92d8d8879","0ef2d7ba-dcb5-41b3-a3b0-e681e8d4edb3","4ed28bf2-a977-440a-9627-7e3478609af7","3e4ad74d-c8b5-4ef9-b8df-bcb1a3aaa3d2"]}
[2025-12-21T15:31:47.135Z] [ERROR] insert into `_RecordTasks` (`A`, `B`) values ('0feda1fb-34bb-4f8f-b96a-3ef0abda82ca', '01a2a3ca-0927-42b1-934c-d8bb9f219fda') - Table 'appsch2._RecordTasks' doesn't exist | {"url":"/addRecordTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","method":"POST","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","userId":"anonymous","body":{"_token":"f69b62ad95a378421f9c9be90403037ea7e405906c4cb5175062acfd581fe8a6","date":"2025-12-21","taskIds":["01a2a3ca-0927-42b1-934c-d8bb9f219fda","4ed86073-cf67-4f0a-8580-e7a92d8d8879","0ef2d7ba-dcb5-41b3-a3b0-e681e8d4edb3","4ed28bf2-a977-440a-9627-7e3478609af7","3e4ad74d-c8b5-4ef9-b8df-bcb1a3aaa3d2"]},"params":{},"query":{},"stack":"DBError: insert into `_RecordTasks` (`A`, `B`) values ('0feda1fb-34bb-4f8f-b96a-3ef0abda82ca', '01a2a3ca-0927-42b1-934c-d8bb9f219fda') - Table 'appsch2._RecordTasks' doesn't exist\n    at wrapError (E:\\Project App\\appsch\\node_modules\\db-errors\\lib\\dbErrors.js:19:14)\n    at handleExecuteError (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\QueryBuilder.js:1140:32)\n    at QueryBuilder.execute (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\QueryBuilder.js:449:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async QueryBuilder.execute (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\QueryBuilder.js:446:22)\n    at async RecordsRepository.createWithTasks (E:\\Project App\\appsch\\repositories\\RecordsRepository.js:221:21)\n    at async RecordsService.createRecord (E:\\Project App\\appsch\\services\\RecordsService.js:127:28)\n    at async E:\\Project App\\appsch\\controllers\\recordsController.js:70:13"}
[2025-12-21T15:31:55.707Z] [ERROR] Failed to create record | {"error":"insert into `_RecordTasks` (`A`, `B`) values ('2742e7e7-ae1a-4417-a1a3-cad64d9d9174', '01a2a3ca-0927-42b1-934c-d8bb9f219fda') - Table 'appsch2._RecordTasks' doesn't exist","recordData":{"staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","value":"[REDACTED]","createdAt":"2025-12-21 00:00:00"},"taskIds":["01a2a3ca-0927-42b1-934c-d8bb9f219fda","4ed86073-cf67-4f0a-8580-e7a92d8d8879","0ef2d7ba-dcb5-41b3-a3b0-e681e8d4edb3","4ed28bf2-a977-440a-9627-7e3478609af7","3e4ad74d-c8b5-4ef9-b8df-bcb1a3aaa3d2"]}
[2025-12-21T15:31:55.717Z] [ERROR] insert into `_RecordTasks` (`A`, `B`) values ('2742e7e7-ae1a-4417-a1a3-cad64d9d9174', '01a2a3ca-0927-42b1-934c-d8bb9f219fda') - Table 'appsch2._RecordTasks' doesn't exist | {"url":"/addRecordTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","method":"POST","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","userId":"anonymous","body":{"_token":"f69b62ad95a378421f9c9be90403037ea7e405906c4cb5175062acfd581fe8a6","date":"2025-12-21","taskIds":["01a2a3ca-0927-42b1-934c-d8bb9f219fda","4ed86073-cf67-4f0a-8580-e7a92d8d8879","0ef2d7ba-dcb5-41b3-a3b0-e681e8d4edb3","4ed28bf2-a977-440a-9627-7e3478609af7","3e4ad74d-c8b5-4ef9-b8df-bcb1a3aaa3d2"]},"params":{},"query":{},"stack":"DBError: insert into `_RecordTasks` (`A`, `B`) values ('2742e7e7-ae1a-4417-a1a3-cad64d9d9174', '01a2a3ca-0927-42b1-934c-d8bb9f219fda') - Table 'appsch2._RecordTasks' doesn't exist\n    at wrapError (E:\\Project App\\appsch\\node_modules\\db-errors\\lib\\dbErrors.js:19:14)\n    at handleExecuteError (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\QueryBuilder.js:1140:32)\n    at QueryBuilder.execute (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\QueryBuilder.js:449:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async QueryBuilder.execute (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\QueryBuilder.js:446:22)\n    at async RecordsRepository.createWithTasks (E:\\Project App\\appsch\\repositories\\RecordsRepository.js:221:21)\n    at async RecordsService.createRecord (E:\\Project App\\appsch\\services\\RecordsService.js:127:28)\n    at async E:\\Project App\\appsch\\controllers\\recordsController.js:70:13"}
[2025-12-21T15:32:20.994Z] [ERROR] Failed to create record | {"error":"insert into `_RecordTasks` (`A`, `B`) values ('61c3fffb-5509-43a9-bc66-0a6bd76f6331', '01a2a3ca-0927-42b1-934c-d8bb9f219fda') - Table 'appsch2._RecordTasks' doesn't exist","recordData":{"staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","value":"[REDACTED]","createdAt":"2025-12-23 00:00:00"},"taskIds":["01a2a3ca-0927-42b1-934c-d8bb9f219fda","4ed86073-cf67-4f0a-8580-e7a92d8d8879","0ef2d7ba-dcb5-41b3-a3b0-e681e8d4edb3","4ed28bf2-a977-440a-9627-7e3478609af7","3e4ad74d-c8b5-4ef9-b8df-bcb1a3aaa3d2"]}
[2025-12-21T15:32:21.001Z] [ERROR] insert into `_RecordTasks` (`A`, `B`) values ('61c3fffb-5509-43a9-bc66-0a6bd76f6331', '01a2a3ca-0927-42b1-934c-d8bb9f219fda') - Table 'appsch2._RecordTasks' doesn't exist | {"url":"/addRecordTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","method":"POST","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","userId":"anonymous","body":{"_token":"f69b62ad95a378421f9c9be90403037ea7e405906c4cb5175062acfd581fe8a6","date":"2025-12-23","taskIds":["01a2a3ca-0927-42b1-934c-d8bb9f219fda","4ed86073-cf67-4f0a-8580-e7a92d8d8879","0ef2d7ba-dcb5-41b3-a3b0-e681e8d4edb3","4ed28bf2-a977-440a-9627-7e3478609af7","3e4ad74d-c8b5-4ef9-b8df-bcb1a3aaa3d2"]},"params":{},"query":{},"stack":"DBError: insert into `_RecordTasks` (`A`, `B`) values ('61c3fffb-5509-43a9-bc66-0a6bd76f6331', '01a2a3ca-0927-42b1-934c-d8bb9f219fda') - Table 'appsch2._RecordTasks' doesn't exist\n    at wrapError (E:\\Project App\\appsch\\node_modules\\db-errors\\lib\\dbErrors.js:19:14)\n    at handleExecuteError (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\QueryBuilder.js:1140:32)\n    at QueryBuilder.execute (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\QueryBuilder.js:449:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async QueryBuilder.execute (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\QueryBuilder.js:446:22)\n    at async RecordsRepository.createWithTasks (E:\\Project App\\appsch\\repositories\\RecordsRepository.js:221:21)\n    at async RecordsService.createRecord (E:\\Project App\\appsch\\services\\RecordsService.js:127:28)\n    at async E:\\Project App\\appsch\\controllers\\recordsController.js:70:13"}
[2025-12-21T15:32:34.810Z] [ERROR] Failed to create record | {"error":"insert into `_RecordTasks` (`A`, `B`) values ('7bd7418c-dfaf-4207-9548-aba0f53c0666', '01a2a3ca-0927-42b1-934c-d8bb9f219fda') - Table 'appsch2._RecordTasks' doesn't exist","recordData":{"staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","value":"[REDACTED]","createdAt":"2025-12-23 00:00:00"},"taskIds":["01a2a3ca-0927-42b1-934c-d8bb9f219fda","4ed86073-cf67-4f0a-8580-e7a92d8d8879","0ef2d7ba-dcb5-41b3-a3b0-e681e8d4edb3","4ed28bf2-a977-440a-9627-7e3478609af7","3e4ad74d-c8b5-4ef9-b8df-bcb1a3aaa3d2"]}
[2025-12-21T15:32:34.817Z] [ERROR] insert into `_RecordTasks` (`A`, `B`) values ('7bd7418c-dfaf-4207-9548-aba0f53c0666', '01a2a3ca-0927-42b1-934c-d8bb9f219fda') - Table 'appsch2._RecordTasks' doesn't exist | {"url":"/addRecordTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","method":"POST","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","userId":"anonymous","body":{"_token":"f69b62ad95a378421f9c9be90403037ea7e405906c4cb5175062acfd581fe8a6","date":"2025-12-23","taskIds":["01a2a3ca-0927-42b1-934c-d8bb9f219fda","4ed86073-cf67-4f0a-8580-e7a92d8d8879","0ef2d7ba-dcb5-41b3-a3b0-e681e8d4edb3","4ed28bf2-a977-440a-9627-7e3478609af7","3e4ad74d-c8b5-4ef9-b8df-bcb1a3aaa3d2"]},"params":{},"query":{},"stack":"DBError: insert into `_RecordTasks` (`A`, `B`) values ('7bd7418c-dfaf-4207-9548-aba0f53c0666', '01a2a3ca-0927-42b1-934c-d8bb9f219fda') - Table 'appsch2._RecordTasks' doesn't exist\n    at wrapError (E:\\Project App\\appsch\\node_modules\\db-errors\\lib\\dbErrors.js:19:14)\n    at handleExecuteError (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\QueryBuilder.js:1140:32)\n    at QueryBuilder.execute (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\QueryBuilder.js:449:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async QueryBuilder.execute (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\QueryBuilder.js:446:22)\n    at async RecordsRepository.createWithTasks (E:\\Project App\\appsch\\repositories\\RecordsRepository.js:221:21)\n    at async RecordsService.createRecord (E:\\Project App\\appsch\\services\\RecordsService.js:127:28)\n    at async E:\\Project App\\appsch\\controllers\\recordsController.js:70:13"}
[2025-12-21T15:49:40.986Z] [ERROR] E:\Project App\appsch\views\rbac-control.ejs:272
    270|                                             <div class="form-check form-switch d-flex justify-content-center">
    271|                                                 <input class="form-check-input permission-switch" type="checkbox" 
 >> 272|                                                        <%= r.permission.includes('1') ? 'checked' : '' %>
    273|                                                        data-role="<%= r.id %>" data-permission="1">
    274|                                             </div>
    275|                                         </td>

r.permission.includes is not a function | {"url":"/rbac-control","method":"GET","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","userId":"anonymous","params":{},"query":{},"stack":"TypeError: E:\\Project App\\appsch\\views\\rbac-control.ejs:272\n    270|                                             <div class=\"form-check form-switch d-flex justify-content-center\">\r\n    271|                                                 <input class=\"form-check-input permission-switch\" type=\"checkbox\" \r\n >> 272|                                                        <%= r.permission.includes('1') ? 'checked' : '' %>\r\n    273|                                                        data-role=\"<%= r.id %>\" data-permission=\"1\">\r\n    274|                                             </div>\r\n    275|                                         </td>\r\n\nr.permission.includes is not a function\n    at eval (eval at compile (E:\\Project App\\appsch\\node_modules\\ejs\\lib\\ejs.js:673:12), <anonymous>:24:39)\n    at Array.forEach (<anonymous>)\n    at eval (eval at compile (E:\\Project App\\appsch\\node_modules\\ejs\\lib\\ejs.js:673:12), <anonymous>:18:13)\n    at rbac-control (E:\\Project App\\appsch\\node_modules\\ejs\\lib\\ejs.js:703:17)\n    at tryHandleCache (E:\\Project App\\appsch\\node_modules\\ejs\\lib\\ejs.js:274:36)\n    at exports.renderFile [as engine] (E:\\Project App\\appsch\\node_modules\\ejs\\lib\\ejs.js:491:10)\n    at View.render (E:\\Project App\\appsch\\node_modules\\express\\lib\\view.js:139:8)\n    at tryRender (E:\\Project App\\appsch\\node_modules\\express\\lib\\application.js:627:10)\n    at Function.render (E:\\Project App\\appsch\\node_modules\\express\\lib\\application.js:574:3)\n    at ServerResponse.render (E:\\Project App\\appsch\\node_modules\\express\\lib\\response.js:909:7)"}
[2025-12-21T17:03:50.321Z] [ERROR] E:\Project App\appsch\views\rbac-control.ejs:272
    270|                                             <div class="form-check form-switch d-flex justify-content-center">
    271|                                                 <input class="form-check-input permission-switch" type="checkbox" 
 >> 272|                                                        <%= r.permission.includes('1') ? 'checked' : '' %>
    273|                                                        data-role="<%= r.id %>" data-permission="1">
    274|                                             </div>
    275|                                         </td>

r.permission.includes is not a function | {"url":"/rbac-control","method":"GET","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","userId":"anonymous","params":{},"query":{},"stack":"TypeError: E:\\Project App\\appsch\\views\\rbac-control.ejs:272\n    270|                                             <div class=\"form-check form-switch d-flex justify-content-center\">\r\n    271|                                                 <input class=\"form-check-input permission-switch\" type=\"checkbox\" \r\n >> 272|                                                        <%= r.permission.includes('1') ? 'checked' : '' %>\r\n    273|                                                        data-role=\"<%= r.id %>\" data-permission=\"1\">\r\n    274|                                             </div>\r\n    275|                                         </td>\r\n\nr.permission.includes is not a function\n    at eval (eval at compile (E:\\Project App\\appsch\\node_modules\\ejs\\lib\\ejs.js:673:12), <anonymous>:24:39)\n    at Array.forEach (<anonymous>)\n    at eval (eval at compile (E:\\Project App\\appsch\\node_modules\\ejs\\lib\\ejs.js:673:12), <anonymous>:18:13)\n    at rbac-control (E:\\Project App\\appsch\\node_modules\\ejs\\lib\\ejs.js:703:17)\n    at tryHandleCache (E:\\Project App\\appsch\\node_modules\\ejs\\lib\\ejs.js:274:36)\n    at exports.renderFile [as engine] (E:\\Project App\\appsch\\node_modules\\ejs\\lib\\ejs.js:491:10)\n    at View.render (E:\\Project App\\appsch\\node_modules\\express\\lib\\view.js:139:8)\n    at tryRender (E:\\Project App\\appsch\\node_modules\\express\\lib\\application.js:627:10)\n    at Function.render (E:\\Project App\\appsch\\node_modules\\express\\lib\\application.js:574:3)\n    at ServerResponse.render (E:\\Project App\\appsch\\node_modules\\express\\lib\\response.js:909:7)"}
