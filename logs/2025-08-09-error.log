[2025-08-09T09:01:21.707Z] [ERROR] Response sent | {"requestId":"1ca28730-532f-4162-a269-f98f34bccfee","method":"GET","url":"/auth/reset-password","statusCode":500,"responseTime":"207ms","userId":"anonymous","timestamp":"2025-08-09T09:01:21.706Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Failed to lookup view \"layout\" in views directory \"E:\\Project App\\appsch\\views\"","statusCode":500,"showDetails":true}}}
[2025-08-09T09:01:21.711Z] [ERROR] Response sent | {"requestId":"1ca28730-532f-4162-a269-f98f34bccfee","method":"GET","url":"/auth/reset-password","statusCode":500,"responseTime":"212ms","userId":"anonymous","timestamp":"2025-08-09T09:01:21.711Z","responseData":{"view":"layout","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Failed to lookup view &#34;layout&#34; in views directory &#34;E:\\Project App\\appsch\\views&#34;\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"Failed to lookup view \"layout\" in views directory \"E:\\Project App\\appsch\\views\"","statusCode":500,"showDetails":true,"_locals":{"message":[]}}}}
[2025-08-09T09:12:15.218Z] [ERROR] Response sent | {"requestId":"90bbc768-08b4-4832-be3a-9b0123223494","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"451ms","userId":"anonymous","timestamp":"2025-08-09T09:12:15.218Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:6\n    4|     <meta charset=\"UTF-8\">\r\n    5|     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n >> 6|     <title>404 - <%= title %> | Appsch</title>\r\n    7|     <style>\r\n    8|         * {\r\n    9|             margin: 0;\r\n\ntitle is not defined","statusCode":500,"showDetails":true}}}
[2025-08-09T09:12:15.221Z] [ERROR] Response sent | {"requestId":"90bbc768-08b4-4832-be3a-9b0123223494","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"453ms","userId":"anonymous","timestamp":"2025-08-09T09:12:15.220Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:6\n    4|     &lt;meta charset=&#34;UTF-8&#34;&gt;\r\n    5|     &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34;&gt;\r\n &gt;&gt; 6|     &lt;title&gt;404 - &lt;%= title %&gt; | Appsch&lt;/title&gt;\r\n    7|     &lt;style&gt;\r\n    8|         * {\r\n    9|             margin: 0;\r\n\ntitle is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:6\n    4|     <meta charset=\"UTF-8\">\r\n    5|     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n >> 6|     <title>404 - <%= title %> | Appsch</title>\r\n    7|     <style>\r\n    8|         * {\r\n    9|             margin: 0;\r\n\ntitle is not defined","statusCode":500,"showDetails":true,"_locals":{"message":[]}}}}
[2025-08-09T09:17:29.037Z] [ERROR] Response sent | {"requestId":"cc764ca2-1763-4722-bfc2-5412f30239e8","method":"GET","url":"/database","statusCode":500,"responseTime":"203ms","userId":"anonymous","timestamp":"2025-08-09T09:17:29.037Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:6\n    4|     <meta charset=\"UTF-8\">\r\n    5|     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n >> 6|     <title>404 - <%= title %> | Appsch</title>\r\n    7|     <style>\r\n    8|         * {\r\n    9|             margin: 0;\r\n\ntitle is not defined","statusCode":500,"showDetails":true}}}
[2025-08-09T09:17:29.039Z] [ERROR] Response sent | {"requestId":"cc764ca2-1763-4722-bfc2-5412f30239e8","method":"GET","url":"/database","statusCode":500,"responseTime":"205ms","userId":"anonymous","timestamp":"2025-08-09T09:17:29.039Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:6\n    4|     &lt;meta charset=&#34;UTF-8&#34;&gt;\r\n    5|     &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34;&gt;\r\n &gt;&gt; 6|     &lt;title&gt;404 - &lt;%= title %&gt; | Appsch&lt;/title&gt;\r\n    7|     &lt;style&gt;\r\n    8|         * {\r\n    9|             margin: 0;\r\n\ntitle is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:6\n    4|     <meta charset=\"UTF-8\">\r\n    5|     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n >> 6|     <title>404 - <%= title %> | Appsch</title>\r\n    7|     <style>\r\n    8|         * {\r\n    9|             margin: 0;\r\n\ntitle is not defined","statusCode":500,"showDetails":true,"_locals":{"message":[]}}}}
[2025-08-09T09:18:10.041Z] [ERROR] Response sent | {"requestId":"dc8a1bf9-9092-4d8d-8bab-abbfd972e2e0","method":"GET","url":"/live","statusCode":503,"responseTime":"19182ms","userId":"anonymous","timestamp":"2025-08-09T09:18:10.041Z","responseData":{"view":"error/database-error","locals":{"title":"Database Connection Error","error":"SELECT 1 - read ECONNRESET","layout":false}}}
[2025-08-09T09:18:10.044Z] [ERROR] Response sent | {"requestId":"dc8a1bf9-9092-4d8d-8bab-abbfd972e2e0","method":"GET","url":"/live","statusCode":503,"responseTime":"19185ms","userId":"anonymous","timestamp":"2025-08-09T09:18:10.044Z","responseData":"<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Database Connection Error</title>\r\n    <style>\r\n        * {\r\n            margin: 0;\r\n            padding: 0;\r\n            box-sizing: border-box;\r\n        }\r\n        \r\n        body {\r\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n            min-height: 100vh;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            color: #333;\r\n        }\r\n        \r\n        .error-container {\r\n            background: white;\r\n            border-radius: 20px;\r\n            padding: 40px;\r\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\r\n            max-width: 600px;\r\n            width: 90%;\r\n            text-align: center;\r\n        }\r\n        \r\n        .error-icon {\r\n            font-size: 80px;\r\n            color: #e74c3c;\r\n            margin-bottom: 20px;\r\n        }\r\n        \r\n        .error-title {\r\n            font-size: 28px;\r\n            font-weight: bold;\r\n            color: #2c3e50;\r\n            margin-bottom: 15px;\r\n        }\r\n        \r\n        .error-subtitle {\r\n            font-size: 16px;\r\n            color: #7f8c8d;\r\n            margin-bottom: 30px;\r\n            line-height: 1.6;\r\n        }\r\n        \r\n        .error-details {\r\n            background: #f8f9fa;\r\n            border: 1px solid #e9ecef;\r\n            border-radius: 10px;\r\n            padding: 20px;\r\n            margin: 20px 0;\r\n            text-align: left;\r\n        }\r\n        \r\n        .error-details h3 {\r\n            color: #495057;\r\n            margin-bottom: 10px;\r\n            font-size: 16px;\r\n        }\r\n        \r\n        .error-message {\r\n            background: #fff3cd;\r\n            border: 1px solid #ffeaa7;\r\n            border-radius: 5px;\r\n            padding: 15px;\r\n            color: #856404;\r\n            font-family: 'Courier New', monospace;\r\n            font-size: 14px;\r\n            word-break: break-all;\r\n            white-space: pre-wrap;\r\n        }\r\n        \r\n        .retry-button {\r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n            color: white;\r\n            border: none;\r\n            padding: 12px 30px;\r\n            border-radius: 25px;\r\n            font-size: 16px;\r\n            cursor: pointer;\r\n            transition: transform 0.2s ease;\r\n            margin-top: 20px;\r\n        }\r\n        \r\n        .retry-button:hover {\r\n            transform: translateY(-2px);\r\n        }\r\n        \r\n        .status-indicator {\r\n            display: inline-block;\r\n            width: 12px;\r\n            height: 12px;\r\n            border-radius: 50%;\r\n            background: #e74c3c;\r\n            margin-right: 8px;\r\n            animation: pulse 2s infinite;\r\n        }\r\n        \r\n        @keyframes pulse {\r\n            0% { opacity: 1; }\r\n            50% { opacity: 0.5; }\r\n            100% { opacity: 1; }\r\n        }\r\n        \r\n        .auto-refresh {\r\n            font-size: 14px;\r\n            color: #7f8c8d;\r\n            margin-top: 20px;\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div class=\"error-container\">\r\n        <div class=\"error-icon\">‚ö†Ô∏è</div>\r\n        <h1 class=\"error-title\">Database Connection Error</h1>\r\n        <p class=\"error-subtitle\">\r\n            Maaf, aplikasi tidak dapat terhubung ke database saat ini. \r\n            Silakan periksa konfigurasi database atau hubungi administrator.\r\n        </p>\r\n        \r\n        <div class=\"error-details\">\r\n            <h3><span class=\"status-indicator\"></span>Status Koneksi</h3>\r\n            <div class=\"error-message\">SELECT 1 - read ECONNRESET</div>\r\n        </div>\r\n        \r\n        <button class=\"retry-button\" onclick=\"location.reload()\">\r\n            üîÑ Coba Lagi\r\n        </button>\r\n        \r\n        <p class=\"auto-refresh\">\r\n            Halaman akan otomatis refresh setiap 30 detik\r\n        </p>\r\n    </div>\r\n\r\n    <script>\r\n        // Auto refresh every 30 seconds\r\n        setTimeout(() => {\r\n            location.reload();\r\n        }, 30000);\r\n        \r\n        // Manual refresh with F5\r\n        document.addEventListener('keydown', function(e) {\r\n            if (e.key === 'F5') {\r\n                location.reload();\r\n            }\r\n        });\r\n    </script>\r\n</body>\r\n</html> "}
[2025-08-09T09:24:56.837Z] [ERROR] Response sent | {"requestId":"63e25215-5717-428a-b48a-4555fdad5874","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"210ms","userId":"anonymous","timestamp":"2025-08-09T09:24:56.837Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:6\n    4|     <meta charset=\"UTF-8\">\r\n    5|     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n >> 6|     <title>404 - <%= title %> | Appsch</title>\r\n    7|     <style>\r\n    8|         * {\r\n    9|             margin: 0;\r\n\ntitle is not defined","statusCode":500,"showDetails":true}}}
[2025-08-09T09:24:56.859Z] [ERROR] Response sent | {"requestId":"63e25215-5717-428a-b48a-4555fdad5874","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"232ms","userId":"anonymous","timestamp":"2025-08-09T09:24:56.859Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:6\n    4|     &lt;meta charset=&#34;UTF-8&#34;&gt;\r\n    5|     &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34;&gt;\r\n &gt;&gt; 6|     &lt;title&gt;404 - &lt;%= title %&gt; | Appsch&lt;/title&gt;\r\n    7|     &lt;style&gt;\r\n    8|         * {\r\n    9|             margin: 0;\r\n\ntitle is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:6\n    4|     <meta charset=\"UTF-8\">\r\n    5|     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n >> 6|     <title>404 - <%= title %> | Appsch</title>\r\n    7|     <style>\r\n    8|         * {\r\n    9|             margin: 0;\r\n\ntitle is not defined","statusCode":500,"showDetails":true,"_locals":{"message":[]}}}}
[2025-08-09T09:26:38.986Z] [ERROR] Response sent | {"requestId":"ed078a3a-8dac-497e-97f1-e27c9b25f691","method":"GET","url":"/staff","statusCode":500,"responseTime":"807ms","userId":"anonymous","timestamp":"2025-08-09T09:26:38.986Z","responseData":{"error":"Internal server error"}}
[2025-08-09T09:26:38.987Z] [ERROR] Response sent | {"requestId":"ed078a3a-8dac-497e-97f1-e27c9b25f691","method":"GET","url":"/staff","statusCode":500,"responseTime":"808ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T09:26:38.987Z","responseData":"{\"error\":\"Internal server error\"}"}
[2025-08-09T09:26:39.290Z] [ERROR] Response sent | {"requestId":"a93af6ef-4fc7-4c6b-ad4c-c01656b42442","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"206ms","userId":"anonymous","timestamp":"2025-08-09T09:26:39.289Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:6\n    4|     <meta charset=\"UTF-8\">\r\n    5|     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n >> 6|     <title>404 - <%= title %> | Appsch</title>\r\n    7|     <style>\r\n    8|         * {\r\n    9|             margin: 0;\r\n\ntitle is not defined","statusCode":500,"showDetails":true}}}
[2025-08-09T09:26:39.294Z] [ERROR] Response sent | {"requestId":"a93af6ef-4fc7-4c6b-ad4c-c01656b42442","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"211ms","userId":"anonymous","timestamp":"2025-08-09T09:26:39.294Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:6\n    4|     &lt;meta charset=&#34;UTF-8&#34;&gt;\r\n    5|     &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34;&gt;\r\n &gt;&gt; 6|     &lt;title&gt;404 - &lt;%= title %&gt; | Appsch&lt;/title&gt;\r\n    7|     &lt;style&gt;\r\n    8|         * {\r\n    9|             margin: 0;\r\n\ntitle is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:6\n    4|     <meta charset=\"UTF-8\">\r\n    5|     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n >> 6|     <title>404 - <%= title %> | Appsch</title>\r\n    7|     <style>\r\n    8|         * {\r\n    9|             margin: 0;\r\n\ntitle is not defined","statusCode":500,"showDetails":true,"_locals":{"message":[]}}}}
[2025-08-09T09:28:11.118Z] [ERROR] Response sent | {"requestId":"71c7e331-bf93-4659-974d-48445aae65a1","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"201ms","userId":"anonymous","timestamp":"2025-08-09T09:28:11.118Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:6\n    4|     <meta charset=\"UTF-8\">\r\n    5|     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n >> 6|     <title>404 - <%= title %> | Appsch</title>\r\n    7|     <style>\r\n    8|         * {\r\n    9|             margin: 0;\r\n\ntitle is not defined","statusCode":500,"showDetails":true}}}
[2025-08-09T09:28:11.121Z] [ERROR] Response sent | {"requestId":"71c7e331-bf93-4659-974d-48445aae65a1","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"204ms","userId":"anonymous","timestamp":"2025-08-09T09:28:11.121Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:6\n    4|     &lt;meta charset=&#34;UTF-8&#34;&gt;\r\n    5|     &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34;&gt;\r\n &gt;&gt; 6|     &lt;title&gt;404 - &lt;%= title %&gt; | Appsch&lt;/title&gt;\r\n    7|     &lt;style&gt;\r\n    8|         * {\r\n    9|             margin: 0;\r\n\ntitle is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:6\n    4|     <meta charset=\"UTF-8\">\r\n    5|     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n >> 6|     <title>404 - <%= title %> | Appsch</title>\r\n    7|     <style>\r\n    8|         * {\r\n    9|             margin: 0;\r\n\ntitle is not defined","statusCode":500,"showDetails":true,"_locals":{"message":[]}}}}
[2025-08-09T09:30:19.524Z] [ERROR] Response sent | {"requestId":"9643bada-1f4e-4ca1-9604-0c6aa01c5c22","method":"POST","url":"/auth/login","statusCode":503,"responseTime":"19170ms","userId":"anonymous","timestamp":"2025-08-09T09:30:19.524Z","responseData":{"view":"error/database-error","locals":{"title":"Database Connection Error","error":"SELECT 1 - read ECONNRESET","layout":false}}}
[2025-08-09T09:30:19.528Z] [ERROR] Response sent | {"requestId":"9643bada-1f4e-4ca1-9604-0c6aa01c5c22","method":"POST","url":"/auth/login","statusCode":503,"responseTime":"19174ms","userId":"anonymous","timestamp":"2025-08-09T09:30:19.528Z","responseData":"<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Database Connection Error</title>\r\n    <style>\r\n        * {\r\n            margin: 0;\r\n            padding: 0;\r\n            box-sizing: border-box;\r\n        }\r\n        \r\n        body {\r\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n            min-height: 100vh;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            color: #333;\r\n        }\r\n        \r\n        .error-container {\r\n            background: white;\r\n            border-radius: 20px;\r\n            padding: 40px;\r\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\r\n            max-width: 600px;\r\n            width: 90%;\r\n            text-align: center;\r\n        }\r\n        \r\n        .error-icon {\r\n            font-size: 80px;\r\n            color: #e74c3c;\r\n            margin-bottom: 20px;\r\n        }\r\n        \r\n        .error-title {\r\n            font-size: 28px;\r\n            font-weight: bold;\r\n            color: #2c3e50;\r\n            margin-bottom: 15px;\r\n        }\r\n        \r\n        .error-subtitle {\r\n            font-size: 16px;\r\n            color: #7f8c8d;\r\n            margin-bottom: 30px;\r\n            line-height: 1.6;\r\n        }\r\n        \r\n        .error-details {\r\n            background: #f8f9fa;\r\n            border: 1px solid #e9ecef;\r\n            border-radius: 10px;\r\n            padding: 20px;\r\n            margin: 20px 0;\r\n            text-align: left;\r\n        }\r\n        \r\n        .error-details h3 {\r\n            color: #495057;\r\n            margin-bottom: 10px;\r\n            font-size: 16px;\r\n        }\r\n        \r\n        .error-message {\r\n            background: #fff3cd;\r\n            border: 1px solid #ffeaa7;\r\n            border-radius: 5px;\r\n            padding: 15px;\r\n            color: #856404;\r\n            font-family: 'Courier New', monospace;\r\n            font-size: 14px;\r\n            word-break: break-all;\r\n            white-space: pre-wrap;\r\n        }\r\n        \r\n        .retry-button {\r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n            color: white;\r\n            border: none;\r\n            padding: 12px 30px;\r\n            border-radius: 25px;\r\n            font-size: 16px;\r\n            cursor: pointer;\r\n            transition: transform 0.2s ease;\r\n            margin-top: 20px;\r\n        }\r\n        \r\n        .retry-button:hover {\r\n            transform: translateY(-2px);\r\n        }\r\n        \r\n        .status-indicator {\r\n            display: inline-block;\r\n            width: 12px;\r\n            height: 12px;\r\n            border-radius: 50%;\r\n            background: #e74c3c;\r\n            margin-right: 8px;\r\n            animation: pulse 2s infinite;\r\n        }\r\n        \r\n        @keyframes pulse {\r\n            0% { opacity: 1; }\r\n            50% { opacity: 0.5; }\r\n            100% { opacity: 1; }\r\n        }\r\n        \r\n        .auto-refresh {\r\n            font-size: 14px;\r\n            color: #7f8c8d;\r\n            margin-top: 20px;\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div class=\"error-container\">\r\n        <div class=\"error-icon\">‚ö†Ô∏è</div>\r\n        <h1 class=\"error-title\">Database Connection Error</h1>\r\n        <p class=\"error-subtitle\">\r\n            Maaf, aplikasi tidak dapat terhubung ke database saat ini. \r\n            Silakan periksa konfigurasi database atau hubungi administrator.\r\n        </p>\r\n        \r\n        <div class=\"error-details\">\r\n            <h3><span class=\"status-indicator\"></span>Status Koneksi</h3>\r\n            <div class=\"error-message\">SELECT 1 - read ECONNRESET</div>\r\n        </div>\r\n        \r\n        <button class=\"retry-button\" onclick=\"location.reload()\">\r\n            üîÑ Coba Lagi\r\n        </button>\r\n        \r\n        <p class=\"auto-refresh\">\r\n            Halaman akan otomatis refresh setiap 30 detik\r\n        </p>\r\n    </div>\r\n\r\n    <script>\r\n        // Auto refresh every 30 seconds\r\n        setTimeout(() => {\r\n            location.reload();\r\n        }, 30000);\r\n        \r\n        // Manual refresh with F5\r\n        document.addEventListener('keydown', function(e) {\r\n            if (e.key === 'F5') {\r\n                location.reload();\r\n            }\r\n        });\r\n    </script>\r\n</body>\r\n</html> "}
[2025-08-09T09:30:29.754Z] [ERROR] Response sent | {"requestId":"eda47b5d-1efe-4382-b4b0-963317b1ce43","method":"GET","url":"/favicon.ico","statusCode":503,"responseTime":"10019ms","userId":"anonymous","timestamp":"2025-08-09T09:30:29.753Z","responseData":{"view":"error/database-error","locals":{"title":"Database Connection Error","error":"connect ETIMEDOUT","layout":false}}}
[2025-08-09T09:30:29.756Z] [ERROR] Response sent | {"requestId":"eda47b5d-1efe-4382-b4b0-963317b1ce43","method":"GET","url":"/favicon.ico","statusCode":503,"responseTime":"10021ms","userId":"anonymous","timestamp":"2025-08-09T09:30:29.756Z","responseData":"<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Database Connection Error</title>\r\n    <style>\r\n        * {\r\n            margin: 0;\r\n            padding: 0;\r\n            box-sizing: border-box;\r\n        }\r\n        \r\n        body {\r\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n            min-height: 100vh;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            color: #333;\r\n        }\r\n        \r\n        .error-container {\r\n            background: white;\r\n            border-radius: 20px;\r\n            padding: 40px;\r\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\r\n            max-width: 600px;\r\n            width: 90%;\r\n            text-align: center;\r\n        }\r\n        \r\n        .error-icon {\r\n            font-size: 80px;\r\n            color: #e74c3c;\r\n            margin-bottom: 20px;\r\n        }\r\n        \r\n        .error-title {\r\n            font-size: 28px;\r\n            font-weight: bold;\r\n            color: #2c3e50;\r\n            margin-bottom: 15px;\r\n        }\r\n        \r\n        .error-subtitle {\r\n            font-size: 16px;\r\n            color: #7f8c8d;\r\n            margin-bottom: 30px;\r\n            line-height: 1.6;\r\n        }\r\n        \r\n        .error-details {\r\n            background: #f8f9fa;\r\n            border: 1px solid #e9ecef;\r\n            border-radius: 10px;\r\n            padding: 20px;\r\n            margin: 20px 0;\r\n            text-align: left;\r\n        }\r\n        \r\n        .error-details h3 {\r\n            color: #495057;\r\n            margin-bottom: 10px;\r\n            font-size: 16px;\r\n        }\r\n        \r\n        .error-message {\r\n            background: #fff3cd;\r\n            border: 1px solid #ffeaa7;\r\n            border-radius: 5px;\r\n            padding: 15px;\r\n            color: #856404;\r\n            font-family: 'Courier New', monospace;\r\n            font-size: 14px;\r\n            word-break: break-all;\r\n            white-space: pre-wrap;\r\n        }\r\n        \r\n        .retry-button {\r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n            color: white;\r\n            border: none;\r\n            padding: 12px 30px;\r\n            border-radius: 25px;\r\n            font-size: 16px;\r\n            cursor: pointer;\r\n            transition: transform 0.2s ease;\r\n            margin-top: 20px;\r\n        }\r\n        \r\n        .retry-button:hover {\r\n            transform: translateY(-2px);\r\n        }\r\n        \r\n        .status-indicator {\r\n            display: inline-block;\r\n            width: 12px;\r\n            height: 12px;\r\n            border-radius: 50%;\r\n            background: #e74c3c;\r\n            margin-right: 8px;\r\n            animation: pulse 2s infinite;\r\n        }\r\n        \r\n        @keyframes pulse {\r\n            0% { opacity: 1; }\r\n            50% { opacity: 0.5; }\r\n            100% { opacity: 1; }\r\n        }\r\n        \r\n        .auto-refresh {\r\n            font-size: 14px;\r\n            color: #7f8c8d;\r\n            margin-top: 20px;\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div class=\"error-container\">\r\n        <div class=\"error-icon\">‚ö†Ô∏è</div>\r\n        <h1 class=\"error-title\">Database Connection Error</h1>\r\n        <p class=\"error-subtitle\">\r\n            Maaf, aplikasi tidak dapat terhubung ke database saat ini. \r\n            Silakan periksa konfigurasi database atau hubungi administrator.\r\n        </p>\r\n        \r\n        <div class=\"error-details\">\r\n            <h3><span class=\"status-indicator\"></span>Status Koneksi</h3>\r\n            <div class=\"error-message\">connect ETIMEDOUT</div>\r\n        </div>\r\n        \r\n        <button class=\"retry-button\" onclick=\"location.reload()\">\r\n            üîÑ Coba Lagi\r\n        </button>\r\n        \r\n        <p class=\"auto-refresh\">\r\n            Halaman akan otomatis refresh setiap 30 detik\r\n        </p>\r\n    </div>\r\n\r\n    <script>\r\n        // Auto refresh every 30 seconds\r\n        setTimeout(() => {\r\n            location.reload();\r\n        }, 30000);\r\n        \r\n        // Manual refresh with F5\r\n        document.addEventListener('keydown', function(e) {\r\n            if (e.key === 'F5') {\r\n                location.reload();\r\n            }\r\n        });\r\n    </script>\r\n</body>\r\n</html> "}
[2025-08-09T09:30:30.812Z] [ERROR] Response sent | {"requestId":"6884fd48-9d37-4ebd-94a2-7495668f5a8c","method":"POST","url":"/auth/login","statusCode":503,"responseTime":"2025ms","userId":"anonymous","timestamp":"2025-08-09T09:30:30.812Z","responseData":{"view":"error/database-error","locals":{"title":"Database Connection Error","error":"getaddrinfo ENOTFOUND gateway01.eu-central-1.prod.aws.tidbcloud.com","layout":false}}}
[2025-08-09T09:30:30.818Z] [ERROR] Response sent | {"requestId":"6884fd48-9d37-4ebd-94a2-7495668f5a8c","method":"POST","url":"/auth/login","statusCode":503,"responseTime":"2031ms","userId":"anonymous","timestamp":"2025-08-09T09:30:30.818Z","responseData":"<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Database Connection Error</title>\r\n    <style>\r\n        * {\r\n            margin: 0;\r\n            padding: 0;\r\n            box-sizing: border-box;\r\n        }\r\n        \r\n        body {\r\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n            min-height: 100vh;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            color: #333;\r\n        }\r\n        \r\n        .error-container {\r\n            background: white;\r\n            border-radius: 20px;\r\n            padding: 40px;\r\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\r\n            max-width: 600px;\r\n            width: 90%;\r\n            text-align: center;\r\n        }\r\n        \r\n        .error-icon {\r\n            font-size: 80px;\r\n            color: #e74c3c;\r\n            margin-bottom: 20px;\r\n        }\r\n        \r\n        .error-title {\r\n            font-size: 28px;\r\n            font-weight: bold;\r\n            color: #2c3e50;\r\n            margin-bottom: 15px;\r\n        }\r\n        \r\n        .error-subtitle {\r\n            font-size: 16px;\r\n            color: #7f8c8d;\r\n            margin-bottom: 30px;\r\n            line-height: 1.6;\r\n        }\r\n        \r\n        .error-details {\r\n            background: #f8f9fa;\r\n            border: 1px solid #e9ecef;\r\n            border-radius: 10px;\r\n            padding: 20px;\r\n            margin: 20px 0;\r\n            text-align: left;\r\n        }\r\n        \r\n        .error-details h3 {\r\n            color: #495057;\r\n            margin-bottom: 10px;\r\n            font-size: 16px;\r\n        }\r\n        \r\n        .error-message {\r\n            background: #fff3cd;\r\n            border: 1px solid #ffeaa7;\r\n            border-radius: 5px;\r\n            padding: 15px;\r\n            color: #856404;\r\n            font-family: 'Courier New', monospace;\r\n            font-size: 14px;\r\n            word-break: break-all;\r\n            white-space: pre-wrap;\r\n        }\r\n        \r\n        .retry-button {\r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n            color: white;\r\n            border: none;\r\n            padding: 12px 30px;\r\n            border-radius: 25px;\r\n            font-size: 16px;\r\n            cursor: pointer;\r\n            transition: transform 0.2s ease;\r\n            margin-top: 20px;\r\n        }\r\n        \r\n        .retry-button:hover {\r\n            transform: translateY(-2px);\r\n        }\r\n        \r\n        .status-indicator {\r\n            display: inline-block;\r\n            width: 12px;\r\n            height: 12px;\r\n            border-radius: 50%;\r\n            background: #e74c3c;\r\n            margin-right: 8px;\r\n            animation: pulse 2s infinite;\r\n        }\r\n        \r\n        @keyframes pulse {\r\n            0% { opacity: 1; }\r\n            50% { opacity: 0.5; }\r\n            100% { opacity: 1; }\r\n        }\r\n        \r\n        .auto-refresh {\r\n            font-size: 14px;\r\n            color: #7f8c8d;\r\n            margin-top: 20px;\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div class=\"error-container\">\r\n        <div class=\"error-icon\">‚ö†Ô∏è</div>\r\n        <h1 class=\"error-title\">Database Connection Error</h1>\r\n        <p class=\"error-subtitle\">\r\n            Maaf, aplikasi tidak dapat terhubung ke database saat ini. \r\n            Silakan periksa konfigurasi database atau hubungi administrator.\r\n        </p>\r\n        \r\n        <div class=\"error-details\">\r\n            <h3><span class=\"status-indicator\"></span>Status Koneksi</h3>\r\n            <div class=\"error-message\">getaddrinfo ENOTFOUND gateway01.eu-central-1.prod.aws.tidbcloud.com</div>\r\n        </div>\r\n        \r\n        <button class=\"retry-button\" onclick=\"location.reload()\">\r\n            üîÑ Coba Lagi\r\n        </button>\r\n        \r\n        <p class=\"auto-refresh\">\r\n            Halaman akan otomatis refresh setiap 30 detik\r\n        </p>\r\n    </div>\r\n\r\n    <script>\r\n        // Auto refresh every 30 seconds\r\n        setTimeout(() => {\r\n            location.reload();\r\n        }, 30000);\r\n        \r\n        // Manual refresh with F5\r\n        document.addEventListener('keydown', function(e) {\r\n            if (e.key === 'F5') {\r\n                location.reload();\r\n            }\r\n        });\r\n    </script>\r\n</body>\r\n</html> "}
[2025-08-09T09:30:40.950Z] [ERROR] Response sent | {"requestId":"7127ecac-fb06-4d0b-8aac-a2e5f16e7a20","method":"GET","url":"/favicon.ico","statusCode":503,"responseTime":"10017ms","userId":"anonymous","timestamp":"2025-08-09T09:30:40.950Z","responseData":{"view":"error/database-error","locals":{"title":"Database Connection Error","error":"connect ETIMEDOUT","layout":false}}}
[2025-08-09T09:30:40.954Z] [ERROR] Response sent | {"requestId":"7127ecac-fb06-4d0b-8aac-a2e5f16e7a20","method":"GET","url":"/favicon.ico","statusCode":503,"responseTime":"10022ms","userId":"anonymous","timestamp":"2025-08-09T09:30:40.954Z","responseData":"<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Database Connection Error</title>\r\n    <style>\r\n        * {\r\n            margin: 0;\r\n            padding: 0;\r\n            box-sizing: border-box;\r\n        }\r\n        \r\n        body {\r\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n            min-height: 100vh;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            color: #333;\r\n        }\r\n        \r\n        .error-container {\r\n            background: white;\r\n            border-radius: 20px;\r\n            padding: 40px;\r\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\r\n            max-width: 600px;\r\n            width: 90%;\r\n            text-align: center;\r\n        }\r\n        \r\n        .error-icon {\r\n            font-size: 80px;\r\n            color: #e74c3c;\r\n            margin-bottom: 20px;\r\n        }\r\n        \r\n        .error-title {\r\n            font-size: 28px;\r\n            font-weight: bold;\r\n            color: #2c3e50;\r\n            margin-bottom: 15px;\r\n        }\r\n        \r\n        .error-subtitle {\r\n            font-size: 16px;\r\n            color: #7f8c8d;\r\n            margin-bottom: 30px;\r\n            line-height: 1.6;\r\n        }\r\n        \r\n        .error-details {\r\n            background: #f8f9fa;\r\n            border: 1px solid #e9ecef;\r\n            border-radius: 10px;\r\n            padding: 20px;\r\n            margin: 20px 0;\r\n            text-align: left;\r\n        }\r\n        \r\n        .error-details h3 {\r\n            color: #495057;\r\n            margin-bottom: 10px;\r\n            font-size: 16px;\r\n        }\r\n        \r\n        .error-message {\r\n            background: #fff3cd;\r\n            border: 1px solid #ffeaa7;\r\n            border-radius: 5px;\r\n            padding: 15px;\r\n            color: #856404;\r\n            font-family: 'Courier New', monospace;\r\n            font-size: 14px;\r\n            word-break: break-all;\r\n            white-space: pre-wrap;\r\n        }\r\n        \r\n        .retry-button {\r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n            color: white;\r\n            border: none;\r\n            padding: 12px 30px;\r\n            border-radius: 25px;\r\n            font-size: 16px;\r\n            cursor: pointer;\r\n            transition: transform 0.2s ease;\r\n            margin-top: 20px;\r\n        }\r\n        \r\n        .retry-button:hover {\r\n            transform: translateY(-2px);\r\n        }\r\n        \r\n        .status-indicator {\r\n            display: inline-block;\r\n            width: 12px;\r\n            height: 12px;\r\n            border-radius: 50%;\r\n            background: #e74c3c;\r\n            margin-right: 8px;\r\n            animation: pulse 2s infinite;\r\n        }\r\n        \r\n        @keyframes pulse {\r\n            0% { opacity: 1; }\r\n            50% { opacity: 0.5; }\r\n            100% { opacity: 1; }\r\n        }\r\n        \r\n        .auto-refresh {\r\n            font-size: 14px;\r\n            color: #7f8c8d;\r\n            margin-top: 20px;\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div class=\"error-container\">\r\n        <div class=\"error-icon\">‚ö†Ô∏è</div>\r\n        <h1 class=\"error-title\">Database Connection Error</h1>\r\n        <p class=\"error-subtitle\">\r\n            Maaf, aplikasi tidak dapat terhubung ke database saat ini. \r\n            Silakan periksa konfigurasi database atau hubungi administrator.\r\n        </p>\r\n        \r\n        <div class=\"error-details\">\r\n            <h3><span class=\"status-indicator\"></span>Status Koneksi</h3>\r\n            <div class=\"error-message\">connect ETIMEDOUT</div>\r\n        </div>\r\n        \r\n        <button class=\"retry-button\" onclick=\"location.reload()\">\r\n            üîÑ Coba Lagi\r\n        </button>\r\n        \r\n        <p class=\"auto-refresh\">\r\n            Halaman akan otomatis refresh setiap 30 detik\r\n        </p>\r\n    </div>\r\n\r\n    <script>\r\n        // Auto refresh every 30 seconds\r\n        setTimeout(() => {\r\n            location.reload();\r\n        }, 30000);\r\n        \r\n        // Manual refresh with F5\r\n        document.addEventListener('keydown', function(e) {\r\n            if (e.key === 'F5') {\r\n                location.reload();\r\n            }\r\n        });\r\n    </script>\r\n</body>\r\n</html> "}
[2025-08-09T09:30:42.020Z] [ERROR] Response sent | {"requestId":"e3eb78de-ebf7-4888-9000-1af5c90a7d8c","method":"GET","url":"/","statusCode":503,"responseTime":"1023ms","userId":"anonymous","timestamp":"2025-08-09T09:30:42.020Z","responseData":{"view":"error/database-error","locals":{"title":"Database Connection Error","error":"getaddrinfo ENOTFOUND gateway01.eu-central-1.prod.aws.tidbcloud.com","layout":false}}}
[2025-08-09T09:30:42.022Z] [ERROR] Response sent | {"requestId":"e3eb78de-ebf7-4888-9000-1af5c90a7d8c","method":"GET","url":"/","statusCode":503,"responseTime":"1025ms","userId":"anonymous","timestamp":"2025-08-09T09:30:42.022Z","responseData":"<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Database Connection Error</title>\r\n    <style>\r\n        * {\r\n            margin: 0;\r\n            padding: 0;\r\n            box-sizing: border-box;\r\n        }\r\n        \r\n        body {\r\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n            min-height: 100vh;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            color: #333;\r\n        }\r\n        \r\n        .error-container {\r\n            background: white;\r\n            border-radius: 20px;\r\n            padding: 40px;\r\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\r\n            max-width: 600px;\r\n            width: 90%;\r\n            text-align: center;\r\n        }\r\n        \r\n        .error-icon {\r\n            font-size: 80px;\r\n            color: #e74c3c;\r\n            margin-bottom: 20px;\r\n        }\r\n        \r\n        .error-title {\r\n            font-size: 28px;\r\n            font-weight: bold;\r\n            color: #2c3e50;\r\n            margin-bottom: 15px;\r\n        }\r\n        \r\n        .error-subtitle {\r\n            font-size: 16px;\r\n            color: #7f8c8d;\r\n            margin-bottom: 30px;\r\n            line-height: 1.6;\r\n        }\r\n        \r\n        .error-details {\r\n            background: #f8f9fa;\r\n            border: 1px solid #e9ecef;\r\n            border-radius: 10px;\r\n            padding: 20px;\r\n            margin: 20px 0;\r\n            text-align: left;\r\n        }\r\n        \r\n        .error-details h3 {\r\n            color: #495057;\r\n            margin-bottom: 10px;\r\n            font-size: 16px;\r\n        }\r\n        \r\n        .error-message {\r\n            background: #fff3cd;\r\n            border: 1px solid #ffeaa7;\r\n            border-radius: 5px;\r\n            padding: 15px;\r\n            color: #856404;\r\n            font-family: 'Courier New', monospace;\r\n            font-size: 14px;\r\n            word-break: break-all;\r\n            white-space: pre-wrap;\r\n        }\r\n        \r\n        .retry-button {\r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n            color: white;\r\n            border: none;\r\n            padding: 12px 30px;\r\n            border-radius: 25px;\r\n            font-size: 16px;\r\n            cursor: pointer;\r\n            transition: transform 0.2s ease;\r\n            margin-top: 20px;\r\n        }\r\n        \r\n        .retry-button:hover {\r\n            transform: translateY(-2px);\r\n        }\r\n        \r\n        .status-indicator {\r\n            display: inline-block;\r\n            width: 12px;\r\n            height: 12px;\r\n            border-radius: 50%;\r\n            background: #e74c3c;\r\n            margin-right: 8px;\r\n            animation: pulse 2s infinite;\r\n        }\r\n        \r\n        @keyframes pulse {\r\n            0% { opacity: 1; }\r\n            50% { opacity: 0.5; }\r\n            100% { opacity: 1; }\r\n        }\r\n        \r\n        .auto-refresh {\r\n            font-size: 14px;\r\n            color: #7f8c8d;\r\n            margin-top: 20px;\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div class=\"error-container\">\r\n        <div class=\"error-icon\">‚ö†Ô∏è</div>\r\n        <h1 class=\"error-title\">Database Connection Error</h1>\r\n        <p class=\"error-subtitle\">\r\n            Maaf, aplikasi tidak dapat terhubung ke database saat ini. \r\n            Silakan periksa konfigurasi database atau hubungi administrator.\r\n        </p>\r\n        \r\n        <div class=\"error-details\">\r\n            <h3><span class=\"status-indicator\"></span>Status Koneksi</h3>\r\n            <div class=\"error-message\">getaddrinfo ENOTFOUND gateway01.eu-central-1.prod.aws.tidbcloud.com</div>\r\n        </div>\r\n        \r\n        <button class=\"retry-button\" onclick=\"location.reload()\">\r\n            üîÑ Coba Lagi\r\n        </button>\r\n        \r\n        <p class=\"auto-refresh\">\r\n            Halaman akan otomatis refresh setiap 30 detik\r\n        </p>\r\n    </div>\r\n\r\n    <script>\r\n        // Auto refresh every 30 seconds\r\n        setTimeout(() => {\r\n            location.reload();\r\n        }, 30000);\r\n        \r\n        // Manual refresh with F5\r\n        document.addEventListener('keydown', function(e) {\r\n            if (e.key === 'F5') {\r\n                location.reload();\r\n            }\r\n        });\r\n    </script>\r\n</body>\r\n</html> "}
[2025-08-09T09:30:43.346Z] [ERROR] Response sent | {"requestId":"e30fe091-68ba-4796-93d0-1bd5fad1d4a1","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"1210ms","userId":"anonymous","timestamp":"2025-08-09T09:30:43.346Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:6\n    4|     <meta charset=\"UTF-8\">\r\n    5|     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n >> 6|     <title>404 - <%= title %> | Appsch</title>\r\n    7|     <style>\r\n    8|         * {\r\n    9|             margin: 0;\r\n\ntitle is not defined","statusCode":500,"showDetails":true}}}
[2025-08-09T09:30:43.353Z] [ERROR] Response sent | {"requestId":"e30fe091-68ba-4796-93d0-1bd5fad1d4a1","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"1218ms","userId":"anonymous","timestamp":"2025-08-09T09:30:43.353Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:6\n    4|     &lt;meta charset=&#34;UTF-8&#34;&gt;\r\n    5|     &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34;&gt;\r\n &gt;&gt; 6|     &lt;title&gt;404 - &lt;%= title %&gt; | Appsch&lt;/title&gt;\r\n    7|     &lt;style&gt;\r\n    8|         * {\r\n    9|             margin: 0;\r\n\ntitle is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:6\n    4|     <meta charset=\"UTF-8\">\r\n    5|     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n >> 6|     <title>404 - <%= title %> | Appsch</title>\r\n    7|     <style>\r\n    8|         * {\r\n    9|             margin: 0;\r\n\ntitle is not defined","statusCode":500,"showDetails":true,"_locals":{"message":[]}}}}
[2025-08-09T09:31:22.033Z] [ERROR] Response sent | {"requestId":"e798415b-a713-46ff-b45d-36c026af7f55","method":"GET","url":"/staff","statusCode":500,"responseTime":"1089ms","userId":"anonymous","timestamp":"2025-08-09T09:31:22.033Z","responseData":{"error":"Internal server error"}}
[2025-08-09T09:31:22.035Z] [ERROR] Response sent | {"requestId":"e798415b-a713-46ff-b45d-36c026af7f55","method":"GET","url":"/staff","statusCode":500,"responseTime":"1091ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T09:31:22.035Z","responseData":"{\"error\":\"Internal server error\"}"}
[2025-08-09T09:31:22.355Z] [ERROR] Response sent | {"requestId":"d21b2d68-3549-4187-a5a3-d44dd92efa25","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"216ms","userId":"anonymous","timestamp":"2025-08-09T09:31:22.355Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:6\n    4|     <meta charset=\"UTF-8\">\r\n    5|     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n >> 6|     <title>404 - <%= title %> | Appsch</title>\r\n    7|     <style>\r\n    8|         * {\r\n    9|             margin: 0;\r\n\ntitle is not defined","statusCode":500,"showDetails":true}}}
[2025-08-09T09:31:22.360Z] [ERROR] Response sent | {"requestId":"d21b2d68-3549-4187-a5a3-d44dd92efa25","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"221ms","userId":"anonymous","timestamp":"2025-08-09T09:31:22.360Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:6\n    4|     &lt;meta charset=&#34;UTF-8&#34;&gt;\r\n    5|     &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34;&gt;\r\n &gt;&gt; 6|     &lt;title&gt;404 - &lt;%= title %&gt; | Appsch&lt;/title&gt;\r\n    7|     &lt;style&gt;\r\n    8|         * {\r\n    9|             margin: 0;\r\n\ntitle is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:6\n    4|     <meta charset=\"UTF-8\">\r\n    5|     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n >> 6|     <title>404 - <%= title %> | Appsch</title>\r\n    7|     <style>\r\n    8|         * {\r\n    9|             margin: 0;\r\n\ntitle is not defined","statusCode":500,"showDetails":true,"_locals":{"message":[]}}}}
[2025-08-09T09:32:49.219Z] [ERROR] Response sent | {"requestId":"83517878-160c-49ab-848f-959016390753","method":"GET","url":"/nonexistent-page","statusCode":500,"responseTime":"431ms","userId":"anonymous","timestamp":"2025-08-09T09:32:49.219Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true}}}
[2025-08-09T09:32:49.221Z] [ERROR] Response sent | {"requestId":"83517878-160c-49ab-848f-959016390753","method":"GET","url":"/nonexistent-page","statusCode":500,"responseTime":"433ms","userId":"anonymous","timestamp":"2025-08-09T09:32:49.221Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"_locals":{"message":[]}}}}
[2025-08-09T09:34:32.419Z] [ERROR] Response sent | {"requestId":"2c219f85-3ef8-4b64-a43c-c82cb4dea716","method":"GET","url":"/nonexistent-page?ide_webview_request_time=1754732072180","statusCode":500,"responseTime":"222ms","userId":"anonymous","timestamp":"2025-08-09T09:34:32.419Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true}}}
[2025-08-09T09:34:32.423Z] [ERROR] Response sent | {"requestId":"2c219f85-3ef8-4b64-a43c-c82cb4dea716","method":"GET","url":"/nonexistent-page?ide_webview_request_time=1754732072180","statusCode":500,"responseTime":"227ms","userId":"anonymous","timestamp":"2025-08-09T09:34:32.423Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"_locals":{"message":[]}}}}
[2025-08-09T09:34:38.434Z] [ERROR] Response sent | {"requestId":"4b304a1c-2c38-45c2-93cc-6800b85c40ae","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"217ms","userId":"anonymous","timestamp":"2025-08-09T09:34:38.434Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true}}}
[2025-08-09T09:34:38.437Z] [ERROR] Response sent | {"requestId":"4b304a1c-2c38-45c2-93cc-6800b85c40ae","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"220ms","userId":"anonymous","timestamp":"2025-08-09T09:34:38.437Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"_locals":{"message":[]}}}}
[2025-08-09T09:36:10.865Z] [ERROR] Response sent | {"requestId":"99fdb408-fe31-4e08-8b44-9848213fcc71","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"198ms","userId":"anonymous","timestamp":"2025-08-09T09:36:10.865Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T09:36:10.867Z] [ERROR] Response sent | {"requestId":"99fdb408-fe31-4e08-8b44-9848213fcc71","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"199ms","userId":"anonymous","timestamp":"2025-08-09T09:36:10.866Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[]}}}}
[2025-08-09T09:36:10.869Z] [ERROR] Response sent | {"requestId":"99fdb408-fe31-4e08-8b44-9848213fcc71","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"202ms","userId":"anonymous","timestamp":"2025-08-09T09:36:10.869Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T09:36:14.566Z] [ERROR] Response sent | {"requestId":"aba6b5f2-7bb6-4077-a941-0138aeb61fa9","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"202ms","userId":"anonymous","timestamp":"2025-08-09T09:36:14.566Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T09:36:14.570Z] [ERROR] Response sent | {"requestId":"aba6b5f2-7bb6-4077-a941-0138aeb61fa9","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"206ms","userId":"anonymous","timestamp":"2025-08-09T09:36:14.570Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[]}}}}
[2025-08-09T09:36:14.575Z] [ERROR] Response sent | {"requestId":"aba6b5f2-7bb6-4077-a941-0138aeb61fa9","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"211ms","userId":"anonymous","timestamp":"2025-08-09T09:36:14.575Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T09:36:54.503Z] [ERROR] Response sent | {"requestId":"a5781ecb-3739-4d97-906d-429dd0c294d9","method":"GET","url":"/nonexistent-page?ide_webview_request_time=1754732214300","statusCode":500,"responseTime":"199ms","userId":"anonymous","timestamp":"2025-08-09T09:36:54.503Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/nonexistent-page"}}}
[2025-08-09T09:36:54.504Z] [ERROR] Response sent | {"requestId":"a5781ecb-3739-4d97-906d-429dd0c294d9","method":"GET","url":"/nonexistent-page?ide_webview_request_time=1754732214300","statusCode":500,"responseTime":"200ms","userId":"anonymous","timestamp":"2025-08-09T09:36:54.504Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/nonexistent-page","_locals":{"message":[]}}}}
[2025-08-09T09:36:54.506Z] [ERROR] Response sent | {"requestId":"a5781ecb-3739-4d97-906d-429dd0c294d9","method":"GET","url":"/nonexistent-page?ide_webview_request_time=1754732214300","statusCode":500,"responseTime":"202ms","userId":"anonymous","timestamp":"2025-08-09T09:36:54.506Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T09:36:55.113Z] [ERROR] Response sent | {"requestId":"b871a14c-ce92-4420-a80d-925fccef0337","method":"POST","url":"/api/error-report","statusCode":500,"responseTime":"375ms","userId":"anonymous","timestamp":"2025-08-09T09:36:55.113Z","responseData":{"success":false,"error":{"message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-08-09T09:36:55.114Z] [ERROR] Response sent | {"requestId":"b871a14c-ce92-4420-a80d-925fccef0337","method":"POST","url":"/api/error-report","statusCode":500,"responseTime":"376ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T09:36:55.114Z","responseData":"{\"success\":false,\"error\":{\"message\":\"E:\\\\Project App\\\\appsch\\\\views\\\\error\\\\404.ejs:156\\n    154|         </div>\\r\\n    155|         \\r\\n >> 156|         <div class=\\\"error-code\\\"><%= statusCode || 404 %></div>\\r\\n    157|         \\r\\n    158|         <h1 class=\\\"error-title\\\"><%= title || 'Page Not Found' %></h1>\\r\\n    159|         \\r\\n\\nstatusCode is not defined\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-08-09T09:36:55.569Z] [ERROR] Response sent | {"requestId":"76c68a59-3a52-4ada-b0ff-b02d805288c0","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"629ms","userId":"anonymous","timestamp":"2025-08-09T09:36:55.569Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T09:36:55.571Z] [ERROR] Response sent | {"requestId":"76c68a59-3a52-4ada-b0ff-b02d805288c0","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"631ms","userId":"anonymous","timestamp":"2025-08-09T09:36:55.571Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[]}}}}
[2025-08-09T09:36:55.576Z] [ERROR] Response sent | {"requestId":"76c68a59-3a52-4ada-b0ff-b02d805288c0","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"636ms","userId":"anonymous","timestamp":"2025-08-09T09:36:55.576Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T09:37:25.444Z] [ERROR] Response sent | {"requestId":"7b277001-9eed-412a-8166-aeba1b90d8e3","method":"GET","url":"/","statusCode":503,"responseTime":"19213ms","userId":"anonymous","timestamp":"2025-08-09T09:37:25.444Z","responseData":{"view":"error/database-error","locals":{"title":"Database Connection Error","error":"SELECT 1 - read ECONNRESET","layout":false}}}
[2025-08-09T09:37:25.448Z] [ERROR] Response sent | {"requestId":"7b277001-9eed-412a-8166-aeba1b90d8e3","method":"GET","url":"/","statusCode":503,"responseTime":"19217ms","userId":"anonymous","timestamp":"2025-08-09T09:37:25.448Z","responseData":"<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Database Connection Error</title>\r\n    <style>\r\n        * {\r\n            margin: 0;\r\n            padding: 0;\r\n            box-sizing: border-box;\r\n        }\r\n        \r\n        body {\r\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n            min-height: 100vh;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            color: #333;\r\n        }\r\n        \r\n        .error-container {\r\n            background: white;\r\n            border-radius: 20px;\r\n            padding: 40px;\r\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\r\n            max-width: 600px;\r\n            width: 90%;\r\n            text-align: center;\r\n        }\r\n        \r\n        .error-icon {\r\n            font-size: 80px;\r\n            color: #e74c3c;\r\n            margin-bottom: 20px;\r\n        }\r\n        \r\n        .error-title {\r\n            font-size: 28px;\r\n            font-weight: bold;\r\n            color: #2c3e50;\r\n            margin-bottom: 15px;\r\n        }\r\n        \r\n        .error-subtitle {\r\n            font-size: 16px;\r\n            color: #7f8c8d;\r\n            margin-bottom: 30px;\r\n            line-height: 1.6;\r\n        }\r\n        \r\n        .error-details {\r\n            background: #f8f9fa;\r\n            border: 1px solid #e9ecef;\r\n            border-radius: 10px;\r\n            padding: 20px;\r\n            margin: 20px 0;\r\n            text-align: left;\r\n        }\r\n        \r\n        .error-details h3 {\r\n            color: #495057;\r\n            margin-bottom: 10px;\r\n            font-size: 16px;\r\n        }\r\n        \r\n        .error-message {\r\n            background: #fff3cd;\r\n            border: 1px solid #ffeaa7;\r\n            border-radius: 5px;\r\n            padding: 15px;\r\n            color: #856404;\r\n            font-family: 'Courier New', monospace;\r\n            font-size: 14px;\r\n            word-break: break-all;\r\n            white-space: pre-wrap;\r\n        }\r\n        \r\n        .retry-button {\r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n            color: white;\r\n            border: none;\r\n            padding: 12px 30px;\r\n            border-radius: 25px;\r\n            font-size: 16px;\r\n            cursor: pointer;\r\n            transition: transform 0.2s ease;\r\n            margin-top: 20px;\r\n        }\r\n        \r\n        .retry-button:hover {\r\n            transform: translateY(-2px);\r\n        }\r\n        \r\n        .status-indicator {\r\n            display: inline-block;\r\n            width: 12px;\r\n            height: 12px;\r\n            border-radius: 50%;\r\n            background: #e74c3c;\r\n            margin-right: 8px;\r\n            animation: pulse 2s infinite;\r\n        }\r\n        \r\n        @keyframes pulse {\r\n            0% { opacity: 1; }\r\n            50% { opacity: 0.5; }\r\n            100% { opacity: 1; }\r\n        }\r\n        \r\n        .auto-refresh {\r\n            font-size: 14px;\r\n            color: #7f8c8d;\r\n            margin-top: 20px;\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div class=\"error-container\">\r\n        <div class=\"error-icon\">‚ö†Ô∏è</div>\r\n        <h1 class=\"error-title\">Database Connection Error</h1>\r\n        <p class=\"error-subtitle\">\r\n            Maaf, aplikasi tidak dapat terhubung ke database saat ini. \r\n            Silakan periksa konfigurasi database atau hubungi administrator.\r\n        </p>\r\n        \r\n        <div class=\"error-details\">\r\n            <h3><span class=\"status-indicator\"></span>Status Koneksi</h3>\r\n            <div class=\"error-message\">SELECT 1 - read ECONNRESET</div>\r\n        </div>\r\n        \r\n        <button class=\"retry-button\" onclick=\"location.reload()\">\r\n            üîÑ Coba Lagi\r\n        </button>\r\n        \r\n        <p class=\"auto-refresh\">\r\n            Halaman akan otomatis refresh setiap 30 detik\r\n        </p>\r\n    </div>\r\n\r\n    <script>\r\n        // Auto refresh every 30 seconds\r\n        setTimeout(() => {\r\n            location.reload();\r\n        }, 30000);\r\n        \r\n        // Manual refresh with F5\r\n        document.addEventListener('keydown', function(e) {\r\n            if (e.key === 'F5') {\r\n                location.reload();\r\n            }\r\n        });\r\n    </script>\r\n</body>\r\n</html> "}
[2025-08-09T09:37:26.244Z] [ERROR] Response sent | {"requestId":"fb2d9659-b918-41db-b789-119f709d936f","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"754ms","userId":"anonymous","timestamp":"2025-08-09T09:37:26.244Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T09:37:26.246Z] [ERROR] Response sent | {"requestId":"fb2d9659-b918-41db-b789-119f709d936f","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"756ms","userId":"anonymous","timestamp":"2025-08-09T09:37:26.246Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[]}}}}
[2025-08-09T09:37:26.250Z] [ERROR] Response sent | {"requestId":"fb2d9659-b918-41db-b789-119f709d936f","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"760ms","userId":"anonymous","timestamp":"2025-08-09T09:37:26.250Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T09:37:56.260Z] [ERROR] Response sent | {"requestId":"649d31a1-8c1e-4d28-ae39-f5433a265825","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"213ms","userId":"anonymous","timestamp":"2025-08-09T09:37:56.260Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T09:37:56.264Z] [ERROR] Response sent | {"requestId":"649d31a1-8c1e-4d28-ae39-f5433a265825","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"217ms","userId":"anonymous","timestamp":"2025-08-09T09:37:56.264Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[]}}}}
[2025-08-09T09:37:56.271Z] [ERROR] Response sent | {"requestId":"649d31a1-8c1e-4d28-ae39-f5433a265825","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"224ms","userId":"anonymous","timestamp":"2025-08-09T09:37:56.271Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T09:38:29.933Z] [ERROR] Response sent | {"requestId":"fa66e71f-2e3a-407f-85cf-6703047f8b5b","method":"GET","url":"/staff","statusCode":500,"responseTime":"822ms","userId":"anonymous","timestamp":"2025-08-09T09:38:29.933Z","responseData":{"error":"Internal server error"}}
[2025-08-09T09:38:29.934Z] [ERROR] Response sent | {"requestId":"fa66e71f-2e3a-407f-85cf-6703047f8b5b","method":"GET","url":"/staff","statusCode":500,"responseTime":"823ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T09:38:29.934Z","responseData":"{\"error\":\"Internal server error\"}"}
[2025-08-09T09:38:30.246Z] [ERROR] Response sent | {"requestId":"e28c7488-c470-4284-bd47-f230a305697c","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"211ms","userId":"anonymous","timestamp":"2025-08-09T09:38:30.246Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/favicon.ico"}}}
[2025-08-09T09:38:30.252Z] [ERROR] Response sent | {"requestId":"e28c7488-c470-4284-bd47-f230a305697c","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"217ms","userId":"anonymous","timestamp":"2025-08-09T09:38:30.252Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/favicon.ico","_locals":{"message":[]}}}}
[2025-08-09T09:38:30.260Z] [ERROR] Response sent | {"requestId":"e28c7488-c470-4284-bd47-f230a305697c","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"225ms","userId":"anonymous","timestamp":"2025-08-09T09:38:30.260Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T09:39:25.381Z] [ERROR] Response sent | {"requestId":"86945108-aa8e-4cfb-97d0-2b4ecb69c831","method":"GET","url":"/periode","statusCode":500,"responseTime":"801ms","userId":"anonymous","timestamp":"2025-08-09T09:39:25.380Z","responseData":{"error":"Internal server error"}}
[2025-08-09T09:39:25.385Z] [ERROR] Response sent | {"requestId":"86945108-aa8e-4cfb-97d0-2b4ecb69c831","method":"GET","url":"/periode","statusCode":500,"responseTime":"806ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T09:39:25.385Z","responseData":"{\"error\":\"Internal server error\"}"}
[2025-08-09T09:39:25.703Z] [ERROR] Response sent | {"requestId":"b7390a25-0820-4b50-8c9d-87e9f618cf90","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"206ms","userId":"anonymous","timestamp":"2025-08-09T09:39:25.703Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/favicon.ico"}}}
[2025-08-09T09:39:25.705Z] [ERROR] Response sent | {"requestId":"b7390a25-0820-4b50-8c9d-87e9f618cf90","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"208ms","userId":"anonymous","timestamp":"2025-08-09T09:39:25.705Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/favicon.ico","_locals":{"message":[]}}}}
[2025-08-09T09:39:25.709Z] [ERROR] Response sent | {"requestId":"b7390a25-0820-4b50-8c9d-87e9f618cf90","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"212ms","userId":"anonymous","timestamp":"2025-08-09T09:39:25.709Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T09:39:28.609Z] [ERROR] Response sent | {"requestId":"b516288d-4d79-41e6-977e-833992130cb7","method":"GET","url":"/data","statusCode":500,"responseTime":"797ms","userId":"anonymous","timestamp":"2025-08-09T09:39:28.609Z","responseData":{"error":"Internal server error"}}
[2025-08-09T09:39:28.610Z] [ERROR] Response sent | {"requestId":"b516288d-4d79-41e6-977e-833992130cb7","method":"GET","url":"/data","statusCode":500,"responseTime":"798ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T09:39:28.610Z","responseData":"{\"error\":\"Internal server error\"}"}
[2025-08-09T09:39:28.918Z] [ERROR] Response sent | {"requestId":"cf934929-a84f-46c8-a6a6-6ad989a2cc39","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"201ms","userId":"anonymous","timestamp":"2025-08-09T09:39:28.918Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/favicon.ico"}}}
[2025-08-09T09:39:28.922Z] [ERROR] Response sent | {"requestId":"cf934929-a84f-46c8-a6a6-6ad989a2cc39","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"205ms","userId":"anonymous","timestamp":"2025-08-09T09:39:28.922Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/favicon.ico","_locals":{"message":[]}}}}
[2025-08-09T09:39:28.928Z] [ERROR] Response sent | {"requestId":"cf934929-a84f-46c8-a6a6-6ad989a2cc39","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"211ms","userId":"anonymous","timestamp":"2025-08-09T09:39:28.928Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T09:40:06.578Z] [ERROR] Response sent | {"requestId":"128d6cb4-538f-4728-81f0-586e291b0d21","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"204ms","userId":"anonymous","timestamp":"2025-08-09T09:40:06.578Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T09:40:06.581Z] [ERROR] Response sent | {"requestId":"128d6cb4-538f-4728-81f0-586e291b0d21","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"206ms","userId":"anonymous","timestamp":"2025-08-09T09:40:06.580Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[]}}}}
[2025-08-09T09:40:06.584Z] [ERROR] Response sent | {"requestId":"128d6cb4-538f-4728-81f0-586e291b0d21","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"210ms","userId":"anonymous","timestamp":"2025-08-09T09:40:06.584Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T09:40:27.785Z] [ERROR] Response sent | {"requestId":"b91cf37c-ce41-4eb9-801c-7cecb4761872","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"350ms","userId":"anonymous","timestamp":"2025-08-09T09:40:27.785Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T09:40:27.789Z] [ERROR] Response sent | {"requestId":"b91cf37c-ce41-4eb9-801c-7cecb4761872","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"354ms","userId":"anonymous","timestamp":"2025-08-09T09:40:27.789Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[]}}}}
[2025-08-09T09:40:27.791Z] [ERROR] Response sent | {"requestId":"b91cf37c-ce41-4eb9-801c-7cecb4761872","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"356ms","userId":"anonymous","timestamp":"2025-08-09T09:40:27.791Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T09:40:34.140Z] [ERROR] Response sent | {"requestId":"a839ae66-eac4-4754-a970-659e1b60f531","method":"GET","url":"/staff","statusCode":500,"responseTime":"807ms","userId":"anonymous","timestamp":"2025-08-09T09:40:34.140Z","responseData":{"error":"Internal server error"}}
[2025-08-09T09:40:34.141Z] [ERROR] Response sent | {"requestId":"a839ae66-eac4-4754-a970-659e1b60f531","method":"GET","url":"/staff","statusCode":500,"responseTime":"808ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T09:40:34.141Z","responseData":"{\"error\":\"Internal server error\"}"}
[2025-08-09T09:40:34.389Z] [ERROR] Response sent | {"requestId":"9bdf4359-ff82-431f-83be-1760d5f744da","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"217ms","userId":"anonymous","timestamp":"2025-08-09T09:40:34.389Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T09:40:34.392Z] [ERROR] Response sent | {"requestId":"9bdf4359-ff82-431f-83be-1760d5f744da","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"220ms","userId":"anonymous","timestamp":"2025-08-09T09:40:34.392Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[]}}}}
[2025-08-09T09:40:34.402Z] [ERROR] Response sent | {"requestId":"9bdf4359-ff82-431f-83be-1760d5f744da","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"230ms","userId":"anonymous","timestamp":"2025-08-09T09:40:34.402Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T09:41:37.709Z] [ERROR] Response sent | {"requestId":"ac16c70e-6231-406d-9487-3cd508359312","method":"GET","url":"/staff","statusCode":500,"responseTime":"819ms","userId":"anonymous","timestamp":"2025-08-09T09:41:37.709Z","responseData":{"error":"Internal server error"}}
[2025-08-09T09:41:37.710Z] [ERROR] Response sent | {"requestId":"ac16c70e-6231-406d-9487-3cd508359312","method":"GET","url":"/staff","statusCode":500,"responseTime":"820ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T09:41:37.710Z","responseData":"{\"error\":\"Internal server error\"}"}
[2025-08-09T09:44:45.436Z] [ERROR] Response sent | {"requestId":"74602bf4-b4ac-4ea2-b028-949b7583c78e","method":"GET","url":"/staff","statusCode":500,"responseTime":"826ms","userId":"anonymous","timestamp":"2025-08-09T09:44:45.435Z","responseData":{"error":"Internal server error"}}
[2025-08-09T09:44:45.438Z] [ERROR] Response sent | {"requestId":"74602bf4-b4ac-4ea2-b028-949b7583c78e","method":"GET","url":"/staff","statusCode":500,"responseTime":"829ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T09:44:45.438Z","responseData":"{\"error\":\"Internal server error\"}"}
[2025-08-09T09:50:24.635Z] [ERROR] Response sent | {"requestId":"ef7055e0-4869-41d3-8f00-6f876d22f396","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"198ms","userId":"anonymous","timestamp":"2025-08-09T09:50:24.635Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T09:50:24.637Z] [ERROR] Response sent | {"requestId":"ef7055e0-4869-41d3-8f00-6f876d22f396","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"200ms","userId":"anonymous","timestamp":"2025-08-09T09:50:24.637Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[]}}}}
[2025-08-09T09:50:24.640Z] [ERROR] Response sent | {"requestId":"ef7055e0-4869-41d3-8f00-6f876d22f396","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"202ms","userId":"anonymous","timestamp":"2025-08-09T09:50:24.640Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T09:50:40.769Z] [ERROR] Response sent | {"requestId":"4b84c69f-9326-471a-815d-842dff85f3a2","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"204ms","userId":"anonymous","timestamp":"2025-08-09T09:50:40.769Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T09:50:40.773Z] [ERROR] Response sent | {"requestId":"4b84c69f-9326-471a-815d-842dff85f3a2","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"208ms","userId":"anonymous","timestamp":"2025-08-09T09:50:40.773Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[]}}}}
[2025-08-09T09:50:40.779Z] [ERROR] Response sent | {"requestId":"4b84c69f-9326-471a-815d-842dff85f3a2","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"214ms","userId":"anonymous","timestamp":"2025-08-09T09:50:40.779Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T09:51:04.752Z] [ERROR] Response sent | {"requestId":"d12cc225-bfdd-4c93-898c-767030a36ed4","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"398ms","userId":"anonymous","timestamp":"2025-08-09T09:51:04.751Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T09:51:04.753Z] [ERROR] Response sent | {"requestId":"d12cc225-bfdd-4c93-898c-767030a36ed4","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"400ms","userId":"anonymous","timestamp":"2025-08-09T09:51:04.753Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[]}}}}
[2025-08-09T09:51:04.755Z] [ERROR] Response sent | {"requestId":"d12cc225-bfdd-4c93-898c-767030a36ed4","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"402ms","userId":"anonymous","timestamp":"2025-08-09T09:51:04.755Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T09:58:42.983Z] [ERROR] Response sent | {"requestId":"0ae576b7-1ad6-4d5c-aa46-00c32ee0f6bd","method":"POST","url":"/auth/login","statusCode":500,"responseTime":"5ms","userId":"anonymous","timestamp":"2025-08-09T09:58:42.983Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Cannot read properties of undefined (reading '_token')","statusCode":500,"showDetails":true,"req":"/auth/login"}}}
[2025-08-09T09:58:42.987Z] [ERROR] Response sent | {"requestId":"0ae576b7-1ad6-4d5c-aa46-00c32ee0f6bd","method":"POST","url":"/auth/login","statusCode":500,"responseTime":"9ms","userId":"anonymous","timestamp":"2025-08-09T09:58:42.987Z","responseData":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of undefined (reading &#39;_token&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>"}
[2025-08-09T09:58:43.056Z] [ERROR] Response sent | {"requestId":"0c93b519-ee28-4563-b006-816bf17d96af","method":"POST","url":"/api/error-report","statusCode":500,"responseTime":"3ms","userId":"anonymous","timestamp":"2025-08-09T09:58:43.056Z","responseData":{"success":false,"error":{"message":"Cannot read properties of undefined (reading '_token')","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-08-09T09:58:43.061Z] [ERROR] Response sent | {"requestId":"0c93b519-ee28-4563-b006-816bf17d96af","method":"POST","url":"/api/error-report","statusCode":500,"responseTime":"7ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T09:58:43.060Z","responseData":"{\"success\":false,\"error\":{\"message\":\"Cannot read properties of undefined (reading '_token')\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-08-09T09:58:43.361Z] [ERROR] Response sent | {"requestId":"b248ab65-991d-4b36-ac77-ca968aaeda2f","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"204ms","userId":"anonymous","timestamp":"2025-08-09T09:58:43.361Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/favicon.ico"}}}
[2025-08-09T09:58:43.368Z] [ERROR] Response sent | {"requestId":"b248ab65-991d-4b36-ac77-ca968aaeda2f","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"211ms","userId":"anonymous","timestamp":"2025-08-09T09:58:43.368Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/favicon.ico","_locals":{"message":[],"csrfToken":"0a7452fc53eabbaedebfd019e191ca582a50ec557f70171318ea2ebdd254b147"}}}}
[2025-08-09T09:58:43.373Z] [ERROR] Response sent | {"requestId":"b248ab65-991d-4b36-ac77-ca968aaeda2f","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"216ms","userId":"anonymous","timestamp":"2025-08-09T09:58:43.373Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T09:59:43.506Z] [ERROR] Response sent | {"requestId":"32610fb6-21b2-43e8-b975-f830a645d028","method":"POST","url":"/auth/login","statusCode":500,"responseTime":"2ms","userId":"anonymous","timestamp":"2025-08-09T09:59:43.506Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Cannot read properties of undefined (reading '_token')","statusCode":500,"showDetails":true,"req":"/auth/login"}}}
[2025-08-09T09:59:43.508Z] [ERROR] Response sent | {"requestId":"32610fb6-21b2-43e8-b975-f830a645d028","method":"POST","url":"/auth/login","statusCode":500,"responseTime":"4ms","userId":"anonymous","timestamp":"2025-08-09T09:59:43.508Z","responseData":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of undefined (reading &#39;_token&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>"}
[2025-08-09T09:59:43.709Z] [ERROR] Response sent | {"requestId":"bca2af27-de56-4382-9e1b-586434d54447","method":"POST","url":"/api/error-report","statusCode":500,"responseTime":"2ms","userId":"anonymous","timestamp":"2025-08-09T09:59:43.709Z","responseData":{"success":false,"error":{"message":"Cannot read properties of undefined (reading '_token')","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-08-09T09:59:43.710Z] [ERROR] Response sent | {"requestId":"bca2af27-de56-4382-9e1b-586434d54447","method":"POST","url":"/api/error-report","statusCode":500,"responseTime":"3ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T09:59:43.710Z","responseData":"{\"success\":false,\"error\":{\"message\":\"Cannot read properties of undefined (reading '_token')\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-08-09T09:59:43.933Z] [ERROR] Response sent | {"requestId":"4a757130-6637-4432-ba50-921b5c6ee40f","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"206ms","userId":"anonymous","timestamp":"2025-08-09T09:59:43.933Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/favicon.ico"}}}
[2025-08-09T09:59:43.938Z] [ERROR] Response sent | {"requestId":"4a757130-6637-4432-ba50-921b5c6ee40f","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"211ms","userId":"anonymous","timestamp":"2025-08-09T09:59:43.938Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/favicon.ico","_locals":{"message":[],"csrfToken":"0a7452fc53eabbaedebfd019e191ca582a50ec557f70171318ea2ebdd254b147"}}}}
[2025-08-09T09:59:43.945Z] [ERROR] Response sent | {"requestId":"4a757130-6637-4432-ba50-921b5c6ee40f","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"218ms","userId":"anonymous","timestamp":"2025-08-09T09:59:43.945Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:00:26.960Z] [ERROR] Response sent | {"requestId":"406ce606-61f8-4ef5-a0bd-f193d68e7a40","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"203ms","userId":"anonymous","timestamp":"2025-08-09T10:00:26.960Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/favicon.ico"}}}
[2025-08-09T10:00:26.969Z] [ERROR] Response sent | {"requestId":"406ce606-61f8-4ef5-a0bd-f193d68e7a40","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"212ms","userId":"anonymous","timestamp":"2025-08-09T10:00:26.969Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/favicon.ico","_locals":{"message":[],"csrfToken":"38d79ed306d7e9a9eca66c90ebf99fc8af7622c6444b264daf4c4f224b7512d9"}}}}
[2025-08-09T10:00:26.977Z] [ERROR] Response sent | {"requestId":"406ce606-61f8-4ef5-a0bd-f193d68e7a40","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"219ms","userId":"anonymous","timestamp":"2025-08-09T10:00:26.977Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:03:07.025Z] [ERROR] Response sent | {"requestId":"8b8d45ca-d02e-438e-aed2-2f55629b733e","method":"GET","url":"/updateStaff/88a4240d-52aa-11f0-a486-970a6c01c1c4","statusCode":500,"responseTime":"220ms","userId":"anonymous","timestamp":"2025-08-09T10:03:07.024Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/updateStaff/88a4240d-52aa-11f0-a486-970a6c01c1c4"}}}
[2025-08-09T10:03:07.029Z] [ERROR] Response sent | {"requestId":"8b8d45ca-d02e-438e-aed2-2f55629b733e","method":"GET","url":"/updateStaff/88a4240d-52aa-11f0-a486-970a6c01c1c4","statusCode":500,"responseTime":"225ms","userId":"anonymous","timestamp":"2025-08-09T10:03:07.029Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/updateStaff/88a4240d-52aa-11f0-a486-970a6c01c1c4","_locals":{"message":[],"csrfToken":"fa0f962a70876ce208697a298ac72ad2a1454cee96e4e85e9c1fc50954e5d089"}}}}
[2025-08-09T10:03:07.038Z] [ERROR] Response sent | {"requestId":"8b8d45ca-d02e-438e-aed2-2f55629b733e","method":"GET","url":"/updateStaff/88a4240d-52aa-11f0-a486-970a6c01c1c4","statusCode":500,"responseTime":"234ms","userId":"anonymous","timestamp":"2025-08-09T10:03:07.038Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:24:47.312Z] [FATAL] Uncaught Exception | {"message":"Unexpected identifier 'task'","stack":"E:\\Project App\\appsch\\controllers\\taskController.js:16\n    task: ResponseFormatter.asyncHandler(async (req, res) => {\n    \n\nSyntaxError: Unexpected identifier 'task'\n    at wrapSafe (node:internal/modules/cjs/loader:1666:18)\n    at Module._compile (node:internal/modules/cjs/loader:1708:20)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Function._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.require (node:internal/modules/cjs/loader:1491:12)\n    at require (node:internal/modules/helpers:135:16)\n    at Object.<anonymous> (E:\\Project App\\appsch\\routes\\web.js:8:24)"}
[2025-08-09T10:25:40.644Z] [FATAL] Uncaught Exception | {"message":"Unexpected token ','","stack":"E:\\Project App\\appsch\\controllers\\taskController.js:34\n    }),\n      ^\n\nSyntaxError: Unexpected token ','\n    at wrapSafe (node:internal/modules/cjs/loader:1666:18)\n    at Module._compile (node:internal/modules/cjs/loader:1708:20)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Function._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.require (node:internal/modules/cjs/loader:1491:12)\n    at require (node:internal/modules/helpers:135:16)\n    at Object.<anonymous> (E:\\Project App\\appsch\\routes\\web.js:8:24)"}
[2025-08-09T10:26:38.191Z] [ERROR] Response sent | {"requestId":"e2ba5ac3-dc3d-415d-8980-3a8030f6e0ba","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"201ms","userId":"anonymous","timestamp":"2025-08-09T10:26:38.191Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T10:26:38.193Z] [ERROR] Response sent | {"requestId":"e2ba5ac3-dc3d-415d-8980-3a8030f6e0ba","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"203ms","userId":"anonymous","timestamp":"2025-08-09T10:26:38.193Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"ee6e2df2ac71509372be7653962d3a2c6787c66e1a9e6b78bb0323454756d457"}}}}
[2025-08-09T10:26:38.196Z] [ERROR] Response sent | {"requestId":"e2ba5ac3-dc3d-415d-8980-3a8030f6e0ba","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"206ms","userId":"anonymous","timestamp":"2025-08-09T10:26:38.196Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:26:59.975Z] [ERROR] Response sent | {"requestId":"1cfa825d-4e60-46ed-a097-ff72d9550997","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"212ms","userId":"anonymous","timestamp":"2025-08-09T10:26:59.975Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T10:26:59.979Z] [ERROR] Response sent | {"requestId":"1cfa825d-4e60-46ed-a097-ff72d9550997","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"216ms","userId":"anonymous","timestamp":"2025-08-09T10:26:59.979Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         </div>\r\n    155|         \r\n >> 156|         <div class=\"error-code\"><%= statusCode || 404 %></div>\r\n    157|         \r\n    158|         <h1 class=\"error-title\"><%= title || 'Page Not Found' %></h1>\r\n    159|         \r\n\nstatusCode is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"2445375d80b4eb4edf8f55d497079feca866ce995abb6959951e3c4a65db6154"}}}}
[2025-08-09T10:26:59.984Z] [ERROR] Response sent | {"requestId":"1cfa825d-4e60-46ed-a097-ff72d9550997","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"221ms","userId":"anonymous","timestamp":"2025-08-09T10:26:59.984Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:156\n    154|         &lt;/div&gt;\r\n    155|         \r\n &gt;&gt; 156|         &lt;div class=&#34;error-code&#34;&gt;&lt;%= statusCode || 404 %&gt;&lt;/div&gt;\r\n    157|         \r\n    158|         &lt;h1 class=&#34;error-title&#34;&gt;&lt;%= title || &#39;Page Not Found&#39; %&gt;&lt;/h1&gt;\r\n    159|         \r\n\nstatusCode is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:27:21.730Z] [ERROR] Response sent | {"requestId":"1f7992e6-e993-4d84-a3cf-5b5e263e080d","method":"GET","url":"/staff","statusCode":500,"responseTime":"842ms","userId":"anonymous","timestamp":"2025-08-09T10:27:21.730Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Failed to fetch staff: Model is not defined","statusCode":500,"showDetails":true,"req":"/staff"}}}
[2025-08-09T10:27:21.743Z] [ERROR] Response sent | {"requestId":"1f7992e6-e993-4d84-a3cf-5b5e263e080d","method":"GET","url":"/staff","statusCode":500,"responseTime":"855ms","userId":"anonymous","timestamp":"2025-08-09T10:27:21.743Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Failed to fetch staff: Model is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"Failed to fetch staff: Model is not defined","statusCode":500,"showDetails":true,"req":"/staff","_locals":{"message":[],"csrfToken":"011d94953ce8fdd5642c89f71a3992ac2db73d9c8e8b398e7476d097f4704ff6"}}}}
[2025-08-09T10:27:21.759Z] [ERROR] Response sent | {"requestId":"1f7992e6-e993-4d84-a3cf-5b5e263e080d","method":"GET","url":"/staff","statusCode":500,"responseTime":"871ms","userId":"anonymous","timestamp":"2025-08-09T10:27:21.759Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-primary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Failed to fetch staff: Model is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:28:23.362Z] [ERROR] Response sent | {"requestId":"fe719ce8-787c-41c9-aafd-8207aab45511","method":"GET","url":"/staff","statusCode":500,"responseTime":"836ms","userId":"anonymous","timestamp":"2025-08-09T10:28:23.362Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Failed to fetch staff: Model is not defined","statusCode":500,"showDetails":true,"req":"/staff"}}}
[2025-08-09T10:28:23.364Z] [ERROR] Response sent | {"requestId":"fe719ce8-787c-41c9-aafd-8207aab45511","method":"GET","url":"/staff","statusCode":500,"responseTime":"838ms","userId":"anonymous","timestamp":"2025-08-09T10:28:23.364Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Failed to fetch staff: Model is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"Failed to fetch staff: Model is not defined","statusCode":500,"showDetails":true,"req":"/staff","_locals":{"message":[],"csrfToken":"011d94953ce8fdd5642c89f71a3992ac2db73d9c8e8b398e7476d097f4704ff6"}}}}
[2025-08-09T10:28:23.372Z] [ERROR] Response sent | {"requestId":"fe719ce8-787c-41c9-aafd-8207aab45511","method":"GET","url":"/staff","statusCode":500,"responseTime":"846ms","userId":"anonymous","timestamp":"2025-08-09T10:28:23.372Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-primary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Failed to fetch staff: Model is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:29:44.334Z] [ERROR] Response sent | {"requestId":"b2ebdd09-4d85-4165-bd24-04a823bd917d","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"208ms","userId":"anonymous","timestamp":"2025-08-09T10:29:44.334Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T10:29:44.339Z] [ERROR] Response sent | {"requestId":"b2ebdd09-4d85-4165-bd24-04a823bd917d","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"213ms","userId":"anonymous","timestamp":"2025-08-09T10:29:44.339Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"ea3848861a6ddf968e346f31bee33d3cea71f8a08696bec08c94435bcd5b9138"}}}}
[2025-08-09T10:29:44.344Z] [ERROR] Response sent | {"requestId":"b2ebdd09-4d85-4165-bd24-04a823bd917d","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"218ms","userId":"anonymous","timestamp":"2025-08-09T10:29:44.344Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:29:58.753Z] [ERROR] Response sent | {"requestId":"931fb7a9-5a63-4753-b426-a5f21ddc3467","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"335ms","userId":"anonymous","timestamp":"2025-08-09T10:29:58.753Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T10:29:58.756Z] [ERROR] Response sent | {"requestId":"931fb7a9-5a63-4753-b426-a5f21ddc3467","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"338ms","userId":"anonymous","timestamp":"2025-08-09T10:29:58.756Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"f959a2e340fd16b7b0b0a87a4ea13a6393fbf46e96f1129cf989095c7e1decab"}}}}
[2025-08-09T10:29:58.816Z] [ERROR] Response sent | {"requestId":"931fb7a9-5a63-4753-b426-a5f21ddc3467","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"398ms","userId":"anonymous","timestamp":"2025-08-09T10:29:58.816Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:30:16.774Z] [ERROR] Response sent | {"requestId":"8780163b-c102-4920-a4a7-dbe7a6d28cf9","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"198ms","userId":"anonymous","timestamp":"2025-08-09T10:30:16.774Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T10:30:16.776Z] [ERROR] Response sent | {"requestId":"8780163b-c102-4920-a4a7-dbe7a6d28cf9","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"200ms","userId":"anonymous","timestamp":"2025-08-09T10:30:16.776Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"f959a2e340fd16b7b0b0a87a4ea13a6393fbf46e96f1129cf989095c7e1decab"}}}}
[2025-08-09T10:30:16.779Z] [ERROR] Response sent | {"requestId":"8780163b-c102-4920-a4a7-dbe7a6d28cf9","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"203ms","userId":"anonymous","timestamp":"2025-08-09T10:30:16.779Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:38:31.623Z] [ERROR] Failed to get tasks by staff ID | {"error":"this.validationService.validateUUID is not a function","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{}}
[2025-08-09T10:38:31.625Z] [FATAL] Unhandled Promise Rejection | {"reason":"this.validationService.validateUUID is not a function","stack":"TypeError: this.validationService.validateUUID is not a function\n    at TaskService.getTasksByStaffId (E:\\Project App\\appsch\\services\\TaskService.js:231:36)\n    at E:\\Project App\\appsch\\controllers\\taskController.js:100:46\n    at TaskController.getTasksByStaffId (E:\\Project App\\appsch\\utils\\ResponseFormatter.js:220:29)\n    at getTasksByStaffId (E:\\Project App\\appsch\\controllers\\taskController.js:145:53)\n    at Layer.handleRequest (E:\\Project App\\appsch\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\Project App\\appsch\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (E:\\Project App\\appsch\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (E:\\Project App\\appsch\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (E:\\Project App\\appsch\\node_modules\\router\\lib\\layer.js:152:17)\n    at E:\\Project App\\appsch\\node_modules\\router\\index.js:295:15","promise":{}}
[2025-08-09T10:39:50.130Z] [ERROR] Response sent | {"requestId":"c410f23a-1664-40ef-9ddf-ecc3d605a7fb","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"232ms","userId":"anonymous","timestamp":"2025-08-09T10:39:50.129Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/favicon.ico"}}}
[2025-08-09T10:39:50.139Z] [ERROR] Response sent | {"requestId":"c410f23a-1664-40ef-9ddf-ecc3d605a7fb","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"242ms","userId":"anonymous","timestamp":"2025-08-09T10:39:50.139Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/favicon.ico","_locals":{"message":[],"csrfToken":"a0e81223cad54c6042faf0f801d3b95bffe62dec20a37f55f682bf6d2cfb58dd"}}}}
[2025-08-09T10:39:50.152Z] [ERROR] Response sent | {"requestId":"c410f23a-1664-40ef-9ddf-ecc3d605a7fb","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"254ms","userId":"anonymous","timestamp":"2025-08-09T10:39:50.152Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:39:54.747Z] [ERROR] Response sent | {"requestId":"eed9a585-1dca-4e70-8134-f894dbcc1082","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"217ms","userId":"anonymous","timestamp":"2025-08-09T10:39:54.746Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/favicon.ico"}}}
[2025-08-09T10:39:54.753Z] [ERROR] Response sent | {"requestId":"eed9a585-1dca-4e70-8134-f894dbcc1082","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"224ms","userId":"anonymous","timestamp":"2025-08-09T10:39:54.753Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/favicon.ico","_locals":{"message":[],"csrfToken":"61cb74e89431f2f7341ca5617deb95de54e9fd28f71d59881c626e4e05f1a449"}}}}
[2025-08-09T10:39:54.761Z] [ERROR] Response sent | {"requestId":"eed9a585-1dca-4e70-8134-f894dbcc1082","method":"GET","url":"/favicon.ico","statusCode":500,"responseTime":"232ms","userId":"anonymous","timestamp":"2025-08-09T10:39:54.761Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:40:03.752Z] [ERROR] Failed to get records by staff ID | {"error":"this.validationService.validateUUID is not a function","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T10:40:03.754Z] [ERROR] Response sent | {"requestId":"51d73ed5-9e64-4cc7-af1f-12ff679d2815","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"201ms","userId":"anonymous","timestamp":"2025-08-09T10:40:03.754Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"this.validationService.validateUUID is not a function","statusCode":500,"showDetails":true,"req":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6"}}}
[2025-08-09T10:40:03.756Z] [ERROR] Response sent | {"requestId":"51d73ed5-9e64-4cc7-af1f-12ff679d2815","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"203ms","userId":"anonymous","timestamp":"2025-08-09T10:40:03.756Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            this.validationService.validateUUID is not a function\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"this.validationService.validateUUID is not a function","statusCode":500,"showDetails":true,"req":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","_locals":{"message":[],"csrfToken":"61cb74e89431f2f7341ca5617deb95de54e9fd28f71d59881c626e4e05f1a449"}}}}
[2025-08-09T10:40:03.759Z] [ERROR] Response sent | {"requestId":"51d73ed5-9e64-4cc7-af1f-12ff679d2815","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"206ms","userId":"anonymous","timestamp":"2025-08-09T10:40:03.759Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            this.validationService.validateUUID is not a function\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:40:03.763Z] [ERROR] Failed to get tasks by staff ID | {"error":"this.validationService.validateUUID is not a function","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{}}
[2025-08-09T10:40:03.764Z] [FATAL] Unhandled Promise Rejection | {"reason":"this.validationService.validateUUID is not a function","stack":"TypeError: this.validationService.validateUUID is not a function\n    at TaskService.getTasksByStaffId (E:\\Project App\\appsch\\services\\TaskService.js:231:36)\n    at E:\\Project App\\appsch\\controllers\\taskController.js:100:46\n    at TaskController.getTasksByStaffId (E:\\Project App\\appsch\\utils\\ResponseFormatter.js:220:29)\n    at getTasksByStaffId (E:\\Project App\\appsch\\controllers\\taskController.js:145:53)\n    at Layer.handleRequest (E:\\Project App\\appsch\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\Project App\\appsch\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (E:\\Project App\\appsch\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (E:\\Project App\\appsch\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (E:\\Project App\\appsch\\node_modules\\router\\lib\\layer.js:152:17)\n    at E:\\Project App\\appsch\\node_modules\\router\\index.js:295:15","promise":{}}
[2025-08-09T10:41:03.706Z] [ERROR] Response sent | {"requestId":"0de2a1f8-af7b-46ad-ba9e-3f67e5db1d33","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"201ms","userId":"anonymous","timestamp":"2025-08-09T10:41:03.706Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T10:41:03.709Z] [ERROR] Response sent | {"requestId":"0de2a1f8-af7b-46ad-ba9e-3f67e5db1d33","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"204ms","userId":"anonymous","timestamp":"2025-08-09T10:41:03.709Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"3a3d979aa3511fb081fef47a925527d363f7ccfda9b053e1fa44c74b3f304d63"}}}}
[2025-08-09T10:41:03.715Z] [ERROR] Response sent | {"requestId":"0de2a1f8-af7b-46ad-ba9e-3f67e5db1d33","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"210ms","userId":"anonymous","timestamp":"2025-08-09T10:41:03.715Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:41:32.672Z] [ERROR] Response sent | {"requestId":"99fb4ff9-e489-46ae-8603-a012a69fafb2","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"338ms","userId":"anonymous","timestamp":"2025-08-09T10:41:32.672Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T10:41:32.674Z] [ERROR] Response sent | {"requestId":"99fb4ff9-e489-46ae-8603-a012a69fafb2","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"340ms","userId":"anonymous","timestamp":"2025-08-09T10:41:32.674Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"1b162cfe670c8017be16506a8dbdb3ca6c6b01b864bed432649f49e9c559eb18"}}}}
[2025-08-09T10:41:32.678Z] [ERROR] Response sent | {"requestId":"99fb4ff9-e489-46ae-8603-a012a69fafb2","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"344ms","userId":"anonymous","timestamp":"2025-08-09T10:41:32.678Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:41:48.837Z] [ERROR] Response sent | {"requestId":"2950d116-5642-4fc2-879e-1a510932c8eb","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"209ms","userId":"anonymous","timestamp":"2025-08-09T10:41:48.837Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T10:41:48.838Z] [ERROR] Response sent | {"requestId":"2950d116-5642-4fc2-879e-1a510932c8eb","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"210ms","userId":"anonymous","timestamp":"2025-08-09T10:41:48.838Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"1b162cfe670c8017be16506a8dbdb3ca6c6b01b864bed432649f49e9c559eb18"}}}}
[2025-08-09T10:41:48.840Z] [ERROR] Response sent | {"requestId":"2950d116-5642-4fc2-879e-1a510932c8eb","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"212ms","userId":"anonymous","timestamp":"2025-08-09T10:41:48.840Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:42:15.204Z] [ERROR] Failed to get tasks by staff ID | {"error":"this.validationService.validateUUID is not a function","staffId":"88a42cbc-52aa-11f0-a486-970a6c01c1c4","options":{}}
[2025-08-09T10:42:15.205Z] [FATAL] Unhandled Promise Rejection | {"reason":"this.validationService.validateUUID is not a function","stack":"TypeError: this.validationService.validateUUID is not a function\n    at TaskService.getTasksByStaffId (E:\\Project App\\appsch\\services\\TaskService.js:231:36)\n    at E:\\Project App\\appsch\\controllers\\taskController.js:100:46\n    at TaskController.getTasksByStaffId (E:\\Project App\\appsch\\utils\\ResponseFormatter.js:220:29)\n    at getTasksByStaffId (E:\\Project App\\appsch\\controllers\\taskController.js:145:53)\n    at Layer.handleRequest (E:\\Project App\\appsch\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\Project App\\appsch\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (E:\\Project App\\appsch\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (E:\\Project App\\appsch\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (E:\\Project App\\appsch\\node_modules\\router\\lib\\layer.js:152:17)\n    at E:\\Project App\\appsch\\node_modules\\router\\index.js:295:15","promise":{}}
[2025-08-09T10:43:18.032Z] [ERROR] Failed to find periods with relations | {"error":"unknown relation \"staff\" in an eager expression","options":{"orderBy":{"column":"start_date","direction":"desc"},"includeRelations":true}}
[2025-08-09T10:43:18.034Z] [ERROR] Failed to get all periods | {"error":"unknown relation \"staff\" in an eager expression","filters":{"includeRelations":true,"orderBy":{"column":"created_at","direction":"asc"}}}
[2025-08-09T10:43:25.286Z] [ERROR] Failed to get tasks by staff ID | {"error":"this.validationService.validateUUID is not a function","staffId":"88a4240d-52aa-11f0-a486-970a6c01c1c4","options":{}}
[2025-08-09T10:43:25.291Z] [FATAL] Unhandled Promise Rejection | {"reason":"this.validationService.validateUUID is not a function","stack":"TypeError: this.validationService.validateUUID is not a function\n    at TaskService.getTasksByStaffId (E:\\Project App\\appsch\\services\\TaskService.js:231:36)\n    at E:\\Project App\\appsch\\controllers\\taskController.js:100:46\n    at TaskController.getTasksByStaffId (E:\\Project App\\appsch\\utils\\ResponseFormatter.js:220:29)\n    at getTasksByStaffId (E:\\Project App\\appsch\\controllers\\taskController.js:145:53)\n    at Layer.handleRequest (E:\\Project App\\appsch\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\Project App\\appsch\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (E:\\Project App\\appsch\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (E:\\Project App\\appsch\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (E:\\Project App\\appsch\\node_modules\\router\\lib\\layer.js:152:17)\n    at E:\\Project App\\appsch\\node_modules\\router\\index.js:295:15","promise":{}}
[2025-08-09T10:47:12.824Z] [ERROR] Response sent | {"requestId":"b31316e8-8fca-4f91-83d1-33f52819a6e6","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"210ms","userId":"anonymous","timestamp":"2025-08-09T10:47:12.824Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T10:47:12.828Z] [ERROR] Response sent | {"requestId":"b31316e8-8fca-4f91-83d1-33f52819a6e6","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"214ms","userId":"anonymous","timestamp":"2025-08-09T10:47:12.828Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"e0e49f8760b105a3638f6909279340a09385b841415411b4b8afe94c1ac1d5d2"}}}}
[2025-08-09T10:47:12.835Z] [ERROR] Response sent | {"requestId":"b31316e8-8fca-4f91-83d1-33f52819a6e6","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"221ms","userId":"anonymous","timestamp":"2025-08-09T10:47:12.835Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:47:16.695Z] [ERROR] Response sent | {"requestId":"120e85ca-7b17-45d6-951f-b2837740f9d7","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"205ms","userId":"anonymous","timestamp":"2025-08-09T10:47:16.695Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T10:47:16.698Z] [ERROR] Response sent | {"requestId":"120e85ca-7b17-45d6-951f-b2837740f9d7","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"208ms","userId":"anonymous","timestamp":"2025-08-09T10:47:16.698Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"e0e49f8760b105a3638f6909279340a09385b841415411b4b8afe94c1ac1d5d2"}}}}
[2025-08-09T10:47:16.703Z] [ERROR] Response sent | {"requestId":"120e85ca-7b17-45d6-951f-b2837740f9d7","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"213ms","userId":"anonymous","timestamp":"2025-08-09T10:47:16.703Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:47:36.011Z] [ERROR] Response sent | {"requestId":"53fb5c70-16b4-4ba8-88cb-a20a15ac9293","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"353ms","userId":"anonymous","timestamp":"2025-08-09T10:47:36.011Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T10:47:36.013Z] [ERROR] Response sent | {"requestId":"53fb5c70-16b4-4ba8-88cb-a20a15ac9293","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"355ms","userId":"anonymous","timestamp":"2025-08-09T10:47:36.013Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"a36e66ca0fb62b54188ba3f7ca1253d56e1ead75beb62042bbdc787d756a5461"}}}}
[2025-08-09T10:47:36.015Z] [ERROR] Response sent | {"requestId":"53fb5c70-16b4-4ba8-88cb-a20a15ac9293","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"357ms","userId":"anonymous","timestamp":"2025-08-09T10:47:36.015Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:47:54.240Z] [ERROR] Failed to get tasks by staff ID | {"error":"select `Task`.* from `Task` where `staff_id` = '88a42cbc-52aa-11f0-a486-970a6c01c1c4' order by `created_at` desc - Unknown column 'created_at' in 'order clause'","staffId":"88a42cbc-52aa-11f0-a486-970a6c01c1c4","options":{}}
[2025-08-09T10:47:54.242Z] [FATAL] Unhandled Promise Rejection | {"reason":"select `Task`.* from `Task` where `staff_id` = '88a42cbc-52aa-11f0-a486-970a6c01c1c4' order by `created_at` desc - Unknown column 'created_at' in 'order clause'","stack":"DBError: select `Task`.* from `Task` where `staff_id` = '88a42cbc-52aa-11f0-a486-970a6c01c1c4' order by `created_at` desc - Unknown column 'created_at' in 'order clause'\n    at wrapError (E:\\Project App\\appsch\\node_modules\\db-errors\\lib\\dbErrors.js:19:14)\n    at handleExecuteError (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\QueryBuilder.js:1140:32)\n    at QueryBuilder.execute (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\QueryBuilder.js:449:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TaskRepository.findByStaffId (E:\\Project App\\appsch\\repositories\\TaskRepository.js:69:16)\n    at async TaskService.getTasksByStaffId (E:\\Project App\\appsch\\services\\TaskService.js:234:27)\n    at async E:\\Project App\\appsch\\controllers\\taskController.js:100:23","promise":{}}
[2025-08-09T10:49:06.357Z] [ERROR] Failed to get tasks by staff ID | {"error":"select `Task`.* from `Task` where `staff_id` = '96efb5fc-666c-4f2d-b34d-cb06d0244bb6' order by `created_at` desc - Unknown column 'created_at' in 'order clause'","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{}}
[2025-08-09T10:49:06.359Z] [FATAL] Unhandled Promise Rejection | {"reason":"select `Task`.* from `Task` where `staff_id` = '96efb5fc-666c-4f2d-b34d-cb06d0244bb6' order by `created_at` desc - Unknown column 'created_at' in 'order clause'","stack":"DBError: select `Task`.* from `Task` where `staff_id` = '96efb5fc-666c-4f2d-b34d-cb06d0244bb6' order by `created_at` desc - Unknown column 'created_at' in 'order clause'\n    at wrapError (E:\\Project App\\appsch\\node_modules\\db-errors\\lib\\dbErrors.js:19:14)\n    at handleExecuteError (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\QueryBuilder.js:1140:32)\n    at QueryBuilder.execute (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\QueryBuilder.js:449:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TaskRepository.findByStaffId (E:\\Project App\\appsch\\repositories\\TaskRepository.js:69:16)\n    at async TaskService.getTasksByStaffId (E:\\Project App\\appsch\\services\\TaskService.js:234:27)\n    at async E:\\Project App\\appsch\\controllers\\taskController.js:100:23","promise":{}}
[2025-08-09T10:51:48.855Z] [ERROR] Response sent | {"requestId":"13062304-196e-40f7-b12e-72cc18a88d24","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"203ms","userId":"anonymous","timestamp":"2025-08-09T10:51:48.855Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T10:51:48.857Z] [ERROR] Response sent | {"requestId":"13062304-196e-40f7-b12e-72cc18a88d24","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"205ms","userId":"anonymous","timestamp":"2025-08-09T10:51:48.857Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"3b30c51c93194830f7dee8b69959be31b3dd663b73b964c7e7f396a3ce56fe67"}}}}
[2025-08-09T10:51:48.862Z] [ERROR] Response sent | {"requestId":"13062304-196e-40f7-b12e-72cc18a88d24","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"210ms","userId":"anonymous","timestamp":"2025-08-09T10:51:48.862Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:51:54.590Z] [ERROR] Response sent | {"requestId":"ea6608ce-614e-43e6-8a75-a40d7a87c8f8","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"200ms","userId":"anonymous","timestamp":"2025-08-09T10:51:54.590Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T10:51:54.593Z] [ERROR] Response sent | {"requestId":"ea6608ce-614e-43e6-8a75-a40d7a87c8f8","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"203ms","userId":"anonymous","timestamp":"2025-08-09T10:51:54.593Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"3b30c51c93194830f7dee8b69959be31b3dd663b73b964c7e7f396a3ce56fe67"}}}}
[2025-08-09T10:51:54.596Z] [ERROR] Response sent | {"requestId":"ea6608ce-614e-43e6-8a75-a40d7a87c8f8","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"206ms","userId":"anonymous","timestamp":"2025-08-09T10:51:54.596Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:52:12.698Z] [ERROR] Response sent | {"requestId":"7a01b6d9-18ad-44c9-a680-4f162c77a5ed","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"371ms","userId":"anonymous","timestamp":"2025-08-09T10:52:12.698Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T10:52:12.702Z] [ERROR] Response sent | {"requestId":"7a01b6d9-18ad-44c9-a680-4f162c77a5ed","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"375ms","userId":"anonymous","timestamp":"2025-08-09T10:52:12.702Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"819012a0884a22225f818f7661f0357eefeb338fbbfdcd94e3007207072574ba"}}}}
[2025-08-09T10:52:12.706Z] [ERROR] Response sent | {"requestId":"7a01b6d9-18ad-44c9-a680-4f162c77a5ed","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"379ms","userId":"anonymous","timestamp":"2025-08-09T10:52:12.706Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:52:18.914Z] [ERROR] Response sent | {"requestId":"a21b0bfa-812d-46d2-bb05-00e2f170c88b","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"200ms","userId":"anonymous","timestamp":"2025-08-09T10:52:18.914Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T10:52:18.916Z] [ERROR] Response sent | {"requestId":"a21b0bfa-812d-46d2-bb05-00e2f170c88b","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"202ms","userId":"anonymous","timestamp":"2025-08-09T10:52:18.916Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"819012a0884a22225f818f7661f0357eefeb338fbbfdcd94e3007207072574ba"}}}}
[2025-08-09T10:52:18.922Z] [ERROR] Response sent | {"requestId":"a21b0bfa-812d-46d2-bb05-00e2f170c88b","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"208ms","userId":"anonymous","timestamp":"2025-08-09T10:52:18.922Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:52:21.257Z] [ERROR] Failed to get records by staff ID | {"error":"select `Records`.* from `Records` where `staff_id` = '96efb5fc-666c-4f2d-b34d-cb06d0244bb6' and `createdAt` >= '2025-08-09 00:00:00.000' and `createdAt` <= '2025-08-09 23:59:59.999' order by `createdAt` desc - Unknown column 'staff_id' in 'where clause'","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T10:52:21.258Z] [ERROR] Response sent | {"requestId":"b42f7603-dc16-4446-a8ee-ee279f71a7a9","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"401ms","userId":"anonymous","timestamp":"2025-08-09T10:52:21.258Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"select `Records`.* from `Records` where `staff_id` = '96efb5fc-666c-4f2d-b34d-cb06d0244bb6' and `createdAt` >= '2025-08-09 00:00:00.000' and `createdAt` <= '2025-08-09 23:59:59.999' order by `createdAt` desc - Unknown column 'staff_id' in 'where clause'","statusCode":500,"showDetails":true,"req":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6"}}}
[2025-08-09T10:52:21.260Z] [ERROR] Response sent | {"requestId":"b42f7603-dc16-4446-a8ee-ee279f71a7a9","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"403ms","userId":"anonymous","timestamp":"2025-08-09T10:52:21.260Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            select `Records`.* from `Records` where `staff_id` = &#39;96efb5fc-666c-4f2d-b34d-cb06d0244bb6&#39; and `createdAt` &gt;= &#39;2025-08-09 00:00:00.000&#39; and `createdAt` &lt;= &#39;2025-08-09 23:59:59.999&#39; order by `createdAt` desc - Unknown column &#39;staff_id&#39; in &#39;where clause&#39;\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"select `Records`.* from `Records` where `staff_id` = '96efb5fc-666c-4f2d-b34d-cb06d0244bb6' and `createdAt` >= '2025-08-09 00:00:00.000' and `createdAt` <= '2025-08-09 23:59:59.999' order by `createdAt` desc - Unknown column 'staff_id' in 'where clause'","statusCode":500,"showDetails":true,"req":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","_locals":{"message":[],"csrfToken":"819012a0884a22225f818f7661f0357eefeb338fbbfdcd94e3007207072574ba"}}}}
[2025-08-09T10:52:21.262Z] [ERROR] Response sent | {"requestId":"b42f7603-dc16-4446-a8ee-ee279f71a7a9","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"405ms","userId":"anonymous","timestamp":"2025-08-09T10:52:21.262Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            select `Records`.* from `Records` where `staff_id` = &#39;96efb5fc-666c-4f2d-b34d-cb06d0244bb6&#39; and `createdAt` &gt;= &#39;2025-08-09 00:00:00.000&#39; and `createdAt` &lt;= &#39;2025-08-09 23:59:59.999&#39; order by `createdAt` desc - Unknown column &#39;staff_id&#39; in &#39;where clause&#39;\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:52:21.265Z] [ERROR] Failed to get tasks by staff ID | {"error":"select `Task`.* from `Task` where `staff_id` = '96efb5fc-666c-4f2d-b34d-cb06d0244bb6' order by `createdAt` desc - Unknown column 'staff_id' in 'where clause'","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{}}
[2025-08-09T10:52:21.267Z] [FATAL] Unhandled Promise Rejection | {"reason":"select `Task`.* from `Task` where `staff_id` = '96efb5fc-666c-4f2d-b34d-cb06d0244bb6' order by `createdAt` desc - Unknown column 'staff_id' in 'where clause'","stack":"DBError: select `Task`.* from `Task` where `staff_id` = '96efb5fc-666c-4f2d-b34d-cb06d0244bb6' order by `createdAt` desc - Unknown column 'staff_id' in 'where clause'\n    at wrapError (E:\\Project App\\appsch\\node_modules\\db-errors\\lib\\dbErrors.js:19:14)\n    at handleExecuteError (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\QueryBuilder.js:1140:32)\n    at QueryBuilder.execute (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\QueryBuilder.js:449:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TaskRepository.findByStaffId (E:\\Project App\\appsch\\repositories\\TaskRepository.js:69:16)\n    at async TaskService.getTasksByStaffId (E:\\Project App\\appsch\\services\\TaskService.js:234:27)\n    at async E:\\Project App\\appsch\\controllers\\taskController.js:100:23","promise":{}}
[2025-08-09T10:54:51.921Z] [ERROR] Response sent | {"requestId":"c9ee2d8f-b73d-4c85-a607-52397493cae3","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"202ms","userId":"anonymous","timestamp":"2025-08-09T10:54:51.921Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T10:54:51.923Z] [ERROR] Response sent | {"requestId":"c9ee2d8f-b73d-4c85-a607-52397493cae3","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"204ms","userId":"anonymous","timestamp":"2025-08-09T10:54:51.923Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"b9fe40936dcee10be33be323c994386b525b30831ea3328b2393ba2e4dca36fd"}}}}
[2025-08-09T10:54:51.926Z] [ERROR] Response sent | {"requestId":"c9ee2d8f-b73d-4c85-a607-52397493cae3","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"207ms","userId":"anonymous","timestamp":"2025-08-09T10:54:51.926Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:54:54.415Z] [ERROR] Response sent | {"requestId":"3180550d-2f76-4eb7-80bc-3b4ea6e73b55","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"205ms","userId":"anonymous","timestamp":"2025-08-09T10:54:54.415Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T10:54:54.419Z] [ERROR] Response sent | {"requestId":"3180550d-2f76-4eb7-80bc-3b4ea6e73b55","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"209ms","userId":"anonymous","timestamp":"2025-08-09T10:54:54.419Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"b9fe40936dcee10be33be323c994386b525b30831ea3328b2393ba2e4dca36fd"}}}}
[2025-08-09T10:54:54.424Z] [ERROR] Response sent | {"requestId":"3180550d-2f76-4eb7-80bc-3b4ea6e73b55","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"214ms","userId":"anonymous","timestamp":"2025-08-09T10:54:54.424Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:55:10.556Z] [ERROR] Response sent | {"requestId":"95420cda-47f8-44ae-970f-f9864d76dd46","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"374ms","userId":"anonymous","timestamp":"2025-08-09T10:55:10.556Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T10:55:10.577Z] [ERROR] Response sent | {"requestId":"95420cda-47f8-44ae-970f-f9864d76dd46","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"395ms","userId":"anonymous","timestamp":"2025-08-09T10:55:10.577Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"9c1ce03abf2fea1814a40072d9e8a8163afac54ab40875eb36ca5c03660699a4"}}}}
[2025-08-09T10:55:10.579Z] [ERROR] Response sent | {"requestId":"95420cda-47f8-44ae-970f-f9864d76dd46","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"397ms","userId":"anonymous","timestamp":"2025-08-09T10:55:10.579Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:55:16.931Z] [ERROR] Response sent | {"requestId":"3a8a18df-cb70-4997-9f74-cd74e9ad53e8","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"199ms","userId":"anonymous","timestamp":"2025-08-09T10:55:16.930Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T10:55:16.932Z] [ERROR] Response sent | {"requestId":"3a8a18df-cb70-4997-9f74-cd74e9ad53e8","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"201ms","userId":"anonymous","timestamp":"2025-08-09T10:55:16.932Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"9c1ce03abf2fea1814a40072d9e8a8163afac54ab40875eb36ca5c03660699a4"}}}}
[2025-08-09T10:55:16.936Z] [ERROR] Response sent | {"requestId":"3a8a18df-cb70-4997-9f74-cd74e9ad53e8","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"205ms","userId":"anonymous","timestamp":"2025-08-09T10:55:16.936Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T10:55:17.302Z] [ERROR] Failed to get tasks by staff ID | {"error":"select `Task`.* from `Task` where `staff_id` = '96efb5fc-666c-4f2d-b34d-cb06d0244bb6' order by `createdAt` desc - Unknown column 'staff_id' in 'where clause'","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{}}
[2025-08-09T10:55:17.304Z] [FATAL] Unhandled Promise Rejection | {"reason":"select `Task`.* from `Task` where `staff_id` = '96efb5fc-666c-4f2d-b34d-cb06d0244bb6' order by `createdAt` desc - Unknown column 'staff_id' in 'where clause'","stack":"DBError: select `Task`.* from `Task` where `staff_id` = '96efb5fc-666c-4f2d-b34d-cb06d0244bb6' order by `createdAt` desc - Unknown column 'staff_id' in 'where clause'\n    at wrapError (E:\\Project App\\appsch\\node_modules\\db-errors\\lib\\dbErrors.js:19:14)\n    at handleExecuteError (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\QueryBuilder.js:1140:32)\n    at QueryBuilder.execute (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\QueryBuilder.js:449:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TaskRepository.findByStaffId (E:\\Project App\\appsch\\repositories\\TaskRepository.js:69:16)\n    at async TaskService.getTasksByStaffId (E:\\Project App\\appsch\\services\\TaskService.js:234:27)\n    at async E:\\Project App\\appsch\\controllers\\taskController.js:100:23","promise":{}}
[2025-08-09T11:00:59.312Z] [ERROR] Response sent | {"requestId":"e58e0f7e-7b85-4e83-bc18-997c89244fbd","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"200ms","userId":"anonymous","timestamp":"2025-08-09T11:00:59.312Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T11:00:59.314Z] [ERROR] Response sent | {"requestId":"e58e0f7e-7b85-4e83-bc18-997c89244fbd","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"202ms","userId":"anonymous","timestamp":"2025-08-09T11:00:59.314Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"37c832a7a0badfe56dda9c370f9ca4ea8de3785362e98b830d1f1bfbe82bf7e4"}}}}
[2025-08-09T11:00:59.320Z] [ERROR] Response sent | {"requestId":"e58e0f7e-7b85-4e83-bc18-997c89244fbd","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"208ms","userId":"anonymous","timestamp":"2025-08-09T11:00:59.320Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:01:00.820Z] [ERROR] Response sent | {"requestId":"83b19f0b-5964-4402-bf61-dfd290eaa44c","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"202ms","userId":"anonymous","timestamp":"2025-08-09T11:01:00.820Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T11:01:00.822Z] [ERROR] Response sent | {"requestId":"83b19f0b-5964-4402-bf61-dfd290eaa44c","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"204ms","userId":"anonymous","timestamp":"2025-08-09T11:01:00.822Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"37c832a7a0badfe56dda9c370f9ca4ea8de3785362e98b830d1f1bfbe82bf7e4"}}}}
[2025-08-09T11:01:00.825Z] [ERROR] Response sent | {"requestId":"83b19f0b-5964-4402-bf61-dfd290eaa44c","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"207ms","userId":"anonymous","timestamp":"2025-08-09T11:01:00.825Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:01:17.064Z] [ERROR] Response sent | {"requestId":"3d6d8101-350c-4882-b293-089dce334ba4","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"360ms","userId":"anonymous","timestamp":"2025-08-09T11:01:17.064Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T11:01:17.068Z] [ERROR] Response sent | {"requestId":"3d6d8101-350c-4882-b293-089dce334ba4","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"364ms","userId":"anonymous","timestamp":"2025-08-09T11:01:17.068Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"95fe95769c760a390e3ffe82621b6ef5585effb71edad4200b27cdca742387fc"}}}}
[2025-08-09T11:01:17.072Z] [ERROR] Response sent | {"requestId":"3d6d8101-350c-4882-b293-089dce334ba4","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"368ms","userId":"anonymous","timestamp":"2025-08-09T11:01:17.072Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:01:20.422Z] [ERROR] Response sent | {"requestId":"a612a5e2-7b9f-46db-aa17-d7bf06e99c4c","method":"GET","url":"/staff","statusCode":500,"responseTime":"856ms","userId":"anonymous","timestamp":"2025-08-09T11:01:20.422Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Failed to fetch staff: Staff.relationMappings.task: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Task' is not correct","statusCode":500,"showDetails":true,"req":"/staff"}}}
[2025-08-09T11:01:20.425Z] [ERROR] Response sent | {"requestId":"a612a5e2-7b9f-46db-aa17-d7bf06e99c4c","method":"GET","url":"/staff","statusCode":500,"responseTime":"859ms","userId":"anonymous","timestamp":"2025-08-09T11:01:20.425Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Failed to fetch staff: Staff.relationMappings.task: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table &#39;Task&#39; is not correct\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"Failed to fetch staff: Staff.relationMappings.task: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Task' is not correct","statusCode":500,"showDetails":true,"req":"/staff","_locals":{"message":[],"csrfToken":"95fe95769c760a390e3ffe82621b6ef5585effb71edad4200b27cdca742387fc"}}}}
[2025-08-09T11:01:20.427Z] [ERROR] Response sent | {"requestId":"a612a5e2-7b9f-46db-aa17-d7bf06e99c4c","method":"GET","url":"/staff","statusCode":500,"responseTime":"861ms","userId":"anonymous","timestamp":"2025-08-09T11:01:20.427Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-primary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Failed to fetch staff: Staff.relationMappings.task: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table &#39;Task&#39; is not correct\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:01:20.822Z] [ERROR] Response sent | {"requestId":"9444112d-0e7a-484b-b3d4-ca0abe21af80","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"230ms","userId":"anonymous","timestamp":"2025-08-09T11:01:20.822Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T11:01:20.823Z] [ERROR] Response sent | {"requestId":"9444112d-0e7a-484b-b3d4-ca0abe21af80","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"231ms","userId":"anonymous","timestamp":"2025-08-09T11:01:20.823Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"95fe95769c760a390e3ffe82621b6ef5585effb71edad4200b27cdca742387fc"}}}}
[2025-08-09T11:01:20.825Z] [ERROR] Response sent | {"requestId":"9444112d-0e7a-484b-b3d4-ca0abe21af80","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"233ms","userId":"anonymous","timestamp":"2025-08-09T11:01:20.825Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:02:21.354Z] [ERROR] Response sent | {"requestId":"e91971f0-dd30-450f-b91f-fa2da08fabb2","method":"GET","url":"/staff","statusCode":500,"responseTime":"843ms","userId":"anonymous","timestamp":"2025-08-09T11:02:21.354Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Failed to fetch staff: Staff.relationMappings.records: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Records' is not correct","statusCode":500,"showDetails":true,"req":"/staff"}}}
[2025-08-09T11:02:21.359Z] [ERROR] Response sent | {"requestId":"e91971f0-dd30-450f-b91f-fa2da08fabb2","method":"GET","url":"/staff","statusCode":500,"responseTime":"848ms","userId":"anonymous","timestamp":"2025-08-09T11:02:21.359Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Failed to fetch staff: Staff.relationMappings.records: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table &#39;Records&#39; is not correct\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"Failed to fetch staff: Staff.relationMappings.records: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Records' is not correct","statusCode":500,"showDetails":true,"req":"/staff","_locals":{"message":[],"csrfToken":"95fe95769c760a390e3ffe82621b6ef5585effb71edad4200b27cdca742387fc"}}}}
[2025-08-09T11:02:21.379Z] [ERROR] Response sent | {"requestId":"e91971f0-dd30-450f-b91f-fa2da08fabb2","method":"GET","url":"/staff","statusCode":500,"responseTime":"868ms","userId":"anonymous","timestamp":"2025-08-09T11:02:21.379Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-primary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Failed to fetch staff: Staff.relationMappings.records: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table &#39;Records&#39; is not correct\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:02:21.809Z] [ERROR] Response sent | {"requestId":"65b2320a-878a-4511-b17b-29e7662ab09b","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"200ms","userId":"anonymous","timestamp":"2025-08-09T11:02:21.809Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T11:02:21.811Z] [ERROR] Response sent | {"requestId":"65b2320a-878a-4511-b17b-29e7662ab09b","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"202ms","userId":"anonymous","timestamp":"2025-08-09T11:02:21.811Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"95fe95769c760a390e3ffe82621b6ef5585effb71edad4200b27cdca742387fc"}}}}
[2025-08-09T11:02:21.818Z] [ERROR] Response sent | {"requestId":"65b2320a-878a-4511-b17b-29e7662ab09b","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"209ms","userId":"anonymous","timestamp":"2025-08-09T11:02:21.818Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:03:20.353Z] [ERROR] Response sent | {"requestId":"f7af0e6e-96a7-4e79-a883-dc07abd9ddb3","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"200ms","userId":"anonymous","timestamp":"2025-08-09T11:03:20.353Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T11:03:20.355Z] [ERROR] Response sent | {"requestId":"f7af0e6e-96a7-4e79-a883-dc07abd9ddb3","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"202ms","userId":"anonymous","timestamp":"2025-08-09T11:03:20.355Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"95fe95769c760a390e3ffe82621b6ef5585effb71edad4200b27cdca742387fc"}}}}
[2025-08-09T11:03:20.357Z] [ERROR] Response sent | {"requestId":"f7af0e6e-96a7-4e79-a883-dc07abd9ddb3","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"204ms","userId":"anonymous","timestamp":"2025-08-09T11:03:20.357Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:03:26.337Z] [ERROR] Response sent | {"requestId":"b64cb7f1-b55e-47d1-b1a6-389622678bea","method":"GET","url":"/staff","statusCode":500,"responseTime":"830ms","userId":"anonymous","timestamp":"2025-08-09T11:03:26.337Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Failed to fetch staff: Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/staff"}}}
[2025-08-09T11:03:26.339Z] [ERROR] Response sent | {"requestId":"b64cb7f1-b55e-47d1-b1a6-389622678bea","method":"GET","url":"/staff","statusCode":500,"responseTime":"832ms","userId":"anonymous","timestamp":"2025-08-09T11:03:26.339Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Failed to fetch staff: Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"Failed to fetch staff: Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/staff","_locals":{"message":[],"csrfToken":"95fe95769c760a390e3ffe82621b6ef5585effb71edad4200b27cdca742387fc"}}}}
[2025-08-09T11:03:26.341Z] [ERROR] Response sent | {"requestId":"b64cb7f1-b55e-47d1-b1a6-389622678bea","method":"GET","url":"/staff","statusCode":500,"responseTime":"834ms","userId":"anonymous","timestamp":"2025-08-09T11:03:26.341Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-primary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Failed to fetch staff: Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:03:26.731Z] [ERROR] Response sent | {"requestId":"2829c5f4-ab58-4db3-8866-0c75ba7c2467","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"282ms","userId":"anonymous","timestamp":"2025-08-09T11:03:26.731Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T11:03:26.733Z] [ERROR] Response sent | {"requestId":"2829c5f4-ab58-4db3-8866-0c75ba7c2467","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"284ms","userId":"anonymous","timestamp":"2025-08-09T11:03:26.733Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"95fe95769c760a390e3ffe82621b6ef5585effb71edad4200b27cdca742387fc"}}}}
[2025-08-09T11:03:26.737Z] [ERROR] Response sent | {"requestId":"2829c5f4-ab58-4db3-8866-0c75ba7c2467","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"288ms","userId":"anonymous","timestamp":"2025-08-09T11:03:26.737Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:04:04.974Z] [ERROR] Response sent | {"requestId":"4f389904-5375-4d28-ac62-8fb879d6f0fa","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"201ms","userId":"anonymous","timestamp":"2025-08-09T11:04:04.974Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T11:04:04.975Z] [ERROR] Response sent | {"requestId":"4f389904-5375-4d28-ac62-8fb879d6f0fa","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"202ms","userId":"anonymous","timestamp":"2025-08-09T11:04:04.975Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"4caa0f0c3a202b7b369b25c9fe8d8f22de1c07b191e735810a41c8c4018604f2"}}}}
[2025-08-09T11:04:04.978Z] [ERROR] Response sent | {"requestId":"4f389904-5375-4d28-ac62-8fb879d6f0fa","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"205ms","userId":"anonymous","timestamp":"2025-08-09T11:04:04.978Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:04:21.134Z] [ERROR] Response sent | {"requestId":"c694366d-614b-4dde-8cd1-038cf204124d","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"208ms","userId":"anonymous","timestamp":"2025-08-09T11:04:21.134Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T11:04:21.138Z] [ERROR] Response sent | {"requestId":"c694366d-614b-4dde-8cd1-038cf204124d","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"212ms","userId":"anonymous","timestamp":"2025-08-09T11:04:21.138Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"4caa0f0c3a202b7b369b25c9fe8d8f22de1c07b191e735810a41c8c4018604f2"}}}}
[2025-08-09T11:04:21.148Z] [ERROR] Response sent | {"requestId":"c694366d-614b-4dde-8cd1-038cf204124d","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"222ms","userId":"anonymous","timestamp":"2025-08-09T11:04:21.148Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:04:42.858Z] [ERROR] Response sent | {"requestId":"ebc0ad0a-36c4-456a-b4a5-74829a7ce041","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"204ms","userId":"anonymous","timestamp":"2025-08-09T11:04:42.858Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T11:04:42.860Z] [ERROR] Response sent | {"requestId":"ebc0ad0a-36c4-456a-b4a5-74829a7ce041","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"206ms","userId":"anonymous","timestamp":"2025-08-09T11:04:42.860Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"077fb55611b2b196a3c5f92d9b2843d9f2e46182a02d87e04157ee582245eb47"}}}}
[2025-08-09T11:04:42.862Z] [ERROR] Response sent | {"requestId":"ebc0ad0a-36c4-456a-b4a5-74829a7ce041","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"208ms","userId":"anonymous","timestamp":"2025-08-09T11:04:42.862Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:06:22.472Z] [ERROR] Response sent | {"requestId":"a90c5427-f50c-4f36-9a87-9e26a705777f","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"206ms","userId":"anonymous","timestamp":"2025-08-09T11:06:22.472Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T11:06:22.474Z] [ERROR] Response sent | {"requestId":"a90c5427-f50c-4f36-9a87-9e26a705777f","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"208ms","userId":"anonymous","timestamp":"2025-08-09T11:06:22.474Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"077fb55611b2b196a3c5f92d9b2843d9f2e46182a02d87e04157ee582245eb47"}}}}
[2025-08-09T11:06:22.477Z] [ERROR] Response sent | {"requestId":"a90c5427-f50c-4f36-9a87-9e26a705777f","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"211ms","userId":"anonymous","timestamp":"2025-08-09T11:06:22.477Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:06:38.859Z] [ERROR] Failed to get tasks by staff ID | {"error":"Task.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{}}
[2025-08-09T11:06:38.860Z] [FATAL] Unhandled Promise Rejection | {"reason":"Task.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct","stack":"Error: Task.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct\n    at BelongsToOneRelation.createError (E:\\Project App\\appsch\\node_modules\\objection\\lib\\relations\\Relation.js:225:14)\n    at Object.createError (E:\\Project App\\appsch\\node_modules\\objection\\lib\\relations\\Relation.js:44:34)\n    at createRelationProperty (E:\\Project App\\appsch\\node_modules\\objection\\lib\\relations\\Relation.js:347:17)\n    at createJoinProperties (E:\\Project App\\appsch\\node_modules\\objection\\lib\\relations\\Relation.js:312:18)\n    at BelongsToOneRelation.setMapping (E:\\Project App\\appsch\\node_modules\\objection\\lib\\relations\\Relation.js:52:11)\n    at Task.getRelationUnsafe (E:\\Project App\\appsch\\node_modules\\objection\\lib\\model\\Model.js:616:30)\n    at RelationExpression.forEachChildExpression (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\RelationExpression.js:161:37)\n    at findRelationsToFetch (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\operations\\eager\\WhereInEagerOperation.js:217:21)\n    at WhereInEagerOperation.onBuild (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\operations\\eager\\WhereInEagerOperation.js:42:30)\n    at QueryBuilder.callOperationMethod (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\QueryBuilderOperationSupport.js:382:33)","promise":{}}
[2025-08-09T11:08:33.363Z] [ERROR] Response sent | {"requestId":"9bfc237d-7586-4782-a696-58d6651056c0","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"200ms","userId":"anonymous","timestamp":"2025-08-09T11:08:33.363Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T11:08:33.364Z] [ERROR] Response sent | {"requestId":"9bfc237d-7586-4782-a696-58d6651056c0","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"201ms","userId":"anonymous","timestamp":"2025-08-09T11:08:33.364Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"6ea682fcb7d24c7b519b96e5437dd873b93432681a647cf514248d160028adb7"}}}}
[2025-08-09T11:08:33.369Z] [ERROR] Response sent | {"requestId":"9bfc237d-7586-4782-a696-58d6651056c0","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"205ms","userId":"anonymous","timestamp":"2025-08-09T11:08:33.369Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:08:51.148Z] [ERROR] Response sent | {"requestId":"03bd637f-6376-4223-9d6d-e12bacafb91a","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"199ms","userId":"anonymous","timestamp":"2025-08-09T11:08:51.148Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T11:08:51.152Z] [ERROR] Response sent | {"requestId":"03bd637f-6376-4223-9d6d-e12bacafb91a","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"203ms","userId":"anonymous","timestamp":"2025-08-09T11:08:51.152Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"2af95ca1e1fba9e3633bf743e14fe946e9ed0bbda6edbccf061375eb0af5e5bf"}}}}
[2025-08-09T11:08:51.156Z] [ERROR] Response sent | {"requestId":"03bd637f-6376-4223-9d6d-e12bacafb91a","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"207ms","userId":"anonymous","timestamp":"2025-08-09T11:08:51.156Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:09:07.778Z] [ERROR] Response sent | {"requestId":"cd107f43-3e49-4b82-8ae6-f3d7b659ce3a","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"201ms","userId":"anonymous","timestamp":"2025-08-09T11:09:07.778Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T11:09:07.779Z] [ERROR] Response sent | {"requestId":"cd107f43-3e49-4b82-8ae6-f3d7b659ce3a","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"202ms","userId":"anonymous","timestamp":"2025-08-09T11:09:07.779Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"2af95ca1e1fba9e3633bf743e14fe946e9ed0bbda6edbccf061375eb0af5e5bf"}}}}
[2025-08-09T11:09:18.997Z] [ERROR] Response sent | {"requestId":"cd107f43-3e49-4b82-8ae6-f3d7b659ce3a","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"11420ms","userId":"anonymous","timestamp":"2025-08-09T11:09:18.997Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:09:19.003Z] [ERROR] Response sent | {"requestId":"a4929247-4173-4c7d-b652-7b780f0c9a8b","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":503,"responseTime":"11254ms","userId":"anonymous","timestamp":"2025-08-09T11:09:19.003Z","responseData":{"view":"error/database-error","locals":{"title":"Database Connection Error","error":"connect ETIMEDOUT","layout":false}}}
[2025-08-09T11:09:19.005Z] [ERROR] Response sent | {"requestId":"a4929247-4173-4c7d-b652-7b780f0c9a8b","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":503,"responseTime":"11257ms","userId":"anonymous","timestamp":"2025-08-09T11:09:19.005Z","responseData":"<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Database Connection Error</title>\r\n    <style>\r\n        * {\r\n            margin: 0;\r\n            padding: 0;\r\n            box-sizing: border-box;\r\n        }\r\n        \r\n        body {\r\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n            min-height: 100vh;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            color: #333;\r\n        }\r\n        \r\n        .error-container {\r\n            background: white;\r\n            border-radius: 20px;\r\n            padding: 40px;\r\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\r\n            max-width: 600px;\r\n            width: 90%;\r\n            text-align: center;\r\n        }\r\n        \r\n        .error-icon {\r\n            font-size: 80px;\r\n            color: #e74c3c;\r\n            margin-bottom: 20px;\r\n        }\r\n        \r\n        .error-title {\r\n            font-size: 28px;\r\n            font-weight: bold;\r\n            color: #2c3e50;\r\n            margin-bottom: 15px;\r\n        }\r\n        \r\n        .error-subtitle {\r\n            font-size: 16px;\r\n            color: #7f8c8d;\r\n            margin-bottom: 30px;\r\n            line-height: 1.6;\r\n        }\r\n        \r\n        .error-details {\r\n            background: #f8f9fa;\r\n            border: 1px solid #e9ecef;\r\n            border-radius: 10px;\r\n            padding: 20px;\r\n            margin: 20px 0;\r\n            text-align: left;\r\n        }\r\n        \r\n        .error-details h3 {\r\n            color: #495057;\r\n            margin-bottom: 10px;\r\n            font-size: 16px;\r\n        }\r\n        \r\n        .error-message {\r\n            background: #fff3cd;\r\n            border: 1px solid #ffeaa7;\r\n            border-radius: 5px;\r\n            padding: 15px;\r\n            color: #856404;\r\n            font-family: 'Courier New', monospace;\r\n            font-size: 14px;\r\n            word-break: break-all;\r\n            white-space: pre-wrap;\r\n        }\r\n        \r\n        .retry-button {\r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n            color: white;\r\n            border: none;\r\n            padding: 12px 30px;\r\n            border-radius: 25px;\r\n            font-size: 16px;\r\n            cursor: pointer;\r\n            transition: transform 0.2s ease;\r\n            margin-top: 20px;\r\n        }\r\n        \r\n        .retry-button:hover {\r\n            transform: translateY(-2px);\r\n        }\r\n        \r\n        .status-indicator {\r\n            display: inline-block;\r\n            width: 12px;\r\n            height: 12px;\r\n            border-radius: 50%;\r\n            background: #e74c3c;\r\n            margin-right: 8px;\r\n            animation: pulse 2s infinite;\r\n        }\r\n        \r\n        @keyframes pulse {\r\n            0% { opacity: 1; }\r\n            50% { opacity: 0.5; }\r\n            100% { opacity: 1; }\r\n        }\r\n        \r\n        .auto-refresh {\r\n            font-size: 14px;\r\n            color: #7f8c8d;\r\n            margin-top: 20px;\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div class=\"error-container\">\r\n        <div class=\"error-icon\">‚ö†Ô∏è</div>\r\n        <h1 class=\"error-title\">Database Connection Error</h1>\r\n        <p class=\"error-subtitle\">\r\n            Maaf, aplikasi tidak dapat terhubung ke database saat ini. \r\n            Silakan periksa konfigurasi database atau hubungi administrator.\r\n        </p>\r\n        \r\n        <div class=\"error-details\">\r\n            <h3><span class=\"status-indicator\"></span>Status Koneksi</h3>\r\n            <div class=\"error-message\">connect ETIMEDOUT</div>\r\n        </div>\r\n        \r\n        <button class=\"retry-button\" onclick=\"location.reload()\">\r\n            üîÑ Coba Lagi\r\n        </button>\r\n        \r\n        <p class=\"auto-refresh\">\r\n            Halaman akan otomatis refresh setiap 30 detik\r\n        </p>\r\n    </div>\r\n\r\n    <script>\r\n        // Auto refresh every 30 seconds\r\n        setTimeout(() => {\r\n            location.reload();\r\n        }, 30000);\r\n        \r\n        // Manual refresh with F5\r\n        document.addEventListener('keydown', function(e) {\r\n            if (e.key === 'F5') {\r\n                location.reload();\r\n            }\r\n        });\r\n    </script>\r\n</body>\r\n</html> "}
[2025-08-09T11:09:19.013Z] [ERROR] Failed to get tasks by staff ID | {"error":"Task.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{}}
[2025-08-09T11:09:19.014Z] [FATAL] Unhandled Promise Rejection | {"reason":"Task.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct","stack":"Error: Task.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct\n    at BelongsToOneRelation.createError (E:\\Project App\\appsch\\node_modules\\objection\\lib\\relations\\Relation.js:225:14)\n    at Object.createError (E:\\Project App\\appsch\\node_modules\\objection\\lib\\relations\\Relation.js:44:34)\n    at createRelationProperty (E:\\Project App\\appsch\\node_modules\\objection\\lib\\relations\\Relation.js:347:17)\n    at createJoinProperties (E:\\Project App\\appsch\\node_modules\\objection\\lib\\relations\\Relation.js:312:18)\n    at BelongsToOneRelation.setMapping (E:\\Project App\\appsch\\node_modules\\objection\\lib\\relations\\Relation.js:52:11)\n    at Task.getRelationUnsafe (E:\\Project App\\appsch\\node_modules\\objection\\lib\\model\\Model.js:616:30)\n    at RelationExpression.forEachChildExpression (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\RelationExpression.js:161:37)\n    at findRelationsToFetch (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\operations\\eager\\WhereInEagerOperation.js:217:21)\n    at WhereInEagerOperation.onBuild (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\operations\\eager\\WhereInEagerOperation.js:42:30)\n    at QueryBuilder.callOperationMethod (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\QueryBuilderOperationSupport.js:382:33)","promise":{}}
[2025-08-09T11:11:43.653Z] [ERROR] Response sent | {"requestId":"3e9b3368-00c0-47a8-8d03-630ace24d975","method":"GET","url":"/.well-known/appspecific/com.chrome.devtools.json","statusCode":500,"responseTime":"422ms","userId":"anonymous","timestamp":"2025-08-09T11:11:43.653Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/.well-known/appspecific/com.chrome.devtools.json"}}}
[2025-08-09T11:11:43.662Z] [ERROR] Response sent | {"requestId":"3e9b3368-00c0-47a8-8d03-630ace24d975","method":"GET","url":"/.well-known/appspecific/com.chrome.devtools.json","statusCode":500,"responseTime":"431ms","userId":"anonymous","timestamp":"2025-08-09T11:11:43.662Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/.well-known/appspecific/com.chrome.devtools.json","_locals":{"message":[],"csrfToken":"cbbd45f3d4ff4205b41ae3a61977d3656ecf6ad799e5597ee76174f7a9e5256a"}}}}
[2025-08-09T11:11:43.666Z] [ERROR] Response sent | {"requestId":"3e9b3368-00c0-47a8-8d03-630ace24d975","method":"GET","url":"/.well-known/appspecific/com.chrome.devtools.json","statusCode":500,"responseTime":"435ms","userId":"anonymous","timestamp":"2025-08-09T11:11:43.666Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:11:57.086Z] [ERROR] Failed to get tasks by staff ID | {"error":"Task.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{}}
[2025-08-09T11:11:57.090Z] [FATAL] Unhandled Promise Rejection | {"reason":"Task.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct","stack":"Error: Task.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct\n    at BelongsToOneRelation.createError (E:\\Project App\\appsch\\node_modules\\objection\\lib\\relations\\Relation.js:225:14)\n    at Object.createError (E:\\Project App\\appsch\\node_modules\\objection\\lib\\relations\\Relation.js:44:34)\n    at createRelationProperty (E:\\Project App\\appsch\\node_modules\\objection\\lib\\relations\\Relation.js:347:17)\n    at createJoinProperties (E:\\Project App\\appsch\\node_modules\\objection\\lib\\relations\\Relation.js:312:18)\n    at BelongsToOneRelation.setMapping (E:\\Project App\\appsch\\node_modules\\objection\\lib\\relations\\Relation.js:52:11)\n    at Task.getRelationUnsafe (E:\\Project App\\appsch\\node_modules\\objection\\lib\\model\\Model.js:616:30)\n    at RelationExpression.forEachChildExpression (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\RelationExpression.js:161:37)\n    at findRelationsToFetch (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\operations\\eager\\WhereInEagerOperation.js:217:21)\n    at WhereInEagerOperation.onBuild (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\operations\\eager\\WhereInEagerOperation.js:42:30)\n    at QueryBuilder.callOperationMethod (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\QueryBuilderOperationSupport.js:382:33)","promise":{}}
[2025-08-09T11:16:16.284Z] [ERROR] Response sent | {"requestId":"bba803d5-737e-4405-94c4-44223e19bf90","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"213ms","userId":"anonymous","timestamp":"2025-08-09T11:16:16.283Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T11:16:16.291Z] [ERROR] Response sent | {"requestId":"bba803d5-737e-4405-94c4-44223e19bf90","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"221ms","userId":"anonymous","timestamp":"2025-08-09T11:16:16.291Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"d835b1eaa0da18e27ab0c8e0db01c2127c75d56601f28fa75d56e6b155241ecf"}}}}
[2025-08-09T11:16:16.312Z] [ERROR] Response sent | {"requestId":"bba803d5-737e-4405-94c4-44223e19bf90","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"242ms","userId":"anonymous","timestamp":"2025-08-09T11:16:16.312Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:16:32.292Z] [ERROR] Response sent | {"requestId":"ce477b05-ad07-44a8-aac8-de9045225422","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"677ms","userId":"anonymous","timestamp":"2025-08-09T11:16:32.292Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T11:16:32.295Z] [ERROR] Response sent | {"requestId":"ce477b05-ad07-44a8-aac8-de9045225422","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"680ms","userId":"anonymous","timestamp":"2025-08-09T11:16:32.295Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"d409848e5e637706a2c9d24f11dc39a33ed2d4218aee7b4e697c4eb5caebe40e"}}}}
[2025-08-09T11:16:32.302Z] [ERROR] Response sent | {"requestId":"ce477b05-ad07-44a8-aac8-de9045225422","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"687ms","userId":"anonymous","timestamp":"2025-08-09T11:16:32.302Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:16:41.839Z] [ERROR] Response sent | {"requestId":"bfb50a94-7fe7-4b18-8a05-d1def47b729e","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"212ms","userId":"anonymous","timestamp":"2025-08-09T11:16:41.839Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T11:16:41.844Z] [ERROR] Response sent | {"requestId":"bfb50a94-7fe7-4b18-8a05-d1def47b729e","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"217ms","userId":"anonymous","timestamp":"2025-08-09T11:16:41.844Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"d409848e5e637706a2c9d24f11dc39a33ed2d4218aee7b4e697c4eb5caebe40e"}}}}
[2025-08-09T11:16:41.847Z] [ERROR] Response sent | {"requestId":"bfb50a94-7fe7-4b18-8a05-d1def47b729e","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"220ms","userId":"anonymous","timestamp":"2025-08-09T11:16:41.847Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:21:19.732Z] [ERROR] Failed to get tasks by staff ID | {"error":"Task.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{}}
[2025-08-09T11:21:19.733Z] [FATAL] Unhandled Promise Rejection | {"reason":"Task.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct","stack":"Error: Task.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct\n    at BelongsToOneRelation.createError (E:\\Project App\\appsch\\node_modules\\objection\\lib\\relations\\Relation.js:225:14)\n    at Object.createError (E:\\Project App\\appsch\\node_modules\\objection\\lib\\relations\\Relation.js:44:34)\n    at createRelationProperty (E:\\Project App\\appsch\\node_modules\\objection\\lib\\relations\\Relation.js:347:17)\n    at createJoinProperties (E:\\Project App\\appsch\\node_modules\\objection\\lib\\relations\\Relation.js:312:18)\n    at BelongsToOneRelation.setMapping (E:\\Project App\\appsch\\node_modules\\objection\\lib\\relations\\Relation.js:52:11)\n    at Task.getRelationUnsafe (E:\\Project App\\appsch\\node_modules\\objection\\lib\\model\\Model.js:616:30)\n    at RelationExpression.forEachChildExpression (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\RelationExpression.js:161:37)\n    at findRelationsToFetch (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\operations\\eager\\WhereInEagerOperation.js:217:21)\n    at WhereInEagerOperation.onBuild (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\operations\\eager\\WhereInEagerOperation.js:42:30)\n    at QueryBuilder.callOperationMethod (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\QueryBuilderOperationSupport.js:382:33)","promise":{}}
[2025-08-09T11:22:49.579Z] [ERROR] Response sent | {"requestId":"a927e368-2d97-404a-9aa9-55c905c4154f","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"205ms","userId":"anonymous","timestamp":"2025-08-09T11:22:49.579Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client"}}}
[2025-08-09T11:22:49.582Z] [ERROR] Response sent | {"requestId":"a927e368-2d97-404a-9aa9-55c905c4154f","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"208ms","userId":"anonymous","timestamp":"2025-08-09T11:22:49.582Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","statusCode":500,"showDetails":true,"req":"/@vite/client","_locals":{"message":[],"csrfToken":"b127733b1f17beb99d5548706b6183361e79b987e2da7d41c7d9b89e65728a0d"}}}}
[2025-08-09T11:22:49.587Z] [ERROR] Response sent | {"requestId":"a927e368-2d97-404a-9aa9-55c905c4154f","method":"GET","url":"/@vite/client","statusCode":500,"responseTime":"212ms","userId":"anonymous","timestamp":"2025-08-09T11:22:49.586Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         &lt;/div&gt;\r\n    168|         \r\n &gt;&gt; 169|         &lt;% if (showDetails &amp;&amp; details) { %&gt;\r\n    170|         &lt;div class=&#34;error-details&#34;&gt;\r\n    171|             &lt;h4&gt;Detail Error (Development Mode):&lt;/h4&gt;\r\n    172|             &lt;pre&gt;&lt;%= details %&gt;&lt;/pre&gt;\r\n\nshowDetails is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:23:18.512Z] [ERROR] Response sent | {"requestId":"9322719e-c22e-4d77-8667-b015eab87b25","method":"GET","url":"/api/staff","statusCode":500,"responseTime":"203ms","userId":"anonymous","timestamp":"2025-08-09T11:23:18.512Z","responseData":{"success":false,"error":{"message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-08-09T11:23:18.512Z] [ERROR] Response sent | {"requestId":"9322719e-c22e-4d77-8667-b015eab87b25","method":"GET","url":"/api/staff","statusCode":500,"responseTime":"203ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T11:23:18.512Z","responseData":"{\"success\":false,\"error\":{\"message\":\"E:\\\\Project App\\\\appsch\\\\views\\\\error\\\\404.ejs:169\\n    167|         </div>\\r\\n    168|         \\r\\n >> 169|         <% if (showDetails && details) { %>\\r\\n    170|         <div class=\\\"error-details\\\">\\r\\n    171|             <h4>Detail Error (Development Mode):</h4>\\r\\n    172|             <pre><%= details %></pre>\\r\\n\\nshowDetails is not defined\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-08-09T11:23:56.219Z] [ERROR] Response sent | {"requestId":"8dbb0ea3-9c87-42b4-a883-6c67a50b2a34","method":"GET","url":"/api/staff","statusCode":500,"responseTime":"202ms","userId":"anonymous","timestamp":"2025-08-09T11:23:56.219Z","responseData":{"success":false,"error":{"message":"E:\\Project App\\appsch\\views\\error\\404.ejs:169\n    167|         </div>\r\n    168|         \r\n >> 169|         <% if (showDetails && details) { %>\r\n    170|         <div class=\"error-details\">\r\n    171|             <h4>Detail Error (Development Mode):</h4>\r\n    172|             <pre><%= details %></pre>\r\n\nshowDetails is not defined","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-08-09T11:23:56.221Z] [ERROR] Response sent | {"requestId":"8dbb0ea3-9c87-42b4-a883-6c67a50b2a34","method":"GET","url":"/api/staff","statusCode":500,"responseTime":"204ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T11:23:56.221Z","responseData":"{\"success\":false,\"error\":{\"message\":\"E:\\\\Project App\\\\appsch\\\\views\\\\error\\\\404.ejs:169\\n    167|         </div>\\r\\n    168|         \\r\\n >> 169|         <% if (showDetails && details) { %>\\r\\n    170|         <div class=\\\"error-details\\\">\\r\\n    171|             <h4>Detail Error (Development Mode):</h4>\\r\\n    172|             <pre><%= details %></pre>\\r\\n\\nshowDetails is not defined\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-08-09T11:26:21.480Z] [ERROR] Response sent | {"requestId":"f6121aba-771b-4360-802d-d56b8446ef0d","method":"GET","url":"/api/staff","statusCode":500,"responseTime":"420ms","userId":"anonymous","timestamp":"2025-08-09T11:26:21.480Z","responseData":{"success":false,"error":{"message":"Failed to fetch staff: Task.relationMappings.periode: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'periode' is not correct","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-08-09T11:26:21.482Z] [ERROR] Response sent | {"requestId":"f6121aba-771b-4360-802d-d56b8446ef0d","method":"GET","url":"/api/staff","statusCode":500,"responseTime":"422ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T11:26:21.482Z","responseData":"{\"success\":false,\"error\":{\"message\":\"Failed to fetch staff: Task.relationMappings.periode: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'periode' is not correct\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-08-09T11:28:40.185Z] [ERROR] Failed to get records by staff ID | {"error":"Records.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T11:28:40.191Z] [ERROR] Response sent | {"requestId":"4554d13a-02b1-41ac-8d2d-5dd7abfd1cd3","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"298ms","userId":"anonymous","timestamp":"2025-08-09T11:28:40.191Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Records.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct","statusCode":500,"showDetails":true,"req":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6"}}}
[2025-08-09T11:28:40.194Z] [ERROR] Response sent | {"requestId":"4554d13a-02b1-41ac-8d2d-5dd7abfd1cd3","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"301ms","userId":"anonymous","timestamp":"2025-08-09T11:28:40.194Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Records.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table &#39;Staff&#39; is not correct\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"Records.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct","statusCode":500,"showDetails":true,"req":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","_locals":{"message":[],"csrfToken":"e30d4a62fa7d7b1929aa1c4302bd8eb054a6c5358be1049833d8867c6089cccb"}}}}
[2025-08-09T11:28:40.197Z] [ERROR] Response sent | {"requestId":"4554d13a-02b1-41ac-8d2d-5dd7abfd1cd3","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"304ms","userId":"anonymous","timestamp":"2025-08-09T11:28:40.197Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Records.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table &#39;Staff&#39; is not correct\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:28:58.316Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"11ecde33-2614-441f-b265-4def642f6ab2","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T11:28:58.317Z] [ERROR] Response sent | {"requestId":"dc0d48b1-86c1-4fdd-a505-2b703c0298e4","method":"GET","url":"/records/11ecde33-2614-441f-b265-4def642f6ab2?date=2025-08-09","statusCode":500,"responseTime":"201ms","userId":"anonymous","timestamp":"2025-08-09T11:28:58.317Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/11ecde33-2614-441f-b265-4def642f6ab2"}}}
[2025-08-09T11:28:58.319Z] [ERROR] Response sent | {"requestId":"dc0d48b1-86c1-4fdd-a505-2b703c0298e4","method":"GET","url":"/records/11ecde33-2614-441f-b265-4def642f6ab2?date=2025-08-09","statusCode":500,"responseTime":"203ms","userId":"anonymous","timestamp":"2025-08-09T11:28:58.319Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/11ecde33-2614-441f-b265-4def642f6ab2","_locals":{"message":[],"csrfToken":"e30d4a62fa7d7b1929aa1c4302bd8eb054a6c5358be1049833d8867c6089cccb"}}}}
[2025-08-09T11:28:58.327Z] [ERROR] Response sent | {"requestId":"dc0d48b1-86c1-4fdd-a505-2b703c0298e4","method":"GET","url":"/records/11ecde33-2614-441f-b265-4def642f6ab2?date=2025-08-09","statusCode":500,"responseTime":"211ms","userId":"anonymous","timestamp":"2025-08-09T11:28:58.327Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:29:37.782Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T11:29:37.784Z] [ERROR] Response sent | {"requestId":"a0e9c37d-cc79-49b1-b0ed-b90a436cbf47","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"209ms","userId":"anonymous","timestamp":"2025-08-09T11:29:37.784Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6"}}}
[2025-08-09T11:29:37.786Z] [ERROR] Response sent | {"requestId":"a0e9c37d-cc79-49b1-b0ed-b90a436cbf47","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"211ms","userId":"anonymous","timestamp":"2025-08-09T11:29:37.786Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","_locals":{"message":[],"csrfToken":"5158b2fb5d9454d1affabbbe4487c064eb01217e23842a93c9bdc92356f6bed1"}}}}
[2025-08-09T11:29:37.792Z] [ERROR] Response sent | {"requestId":"a0e9c37d-cc79-49b1-b0ed-b90a436cbf47","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"217ms","userId":"anonymous","timestamp":"2025-08-09T11:29:37.792Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:30:17.530Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"53fd1bfe-9c15-4882-8cd5-25b8d4a93692","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T11:30:17.531Z] [ERROR] Response sent | {"requestId":"13165c9d-828b-4eb4-aeed-de231d5259d1","method":"GET","url":"/records/53fd1bfe-9c15-4882-8cd5-25b8d4a93692?date=2025-08-09","statusCode":500,"responseTime":"214ms","userId":"anonymous","timestamp":"2025-08-09T11:30:17.531Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/53fd1bfe-9c15-4882-8cd5-25b8d4a93692"}}}
[2025-08-09T11:30:17.534Z] [ERROR] Response sent | {"requestId":"13165c9d-828b-4eb4-aeed-de231d5259d1","method":"GET","url":"/records/53fd1bfe-9c15-4882-8cd5-25b8d4a93692?date=2025-08-09","statusCode":500,"responseTime":"217ms","userId":"anonymous","timestamp":"2025-08-09T11:30:17.534Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/53fd1bfe-9c15-4882-8cd5-25b8d4a93692","_locals":{"message":[],"csrfToken":"5158b2fb5d9454d1affabbbe4487c064eb01217e23842a93c9bdc92356f6bed1"}}}}
[2025-08-09T11:30:17.538Z] [ERROR] Response sent | {"requestId":"13165c9d-828b-4eb4-aeed-de231d5259d1","method":"GET","url":"/records/53fd1bfe-9c15-4882-8cd5-25b8d4a93692?date=2025-08-09","statusCode":500,"responseTime":"221ms","userId":"anonymous","timestamp":"2025-08-09T11:30:17.538Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:36:33.556Z] [ERROR] Failed to get tasks by staff ID | {"error":"Task.relationMappings.periode: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'periode' is not correct","staffId":"53fd1bfe-9c15-4882-8cd5-25b8d4a93692","options":{}}
[2025-08-09T11:36:33.559Z] [FATAL] Unhandled Promise Rejection | {"reason":"Task.relationMappings.periode: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'periode' is not correct","stack":"Error: Task.relationMappings.periode: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'periode' is not correct\n    at BelongsToOneRelation.createError (E:\\Project App\\appsch\\node_modules\\objection\\lib\\relations\\Relation.js:225:14)\n    at Object.createError (E:\\Project App\\appsch\\node_modules\\objection\\lib\\relations\\Relation.js:44:34)\n    at createRelationProperty (E:\\Project App\\appsch\\node_modules\\objection\\lib\\relations\\Relation.js:347:17)\n    at createJoinProperties (E:\\Project App\\appsch\\node_modules\\objection\\lib\\relations\\Relation.js:312:18)\n    at BelongsToOneRelation.setMapping (E:\\Project App\\appsch\\node_modules\\objection\\lib\\relations\\Relation.js:52:11)\n    at Task.getRelationUnsafe (E:\\Project App\\appsch\\node_modules\\objection\\lib\\model\\Model.js:616:30)\n    at RelationExpression.forEachChildExpression (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\RelationExpression.js:161:37)\n    at findRelationsToFetch (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\operations\\eager\\WhereInEagerOperation.js:217:21)\n    at WhereInEagerOperation.onBuild (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\operations\\eager\\WhereInEagerOperation.js:42:30)\n    at QueryBuilder.callOperationMethod (E:\\Project App\\appsch\\node_modules\\objection\\lib\\queryBuilder\\QueryBuilderOperationSupport.js:382:33)","promise":{}}
[2025-08-09T11:44:52.349Z] [ERROR] Failed to get records by staff ID | {"error":"Records.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct","staffId":"53fd1bfe-9c15-4882-8cd5-25b8d4a93692","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T11:44:52.354Z] [ERROR] Response sent | {"requestId":"590926ee-37bb-4ce8-99d9-767d8fe3247d","method":"GET","url":"/records/53fd1bfe-9c15-4882-8cd5-25b8d4a93692?date=2025-08-09","statusCode":500,"responseTime":"221ms","userId":"anonymous","timestamp":"2025-08-09T11:44:52.353Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Records.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct","statusCode":500,"showDetails":true,"req":"/records/53fd1bfe-9c15-4882-8cd5-25b8d4a93692"}}}
[2025-08-09T11:44:52.360Z] [ERROR] Response sent | {"requestId":"590926ee-37bb-4ce8-99d9-767d8fe3247d","method":"GET","url":"/records/53fd1bfe-9c15-4882-8cd5-25b8d4a93692?date=2025-08-09","statusCode":500,"responseTime":"228ms","userId":"anonymous","timestamp":"2025-08-09T11:44:52.360Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Records.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table &#39;Staff&#39; is not correct\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"Records.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct","statusCode":500,"showDetails":true,"req":"/records/53fd1bfe-9c15-4882-8cd5-25b8d4a93692","_locals":{"message":[],"csrfToken":"982dca75bc6f27edffc3518c7061e24253db71d990c21829f4207d2776a0a6a7"}}}}
[2025-08-09T11:44:52.367Z] [ERROR] Response sent | {"requestId":"590926ee-37bb-4ce8-99d9-767d8fe3247d","method":"GET","url":"/records/53fd1bfe-9c15-4882-8cd5-25b8d4a93692?date=2025-08-09","statusCode":500,"responseTime":"235ms","userId":"anonymous","timestamp":"2025-08-09T11:44:52.367Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Records.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table &#39;Staff&#39; is not correct\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:44:55.815Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T11:44:55.816Z] [ERROR] Response sent | {"requestId":"e555248a-2895-4207-8783-0391ca18f70d","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"219ms","userId":"anonymous","timestamp":"2025-08-09T11:44:55.816Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6"}}}
[2025-08-09T11:44:55.819Z] [ERROR] Response sent | {"requestId":"e555248a-2895-4207-8783-0391ca18f70d","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"222ms","userId":"anonymous","timestamp":"2025-08-09T11:44:55.819Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","_locals":{"message":[],"csrfToken":"982dca75bc6f27edffc3518c7061e24253db71d990c21829f4207d2776a0a6a7"}}}}
[2025-08-09T11:45:12.530Z] [ERROR] Response sent | {"requestId":"e555248a-2895-4207-8783-0391ca18f70d","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"16932ms","userId":"anonymous","timestamp":"2025-08-09T11:45:12.530Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:45:51.111Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T11:45:51.113Z] [ERROR] Response sent | {"requestId":"23af3b38-9ac9-4a43-b241-d3c3bfb5342f","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"200ms","userId":"anonymous","timestamp":"2025-08-09T11:45:51.113Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6"}}}
[2025-08-09T11:45:51.114Z] [ERROR] Response sent | {"requestId":"23af3b38-9ac9-4a43-b241-d3c3bfb5342f","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"201ms","userId":"anonymous","timestamp":"2025-08-09T11:45:51.114Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","_locals":{"message":[],"csrfToken":"baf12d9a8b53cd7f3baae8f9dd524a4029429fad9bac3f4fa476161aac2f657c"}}}}
[2025-08-09T11:45:51.131Z] [ERROR] Response sent | {"requestId":"23af3b38-9ac9-4a43-b241-d3c3bfb5342f","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"218ms","userId":"anonymous","timestamp":"2025-08-09T11:45:51.131Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:46:16.193Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"5af04fdf-bc93-4ed8-afee-8e399f91eab5","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T11:46:16.195Z] [ERROR] Response sent | {"requestId":"b7d68f57-2b48-4559-b341-8f45704a948f","method":"GET","url":"/records/5af04fdf-bc93-4ed8-afee-8e399f91eab5?date=2025-08-09","statusCode":500,"responseTime":"22568ms","userId":"anonymous","timestamp":"2025-08-09T11:46:16.195Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/5af04fdf-bc93-4ed8-afee-8e399f91eab5"}}}
[2025-08-09T11:46:16.197Z] [ERROR] Response sent | {"requestId":"b7d68f57-2b48-4559-b341-8f45704a948f","method":"GET","url":"/records/5af04fdf-bc93-4ed8-afee-8e399f91eab5?date=2025-08-09","statusCode":500,"responseTime":"22570ms","userId":"anonymous","timestamp":"2025-08-09T11:46:16.197Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/5af04fdf-bc93-4ed8-afee-8e399f91eab5","_locals":{"message":[],"csrfToken":"baf12d9a8b53cd7f3baae8f9dd524a4029429fad9bac3f4fa476161aac2f657c"}}}}
[2025-08-09T11:46:16.201Z] [ERROR] Response sent | {"requestId":"b7d68f57-2b48-4559-b341-8f45704a948f","method":"GET","url":"/records/5af04fdf-bc93-4ed8-afee-8e399f91eab5?date=2025-08-09","statusCode":500,"responseTime":"22574ms","userId":"anonymous","timestamp":"2025-08-09T11:46:16.201Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:46:16.445Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"8256b639-1aff-44bc-9d62-e4a6b79aeb63","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T11:46:16.446Z] [ERROR] Response sent | {"requestId":"ea5a6174-54b6-4756-ba06-3d93efbc23f1","method":"GET","url":"/records/8256b639-1aff-44bc-9d62-e4a6b79aeb63?date=2025-08-09","statusCode":500,"responseTime":"237ms","userId":"anonymous","timestamp":"2025-08-09T11:46:16.446Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/8256b639-1aff-44bc-9d62-e4a6b79aeb63"}}}
[2025-08-09T11:46:16.449Z] [ERROR] Response sent | {"requestId":"ea5a6174-54b6-4756-ba06-3d93efbc23f1","method":"GET","url":"/records/8256b639-1aff-44bc-9d62-e4a6b79aeb63?date=2025-08-09","statusCode":500,"responseTime":"240ms","userId":"anonymous","timestamp":"2025-08-09T11:46:16.449Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/8256b639-1aff-44bc-9d62-e4a6b79aeb63","_locals":{"message":[],"csrfToken":"baf12d9a8b53cd7f3baae8f9dd524a4029429fad9bac3f4fa476161aac2f657c"}}}}
[2025-08-09T11:46:16.462Z] [ERROR] Response sent | {"requestId":"ea5a6174-54b6-4756-ba06-3d93efbc23f1","method":"GET","url":"/records/8256b639-1aff-44bc-9d62-e4a6b79aeb63?date=2025-08-09","statusCode":500,"responseTime":"253ms","userId":"anonymous","timestamp":"2025-08-09T11:46:16.462Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:46:45.801Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T11:46:45.803Z] [ERROR] Response sent | {"requestId":"b6e4127c-c3bb-4634-9cfe-f8d69f2d8f52","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"206ms","userId":"anonymous","timestamp":"2025-08-09T11:46:45.803Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6"}}}
[2025-08-09T11:46:45.806Z] [ERROR] Response sent | {"requestId":"b6e4127c-c3bb-4634-9cfe-f8d69f2d8f52","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"209ms","userId":"anonymous","timestamp":"2025-08-09T11:46:45.806Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","_locals":{"message":[],"csrfToken":"baf12d9a8b53cd7f3baae8f9dd524a4029429fad9bac3f4fa476161aac2f657c"}}}}
[2025-08-09T11:46:45.813Z] [ERROR] Response sent | {"requestId":"b6e4127c-c3bb-4634-9cfe-f8d69f2d8f52","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"216ms","userId":"anonymous","timestamp":"2025-08-09T11:46:45.813Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:47:46.710Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T11:47:46.711Z] [ERROR] Response sent | {"requestId":"70f29a4f-c0e9-40a6-b60b-fa3dea72f459","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"207ms","userId":"anonymous","timestamp":"2025-08-09T11:47:46.711Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6"}}}
[2025-08-09T11:47:46.713Z] [ERROR] Response sent | {"requestId":"70f29a4f-c0e9-40a6-b60b-fa3dea72f459","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"209ms","userId":"anonymous","timestamp":"2025-08-09T11:47:46.713Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","_locals":{"message":[],"csrfToken":"baf12d9a8b53cd7f3baae8f9dd524a4029429fad9bac3f4fa476161aac2f657c"}}}}
[2025-08-09T11:47:46.715Z] [ERROR] Response sent | {"requestId":"70f29a4f-c0e9-40a6-b60b-fa3dea72f459","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"211ms","userId":"anonymous","timestamp":"2025-08-09T11:47:46.715Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:52:03.724Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T11:52:03.725Z] [ERROR] Response sent | {"requestId":"25ea1ee2-a3ce-4e05-b502-fe92ffc74eca","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"201ms","userId":"anonymous","timestamp":"2025-08-09T11:52:03.725Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6"}}}
[2025-08-09T11:52:03.726Z] [ERROR] Response sent | {"requestId":"25ea1ee2-a3ce-4e05-b502-fe92ffc74eca","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"202ms","userId":"anonymous","timestamp":"2025-08-09T11:52:03.726Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","_locals":{"message":[],"csrfToken":"b0607e89e07c054cf6075e7c39e8365865ca5fcf1b82a728b36bfd856a3e4a73"}}}}
[2025-08-09T11:52:03.728Z] [ERROR] Response sent | {"requestId":"25ea1ee2-a3ce-4e05-b502-fe92ffc74eca","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"204ms","userId":"anonymous","timestamp":"2025-08-09T11:52:03.728Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:52:40.958Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T11:52:40.959Z] [ERROR] Response sent | {"requestId":"b01ef720-6570-4ca5-a09f-fcf7ddc25a0b","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"12613ms","userId":"anonymous","timestamp":"2025-08-09T11:52:40.959Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6"}}}
[2025-08-09T11:52:40.961Z] [ERROR] Response sent | {"requestId":"b01ef720-6570-4ca5-a09f-fcf7ddc25a0b","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"12615ms","userId":"anonymous","timestamp":"2025-08-09T11:52:40.961Z","responseData":{"view":"layouts/main-layouts","locals":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>","title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","_locals":{"message":[],"csrfToken":"baf12d9a8b53cd7f3baae8f9dd524a4029429fad9bac3f4fa476161aac2f657c"}}}}
[2025-08-09T11:52:40.964Z] [ERROR] Response sent | {"requestId":"b01ef720-6570-4ca5-a09f-fcf7ddc25a0b","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"12618ms","userId":"anonymous","timestamp":"2025-08-09T11:52:40.964Z","responseData":"<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <title>Internal Server Error | TUKIN SMATAJAYA</title>\r\n    <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/public/img/logo-smata.png\"/>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"/public/img/logo-smata.png\"/>\r\n    <meta name=\"description\" content=\"TUKIN SMATAJAYA\">\r\n    <link rel=\"stylesheet\" href=\"/public/sass/output.css\">\r\n    <script src=\"/public/js/jquery-3.7.1.min.js\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"/public/dist/js/bootstrap.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css\">\r\n  </head>\r\n  <body>\r\n    <nav class=\"navbar p-3 bg-primary\">\r\n    <div class=\"container-fluid\">\r\n        <div>\r\n            <button class=\"btn btn-primary\" aria-label=\"menu\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasExample\" aria-controls=\"offcanvasExample\">\r\n                <i class=\"bi bi-list\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand px-4 text-white\" href=\"/\">\r\n            <img src=\"/public/img/logo-smata.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                TUKIN SMATAJAYA\r\n            </a>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<!-- ofcanvas navbar -->\r\n\r\n<div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasExample\" aria-labelledby=\"offcanvasExampleLabel\">\r\n    <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"addRecordModalLabel\">TUKIN SMATAJAYA</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"position-relative h-100\">\r\n        <ul class=\"navbar-nav p-5\">\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-box-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Dashboard</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\"href=\"/staff\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-people-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Karyawan & Penilaian</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/periode\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-calendar-day-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Kategori Instrumen</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/data\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-card-checklist text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Laporan</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"text-white my-1 px-4 rounded-2 bg-secondary\">\r\n                <a class=\"nav-link d-flex\" href=\"/settings\">\r\n                    <div\r\n                            class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                    >\r\n                        <i class=\"bi bi-gear-fill text-lg\"></i>\r\n                    </div>\r\n                    <span class=\"nav-link-text ms-1\">Settings</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"position-absolute bottom-0 p-5 text-white my-1 d-flex gap-2\">\r\n            <div class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\">\r\n                <span id=\"user-info\"></span>\r\n            </div>\r\n            </a>\r\n            <a class=\"nav-link d-flex bg-secondary rounded-2 py-2 px-3\" href=\"/logout\">\r\n                <div\r\n                        class=\"icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center\"\r\n                >\r\n                <i class=\"bi bi-box-arrow-right\"></i>\r\n                </div>\r\n                <span class=\"nav-link-text ms-1\">Logout</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- end ofcanvas navbar -->\r\n\r\n<style>\r\n    ul li:hover {\r\n        opacity: 0.5;\r\n        transition: all 0.5s;\r\n    }\r\n</style>\r\n\r\n<script>\r\nfetch('/users/current-user')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    document.getElementById('user-info').innerText = data.email; // atau data.name jika ada\r\n  });\r\n</script> \r\n    <div class=\"container-fluid p-4\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/datatables.min.css\">\r\n        <link rel=\"stylesheet\" href=\"/public/css/dataTables.bootstrap.css\">\r\n        <script src=\"/public/js/datatables.min.js\"></script>\r\n        <script src=\"https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js\"></script>\r\n        <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>\r\n    </div>\r\n  </body>\r\n</html>"}
[2025-08-09T11:58:39.628Z] [ERROR] Failed to get records by staff ID | {"error":"Records.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T11:58:39.631Z] [ERROR] Response sent | {"requestId":"bf65f12b-4b7e-4879-8332-ffab9338ba9c","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"212ms","userId":"anonymous","timestamp":"2025-08-09T11:58:39.631Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Records.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct","statusCode":500,"showDetails":true,"req":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","layout":false}}}
[2025-08-09T11:58:39.633Z] [ERROR] Response sent | {"requestId":"bf65f12b-4b7e-4879-8332-ffab9338ba9c","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"214ms","userId":"anonymous","timestamp":"2025-08-09T11:58:39.633Z","responseData":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Records.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table &#39;Staff&#39; is not correct\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>"}
[2025-08-09T11:58:58.351Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T11:58:58.352Z] [ERROR] Response sent | {"requestId":"e6d1c8e1-e2c4-42d6-baef-4069693be4ff","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"201ms","userId":"anonymous","timestamp":"2025-08-09T11:58:58.352Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","layout":false}}}
[2025-08-09T11:58:58.354Z] [ERROR] Response sent | {"requestId":"e6d1c8e1-e2c4-42d6-baef-4069693be4ff","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"203ms","userId":"anonymous","timestamp":"2025-08-09T11:58:58.354Z","responseData":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>"}
[2025-08-09T11:59:05.097Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"88a42cbc-52aa-11f0-a486-970a6c01c1c4","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T11:59:05.098Z] [ERROR] Response sent | {"requestId":"a678881d-8f01-4708-bea9-55de2d1f7a60","method":"GET","url":"/records/88a42cbc-52aa-11f0-a486-970a6c01c1c4?date=2025-08-09","statusCode":500,"responseTime":"199ms","userId":"anonymous","timestamp":"2025-08-09T11:59:05.098Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/88a42cbc-52aa-11f0-a486-970a6c01c1c4","layout":false}}}
[2025-08-09T11:59:05.099Z] [ERROR] Response sent | {"requestId":"a678881d-8f01-4708-bea9-55de2d1f7a60","method":"GET","url":"/records/88a42cbc-52aa-11f0-a486-970a6c01c1c4?date=2025-08-09","statusCode":500,"responseTime":"200ms","userId":"anonymous","timestamp":"2025-08-09T11:59:05.099Z","responseData":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>"}
[2025-08-09T11:59:37.312Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T11:59:37.313Z] [ERROR] Response sent | {"requestId":"5c37d7d3-2dd1-4965-9188-2bbcc35dbde6","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"214ms","userId":"anonymous","timestamp":"2025-08-09T11:59:37.313Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","layout":false}}}
[2025-08-09T11:59:37.315Z] [ERROR] Response sent | {"requestId":"5c37d7d3-2dd1-4965-9188-2bbcc35dbde6","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"216ms","userId":"anonymous","timestamp":"2025-08-09T11:59:37.315Z","responseData":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>"}
[2025-08-09T12:00:55.700Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T12:00:55.701Z] [ERROR] Response sent | {"requestId":"05fae5fe-b323-4c27-9cd2-90d5b29fa48a","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"197ms","userId":"anonymous","timestamp":"2025-08-09T12:00:55.701Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","layout":false}}}
[2025-08-09T12:00:55.703Z] [ERROR] Response sent | {"requestId":"05fae5fe-b323-4c27-9cd2-90d5b29fa48a","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"199ms","userId":"anonymous","timestamp":"2025-08-09T12:00:55.703Z","responseData":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>"}
[2025-08-09T12:02:41.510Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T12:02:41.510Z] [ERROR] Response sent | {"requestId":"00885c8b-4691-4171-a063-7801f730dd27","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"198ms","userId":"anonymous","timestamp":"2025-08-09T12:02:41.510Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"Cannot read properties of null (reading 'size')","statusCode":500,"showDetails":true,"req":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","layout":false}}}
[2025-08-09T12:02:41.513Z] [ERROR] Response sent | {"requestId":"00885c8b-4691-4171-a063-7801f730dd27","method":"GET","url":"/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"201ms","userId":"anonymous","timestamp":"2025-08-09T12:02:41.513Z","responseData":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            Cannot read properties of null (reading &#39;size&#39;)\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/health/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>"}
[2025-08-09T12:15:45.911Z] [ERROR] Failed to get records by staff ID | {"error":"Records.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T12:15:45.913Z] [ERROR] Response sent | {"requestId":"0f748759-9e62-4026-9069-089f1494816f","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"209ms","userId":"anonymous","timestamp":"2025-08-09T12:15:45.913Z","responseData":{"success":false,"error":{"message":"Records.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-08-09T12:15:45.914Z] [ERROR] Response sent | {"requestId":"0f748759-9e62-4026-9069-089f1494816f","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"210ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T12:15:45.914Z","responseData":"{\"success\":false,\"error\":{\"message\":\"Records.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-08-09T12:16:07.672Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T12:16:07.678Z] [ERROR] Response sent | {"requestId":"2a7f9ac7-8e6a-4fc0-bd22-095ee4487a6f","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"214ms","userId":"anonymous","timestamp":"2025-08-09T12:16:07.678Z","responseData":{"success":false,"error":{"message":"Cannot read properties of null (reading 'size')","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-08-09T12:16:07.682Z] [ERROR] Response sent | {"requestId":"2a7f9ac7-8e6a-4fc0-bd22-095ee4487a6f","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"219ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T12:16:07.682Z","responseData":"{\"success\":false,\"error\":{\"message\":\"Cannot read properties of null (reading 'size')\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-08-09T12:16:16.064Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T12:16:16.066Z] [ERROR] Response sent | {"requestId":"8815561b-792f-4e4d-a818-263f7ce61140","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"212ms","userId":"anonymous","timestamp":"2025-08-09T12:16:16.066Z","responseData":{"success":false,"error":{"message":"Cannot read properties of null (reading 'size')","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-08-09T12:16:16.068Z] [ERROR] Response sent | {"requestId":"8815561b-792f-4e4d-a818-263f7ce61140","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"214ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T12:16:16.068Z","responseData":"{\"success\":false,\"error\":{\"message\":\"Cannot read properties of null (reading 'size')\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-08-09T12:18:35.965Z] [ERROR] Failed to get records by staff ID | {"error":"Records.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct","staffId":"88a42cbc-52aa-11f0-a486-970a6c01c1c4","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T12:18:35.966Z] [ERROR] Response sent | {"requestId":"b72f0c3d-8005-4b35-9cfd-f5168402be41","method":"GET","url":"/api/records/88a42cbc-52aa-11f0-a486-970a6c01c1c4?date=2025-08-09","statusCode":500,"responseTime":"270ms","userId":"anonymous","timestamp":"2025-08-09T12:18:35.966Z","responseData":{"success":false,"error":{"message":"Records.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-08-09T12:18:35.966Z] [ERROR] Response sent | {"requestId":"b72f0c3d-8005-4b35-9cfd-f5168402be41","method":"GET","url":"/api/records/88a42cbc-52aa-11f0-a486-970a6c01c1c4?date=2025-08-09","statusCode":500,"responseTime":"270ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T12:18:35.966Z","responseData":"{\"success\":false,\"error\":{\"message\":\"Records.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-08-09T12:20:23.535Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"96ef05fc-666c-47d4-b34d-c0b6d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T12:20:23.537Z] [ERROR] Response sent | {"requestId":"b9dae6f5-40a3-48c4-b91f-87c0b3812916","method":"GET","url":"/api/records/96ef05fc-666c-47d4-b34d-c0b6d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"206ms","userId":"anonymous","timestamp":"2025-08-09T12:20:23.537Z","responseData":{"success":false,"error":{"message":"Cannot read properties of null (reading 'size')","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-08-09T12:20:23.538Z] [ERROR] Response sent | {"requestId":"b9dae6f5-40a3-48c4-b91f-87c0b3812916","method":"GET","url":"/api/records/96ef05fc-666c-47d4-b34d-c0b6d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"207ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T12:20:23.538Z","responseData":"{\"success\":false,\"error\":{\"message\":\"Cannot read properties of null (reading 'size')\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-08-09T12:21:46.428Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T12:21:46.428Z] [ERROR] Response sent | {"requestId":"6750eaf3-ded8-4a73-b87f-41fca8dc30d1","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"200ms","userId":"anonymous","timestamp":"2025-08-09T12:21:46.428Z","responseData":{"success":false,"error":{"message":"Cannot read properties of null (reading 'size')","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-08-09T12:21:46.429Z] [ERROR] Response sent | {"requestId":"6750eaf3-ded8-4a73-b87f-41fca8dc30d1","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"201ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T12:21:46.429Z","responseData":"{\"success\":false,\"error\":{\"message\":\"Cannot read properties of null (reading 'size')\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-08-09T12:21:47.326Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T12:21:47.327Z] [ERROR] Response sent | {"requestId":"c38edfa5-9df0-47dc-929c-08112bf38cb7","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"208ms","userId":"anonymous","timestamp":"2025-08-09T12:21:47.327Z","responseData":{"success":false,"error":{"message":"Cannot read properties of null (reading 'size')","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-08-09T12:21:47.328Z] [ERROR] Response sent | {"requestId":"c38edfa5-9df0-47dc-929c-08112bf38cb7","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"209ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T12:21:47.328Z","responseData":"{\"success\":false,\"error\":{\"message\":\"Cannot read properties of null (reading 'size')\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-08-09T12:21:48.278Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T12:21:48.278Z] [ERROR] Response sent | {"requestId":"d92b29cd-f45c-4e18-851c-8a26af211876","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"198ms","userId":"anonymous","timestamp":"2025-08-09T12:21:48.278Z","responseData":{"success":false,"error":{"message":"Cannot read properties of null (reading 'size')","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-08-09T12:21:48.279Z] [ERROR] Response sent | {"requestId":"d92b29cd-f45c-4e18-851c-8a26af211876","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"199ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T12:21:48.279Z","responseData":"{\"success\":false,\"error\":{\"message\":\"Cannot read properties of null (reading 'size')\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-08-09T12:21:49.258Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T12:21:49.261Z] [ERROR] Response sent | {"requestId":"08fbc9f2-c861-4807-b0f7-a3e375874b9d","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"204ms","userId":"anonymous","timestamp":"2025-08-09T12:21:49.261Z","responseData":{"success":false,"error":{"message":"Cannot read properties of null (reading 'size')","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-08-09T12:21:49.262Z] [ERROR] Response sent | {"requestId":"08fbc9f2-c861-4807-b0f7-a3e375874b9d","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"205ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T12:21:49.262Z","responseData":"{\"success\":false,\"error\":{\"message\":\"Cannot read properties of null (reading 'size')\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-08-09T12:21:49.994Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T12:21:49.995Z] [ERROR] Response sent | {"requestId":"86738abb-5600-4826-ab18-8ec9935062dc","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"216ms","userId":"anonymous","timestamp":"2025-08-09T12:21:49.995Z","responseData":{"success":false,"error":{"message":"Cannot read properties of null (reading 'size')","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-08-09T12:21:49.996Z] [ERROR] Response sent | {"requestId":"86738abb-5600-4826-ab18-8ec9935062dc","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"217ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T12:21:49.996Z","responseData":"{\"success\":false,\"error\":{\"message\":\"Cannot read properties of null (reading 'size')\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-08-09T12:21:50.886Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T12:21:50.888Z] [ERROR] Response sent | {"requestId":"d05a5c69-915a-4b9f-a990-5caab1d29319","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"217ms","userId":"anonymous","timestamp":"2025-08-09T12:21:50.888Z","responseData":{"success":false,"error":{"message":"Cannot read properties of null (reading 'size')","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-08-09T12:21:50.889Z] [ERROR] Response sent | {"requestId":"d05a5c69-915a-4b9f-a990-5caab1d29319","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"218ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T12:21:50.889Z","responseData":"{\"success\":false,\"error\":{\"message\":\"Cannot read properties of null (reading 'size')\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-08-09T12:22:01.610Z] [ERROR] Failed to get records by staff ID | {"error":"Records.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T12:22:01.612Z] [ERROR] Response sent | {"requestId":"21d3fe01-2c30-4b2c-9cc3-a185f2496c07","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"307ms","userId":"anonymous","timestamp":"2025-08-09T12:22:01.612Z","responseData":{"success":false,"error":{"message":"Records.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-08-09T12:22:01.613Z] [ERROR] Response sent | {"requestId":"21d3fe01-2c30-4b2c-9cc3-a185f2496c07","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"308ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T12:22:01.613Z","responseData":"{\"success\":false,\"error\":{\"message\":\"Records.relationMappings.staff: join: either `from` or `to` must point to the owner model table and the other one to the related table. It might be that specified table 'Staff' is not correct\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-08-09T12:22:47.298Z] [ERROR] Failed to get records by staff ID | {"error":"Cannot read properties of null (reading 'size')","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T12:22:47.300Z] [ERROR] Response sent | {"requestId":"876035cc-90d5-423e-86be-e745dc5d857e","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"212ms","userId":"anonymous","timestamp":"2025-08-09T12:22:47.300Z","responseData":{"success":false,"error":{"message":"Cannot read properties of null (reading 'size')","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-08-09T12:22:47.301Z] [ERROR] Response sent | {"requestId":"876035cc-90d5-423e-86be-e745dc5d857e","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"213ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T12:22:47.301Z","responseData":"{\"success\":false,\"error\":{\"message\":\"Cannot read properties of null (reading 'size')\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-08-09T12:34:04.126Z] [ERROR] Failed to get records by staff ID | {"error":"select `_RecordTasks`.`A` as `objectiontmpjoin0`, `id`, `name`, `description`, `value`, `status` from `task` inner join `_RecordTasks` on `task`.`id` = `_RecordTasks`.`B` where `_RecordTasks`.`A` in ('aab70ea9-ee13-4b4d-a27b-e32504fb4233') - Unknown column 'name' in 'field list'","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T12:34:04.128Z] [ERROR] Response sent | {"requestId":"2cd07869-53f7-4e67-80a6-f0f3c125067e","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"870ms","userId":"anonymous","timestamp":"2025-08-09T12:34:04.128Z","responseData":{"success":false,"error":{"message":"select `_RecordTasks`.`A` as `objectiontmpjoin0`, `id`, `name`, `description`, `value`, `status` from `task` inner join `_RecordTasks` on `task`.`id` = `_RecordTasks`.`B` where `_RecordTasks`.`A` in ('aab70ea9-ee13-4b4d-a27b-e32504fb4233') - Unknown column 'name' in 'field list'","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-08-09T12:34:04.130Z] [ERROR] Response sent | {"requestId":"2cd07869-53f7-4e67-80a6-f0f3c125067e","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"872ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T12:34:04.130Z","responseData":"{\"success\":false,\"error\":{\"message\":\"select `_RecordTasks`.`A` as `objectiontmpjoin0`, `id`, `name`, `description`, `value`, `status` from `task` inner join `_RecordTasks` on `task`.`id` = `_RecordTasks`.`B` where `_RecordTasks`.`A` in ('aab70ea9-ee13-4b4d-a27b-e32504fb4233') - Unknown column 'name' in 'field list'\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-08-09T12:47:18.225Z] [ERROR] Failed to get records by staff ID | {"error":"select `_RecordTasks`.`A` as `objectiontmpjoin0`, `id`, `name`, `description`, `value`, `status` from `task` inner join `_RecordTasks` on `task`.`id` = `_RecordTasks`.`B` where `_RecordTasks`.`A` in ('aab70ea9-ee13-4b4d-a27b-e32504fb4233') - Unknown column 'name' in 'field list'","staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","options":{"includeRelations":true,"dateFrom":"2025-08-08T17:00:00.000Z","dateTo":"2025-08-09T16:59:59.999Z"}}
[2025-08-09T12:47:18.226Z] [ERROR] Response sent | {"requestId":"8dfefa94-870c-46cd-96ce-e852f61a6ab1","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"2131ms","userId":"anonymous","timestamp":"2025-08-09T12:47:18.226Z","responseData":{"success":false,"error":{"message":"select `_RecordTasks`.`A` as `objectiontmpjoin0`, `id`, `name`, `description`, `value`, `status` from `task` inner join `_RecordTasks` on `task`.`id` = `_RecordTasks`.`B` where `_RecordTasks`.`A` in ('aab70ea9-ee13-4b4d-a27b-e32504fb4233') - Unknown column 'name' in 'field list'","code":"INTERNAL_ERROR","statusCode":500,"details":null}}}
[2025-08-09T12:47:18.227Z] [ERROR] Response sent | {"requestId":"8dfefa94-870c-46cd-96ce-e852f61a6ab1","method":"GET","url":"/api/records/96efb5fc-666c-4f2d-b34d-cb06d0244bb6?date=2025-08-09","statusCode":500,"responseTime":"2132ms","contentType":"application/json; charset=utf-8","userId":"anonymous","timestamp":"2025-08-09T12:47:18.227Z","responseData":"{\"success\":false,\"error\":{\"message\":\"select `_RecordTasks`.`A` as `objectiontmpjoin0`, `id`, `name`, `description`, `value`, `status` from `task` inner join `_RecordTasks` on `task`.`id` = `_RecordTasks`.`B` where `_RecordTasks`.`A` in ('aab70ea9-ee13-4b4d-a27b-e32504fb4233') - Unknown column 'name' in 'field list'\",\"code\":\"INTERNAL_ERROR\",\"statusCode\":500,\"details\":null}}"}
[2025-08-09T12:58:52.888Z] [ERROR] Response sent | {"requestId":"888f3e33-b009-48bb-8765-99c40464a316","method":"GET","url":"/addTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","statusCode":500,"responseTime":"1697ms","userId":"anonymous","timestamp":"2025-08-09T12:58:52.888Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"req.flash is not a function","statusCode":500,"showDetails":true,"req":"/addTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","layout":false}}}
[2025-08-09T12:58:52.892Z] [ERROR] Response sent | {"requestId":"888f3e33-b009-48bb-8765-99c40464a316","method":"GET","url":"/addTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","statusCode":500,"responseTime":"1701ms","userId":"anonymous","timestamp":"2025-08-09T12:58:52.892Z","responseData":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            req.flash is not a function\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/health/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>"}
[2025-08-09T12:59:55.127Z] [ERROR] Response sent | {"requestId":"6ba7a218-671d-4035-97b7-7006a02604bd","method":"GET","url":"/addTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","statusCode":500,"responseTime":"1624ms","userId":"anonymous","timestamp":"2025-08-09T12:59:55.127Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"req.flash is not a function","statusCode":500,"showDetails":true,"req":"/addTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","layout":false}}}
[2025-08-09T12:59:55.129Z] [ERROR] Response sent | {"requestId":"6ba7a218-671d-4035-97b7-7006a02604bd","method":"GET","url":"/addTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","statusCode":500,"responseTime":"1626ms","userId":"anonymous","timestamp":"2025-08-09T12:59:55.129Z","responseData":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            req.flash is not a function\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/health/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>"}
[2025-08-09T13:15:37.500Z] [ERROR] Response sent | {"requestId":"5e15b03e-fae9-404d-be0a-ee879a5833e7","method":"GET","url":"/addTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","statusCode":500,"responseTime":"1407ms","userId":"anonymous","timestamp":"2025-08-09T13:15:37.500Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"req.flash is not a function","statusCode":500,"showDetails":true,"req":"/addTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","layout":false}}}
[2025-08-09T13:15:37.505Z] [ERROR] Response sent | {"requestId":"5e15b03e-fae9-404d-be0a-ee879a5833e7","method":"GET","url":"/addTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","statusCode":500,"responseTime":"1412ms","userId":"anonymous","timestamp":"2025-08-09T13:15:37.505Z","responseData":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            req.flash is not a function\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/health/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>"}
[2025-08-09T13:18:35.536Z] [ERROR] Response sent | {"requestId":"653816e7-af43-4c3a-a01e-772024275cbf","method":"GET","url":"/addTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","statusCode":500,"responseTime":"1491ms","userId":"anonymous","timestamp":"2025-08-09T13:18:35.536Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"req.flash is not a function","statusCode":500,"showDetails":true,"req":"/addTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","layout":false}}}
[2025-08-09T13:18:35.539Z] [ERROR] Response sent | {"requestId":"653816e7-af43-4c3a-a01e-772024275cbf","method":"GET","url":"/addTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","statusCode":500,"responseTime":"1494ms","userId":"anonymous","timestamp":"2025-08-09T13:18:35.539Z","responseData":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            req.flash is not a function\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/health/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>"}
[2025-08-09T13:19:37.272Z] [ERROR] Response sent | {"requestId":"ce086496-1fbf-49a5-9e86-75dcfa6b6bd7","method":"GET","url":"/addTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","statusCode":500,"responseTime":"1689ms","userId":"anonymous","timestamp":"2025-08-09T13:19:37.272Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"req.flash is not a function","statusCode":500,"showDetails":true,"req":"/addTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","layout":false}}}
[2025-08-09T13:19:37.281Z] [ERROR] Response sent | {"requestId":"ce086496-1fbf-49a5-9e86-75dcfa6b6bd7","method":"GET","url":"/addTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","statusCode":500,"responseTime":"1698ms","userId":"anonymous","timestamp":"2025-08-09T13:19:37.281Z","responseData":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            req.flash is not a function\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/health/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>"}
[2025-08-09T13:20:23.000Z] [ERROR] Response sent | {"requestId":"d988ccbf-d3a8-45aa-9369-f9d5036aaa1b","method":"GET","url":"/auth/login","statusCode":500,"responseTime":"204ms","userId":"anonymous","timestamp":"2025-08-09T13:20:23.000Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"E:\\Project App\\appsch\\views\\login.ejs:16\n    14|                     <% } %>\r\n    15|                     <form role=\"form\" action=\"/auth/login\" method=\"POST\">\r\n >> 16|                         <input type=\"hidden\" name=\"_token\" value=\"<%= csrfToken %>\">\r\n    17|                     <div class=\"my-3\">\r\n    18|                         <input type=\"email\" name=\"email\" class=\"form-control form-control-sm\" placeholder=\"Email\" aria-label=\"Email\" required>\r\n    19|                     </div>\r\n\ncsrfToken is not defined","statusCode":500,"showDetails":true,"req":"/auth/login","layout":false}}}
[2025-08-09T13:20:23.003Z] [ERROR] Response sent | {"requestId":"d988ccbf-d3a8-45aa-9369-f9d5036aaa1b","method":"GET","url":"/auth/login","statusCode":500,"responseTime":"207ms","userId":"anonymous","timestamp":"2025-08-09T13:20:23.003Z","responseData":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            E:\\Project App\\appsch\\views\\login.ejs:16\n    14|                     &lt;% } %&gt;\r\n    15|                     &lt;form role=&#34;form&#34; action=&#34;/auth/login&#34; method=&#34;POST&#34;&gt;\r\n &gt;&gt; 16|                         &lt;input type=&#34;hidden&#34; name=&#34;_token&#34; value=&#34;&lt;%= csrfToken %&gt;&#34;&gt;\r\n    17|                     &lt;div class=&#34;my-3&#34;&gt;\r\n    18|                         &lt;input type=&#34;email&#34; name=&#34;email&#34; class=&#34;form-control form-control-sm&#34; placeholder=&#34;Email&#34; aria-label=&#34;Email&#34; required&gt;\r\n    19|                     &lt;/div&gt;\r\n\ncsrfToken is not defined\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/health/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>"}
[2025-08-09T13:22:50.579Z] [ERROR] Response sent | {"requestId":"08d954d0-2d3a-4616-a455-f67843458911","method":"GET","url":"/addTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","statusCode":500,"responseTime":"1464ms","userId":"anonymous","timestamp":"2025-08-09T13:22:50.579Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"req.flash is not a function","statusCode":500,"showDetails":true,"req":"/addTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","layout":false}}}
[2025-08-09T13:22:50.583Z] [ERROR] Response sent | {"requestId":"08d954d0-2d3a-4616-a455-f67843458911","method":"GET","url":"/addTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","statusCode":500,"responseTime":"1468ms","userId":"anonymous","timestamp":"2025-08-09T13:22:50.583Z","responseData":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            req.flash is not a function\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/health/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>"}
[2025-08-09T13:23:52.206Z] [ERROR] Response sent | {"requestId":"ec7b65d3-e98f-4301-9e0e-9785bf2885e3","method":"GET","url":"/addTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","statusCode":500,"responseTime":"1599ms","userId":"anonymous","timestamp":"2025-08-09T13:23:52.206Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"req.flash is not a function","statusCode":500,"showDetails":true,"req":"/addTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","layout":false}}}
[2025-08-09T13:23:52.209Z] [ERROR] Response sent | {"requestId":"ec7b65d3-e98f-4301-9e0e-9785bf2885e3","method":"GET","url":"/addTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","statusCode":500,"responseTime":"1602ms","userId":"anonymous","timestamp":"2025-08-09T13:23:52.209Z","responseData":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            req.flash is not a function\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/health/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>"}
[2025-08-09T15:51:56.732Z] [ERROR] Response sent | {"requestId":"f2a45aa5-652c-4369-8ce7-74643d1f1412","method":"POST","url":"/addRecordTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","statusCode":500,"responseTime":"606ms","userId":"anonymous","timestamp":"2025-08-09T15:51:56.731Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"this.taskService.getTasksByIds is not a function","statusCode":500,"showDetails":true,"req":"/addRecordTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","layout":false}}}
[2025-08-09T15:51:56.736Z] [ERROR] Response sent | {"requestId":"f2a45aa5-652c-4369-8ce7-74643d1f1412","method":"POST","url":"/addRecordTask/96efb5fc-666c-4f2d-b34d-cb06d0244bb6","statusCode":500,"responseTime":"611ms","userId":"anonymous","timestamp":"2025-08-09T15:51:56.736Z","responseData":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            this.taskService.getTasksByIds is not a function\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/health/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>"}
[2025-08-09T15:56:24.112Z] [ERROR] Failed to create record | {"error":"Validation failed","recordData":{"staffId":"96efb5fc-666c-4f2d-b34d-cb06d0244bb6","value":"[REDACTED]","createdAt":"2025-08-09 00:00:00"},"taskIds":["01a2a3ca-0927-42b1-934c-d8bb9f219fda","4ed86073-cf67-4f0a-8580-e7a92d8d8879","0ef2d7ba-dcb5-41b3-a3b0-e681e8d4edb3","4ed28bf2-a977-440a-9627-7e3478609af7","3e4ad74d-c8b5-4ef9-b8df-bcb1a3aaa3d2"]}
[2025-08-09T16:03:05.552Z] [ERROR] Failed to create record | {"error":"Validation failed","recordData":{"staffId":"11ecde33-2614-441f-b265-4def642f6ab2","value":"[REDACTED]","createdAt":"2025-08-09 00:00:00"},"taskIds":["1b32fe7b-0089-4875-b314-177a28e7012f","980e5ea1-fe6b-49d3-a503-0e77e5439ed3","9cff17ec-082e-4628-bc71-a0507c0606e0","37a8280d-4578-4513-a836-adcb42f29631","1bb1d1f5-731e-4ef6-b15e-177482b8c84e","6baa3384-6c22-47a4-847d-da46e572c4b8","0a4b0f4f-891e-4f38-9c83-590fa7c02c8c","b8971db2-e37e-4598-9f51-0d3df924917b","d44d17f0-75c2-4066-945d-8c1dad3263c7","d80655c6-a55a-4de6-b5e2-97547f69c40a","ba5d6570-af84-4713-b672-757cf7a787fe","b15a4de7-c650-4fc9-b48f-69bc97e54561","7f4b082b-0051-4360-9469-07884b54bafb"]}
[2025-08-09T16:10:27.860Z] [ERROR] Failed to create record | {"error":"Validation failed","recordData":{"staffId":"11ecde33-2614-441f-b265-4def642f6ab2","value":"[REDACTED]","createdAt":"2025-08-09 00:00:00"},"taskIds":["1b32fe7b-0089-4875-b314-177a28e7012f","980e5ea1-fe6b-49d3-a503-0e77e5439ed3","9cff17ec-082e-4628-bc71-a0507c0606e0","37a8280d-4578-4513-a836-adcb42f29631","1bb1d1f5-731e-4ef6-b15e-177482b8c84e","6baa3384-6c22-47a4-847d-da46e572c4b8","0a4b0f4f-891e-4f38-9c83-590fa7c02c8c","b8971db2-e37e-4598-9f51-0d3df924917b","d44d17f0-75c2-4066-945d-8c1dad3263c7","d80655c6-a55a-4de6-b5e2-97547f69c40a","ba5d6570-af84-4713-b672-757cf7a787fe","b15a4de7-c650-4fc9-b48f-69bc97e54561","7f4b082b-0051-4360-9469-07884b54bafb"]}
[2025-08-09T16:12:58.277Z] [ERROR] Failed to create record | {"error":"Validation failed","recordData":{"staffId":"11ecde33-2614-441f-b265-4def642f6ab2","value":"[REDACTED]","createdAt":"2025-08-09 00:00:00"},"taskIds":["1b32fe7b-0089-4875-b314-177a28e7012f","980e5ea1-fe6b-49d3-a503-0e77e5439ed3","9cff17ec-082e-4628-bc71-a0507c0606e0","37a8280d-4578-4513-a836-adcb42f29631","1bb1d1f5-731e-4ef6-b15e-177482b8c84e","6baa3384-6c22-47a4-847d-da46e572c4b8","0a4b0f4f-891e-4f38-9c83-590fa7c02c8c","b8971db2-e37e-4598-9f51-0d3df924917b","d44d17f0-75c2-4066-945d-8c1dad3263c7","d80655c6-a55a-4de6-b5e2-97547f69c40a","ba5d6570-af84-4713-b672-757cf7a787fe","b15a4de7-c650-4fc9-b48f-69bc97e54561","7f4b082b-0051-4360-9469-07884b54bafb"]}
[2025-08-09T16:15:44.622Z] [ERROR] Failed to create record | {"error":"batch insert only works with Postgresql and SQL Server","recordData":{"staffId":"11ecde33-2614-441f-b265-4def642f6ab2","value":"[REDACTED]","createdAt":"2025-08-09 00:00:00"},"taskIds":["1b32fe7b-0089-4875-b314-177a28e7012f","980e5ea1-fe6b-49d3-a503-0e77e5439ed3","9cff17ec-082e-4628-bc71-a0507c0606e0","37a8280d-4578-4513-a836-adcb42f29631","1bb1d1f5-731e-4ef6-b15e-177482b8c84e","6baa3384-6c22-47a4-847d-da46e572c4b8","0a4b0f4f-891e-4f38-9c83-590fa7c02c8c","b8971db2-e37e-4598-9f51-0d3df924917b","d44d17f0-75c2-4066-945d-8c1dad3263c7","d80655c6-a55a-4de6-b5e2-97547f69c40a","ba5d6570-af84-4713-b672-757cf7a787fe","b15a4de7-c650-4fc9-b48f-69bc97e54561","7f4b082b-0051-4360-9469-07884b54bafb"]}
[2025-08-09T16:15:44.624Z] [ERROR] Response sent | {"requestId":"8857b686-88bf-46e4-9ae7-c3174ea45084","method":"POST","url":"/addRecordTask/11ecde33-2614-441f-b265-4def642f6ab2","statusCode":500,"responseTime":"1604ms","userId":"anonymous","timestamp":"2025-08-09T16:15:44.624Z","responseData":{"view":"error/500","locals":{"title":"Internal Server Error","message":"batch insert only works with Postgresql and SQL Server","statusCode":500,"showDetails":true,"req":"/addRecordTask/11ecde33-2614-441f-b265-4def642f6ab2","layout":false}}}
[2025-08-09T16:15:44.626Z] [ERROR] Response sent | {"requestId":"8857b686-88bf-46e4-9ae7-c3174ea45084","method":"POST","url":"/addRecordTask/11ecde33-2614-441f-b265-4def642f6ab2","statusCode":500,"responseTime":"1606ms","userId":"anonymous","timestamp":"2025-08-09T16:15:44.626Z","responseData":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>500 - Internal Server Error | Appsch</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #333;\n        }\n        \n        .error-container {\n            background: white;\n            border-radius: 20px;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n            padding: 60px 40px;\n            text-align: center;\n            max-width: 700px;\n            width: 90%;\n        }\n        \n        .error-code {\n            font-size: 120px;\n            font-weight: 900;\n            color: #ff6b6b;\n            line-height: 1;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        .error-title {\n            font-size: 32px;\n            font-weight: 700;\n            color: #2d3748;\n            margin-bottom: 16px;\n        }\n        \n        .error-message {\n            font-size: 18px;\n            color: #718096;\n            margin-bottom: 40px;\n            line-height: 1.6;\n        }\n        \n        .error-actions {\n            display: flex;\n            gap: 16px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            border-radius: 8px;\n            text-decoration: none;\n            font-weight: 600;\n            transition: all 0.3s ease;\n            border: none;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        \n        .btn-primary {\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);\n        }\n        \n        .btn-secondary {\n            background: #f7fafc;\n            color: #4a5568;\n            border: 2px solid #e2e8f0;\n        }\n        \n        .btn-secondary:hover {\n            background: #edf2f7;\n            border-color: #cbd5e0;\n        }\n        \n        .btn-warning {\n            background: #ffd93d;\n            color: #744210;\n            border: 2px solid #f6cc02;\n        }\n        \n        .btn-warning:hover {\n            background: #ffed4e;\n            border-color: #eab308;\n        }\n        \n        .error-details {\n            margin-top: 40px;\n            padding: 20px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            text-align: left;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            color: #495057;\n            border-left: 4px solid #dc3545;\n            max-height: 300px;\n            overflow-y: auto;\n        }\n        \n        .error-details h4 {\n            margin-bottom: 10px;\n            color: #dc3545;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        .error-icon {\n            width: 80px;\n            height: 80px;\n            margin: 0 auto 30px;\n            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 40px;\n        }\n        \n        .error-info {\n            background: #fff3cd;\n            border: 1px solid #ffeaa7;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 20px 0;\n            color: #856404;\n        }\n        \n        .error-info h5 {\n            margin-bottom: 8px;\n            color: #744210;\n        }\n        \n        .error-info ul {\n            margin: 0;\n            padding-left: 20px;\n        }\n        \n        .error-info li {\n            margin-bottom: 4px;\n        }\n        \n        @media (max-width: 768px) {\n            .error-container {\n                padding: 40px 20px;\n            }\n            \n            .error-code {\n                font-size: 80px;\n            }\n            \n            .error-title {\n                font-size: 24px;\n            }\n            \n            .error-message {\n                font-size: 16px;\n            }\n            \n            .error-actions {\n                flex-direction: column;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"error-icon\">\n            ‚ö†Ô∏è\n        </div>\n        \n        <div class=\"error-code\">500</div>\n        \n        <h1 class=\"error-title\">Internal Server Error</h1>\n        \n        <p class=\"error-message\">\n            batch insert only works with Postgresql and SQL Server\n        </p>\n        \n        <div class=\"error-info\">\n            <h5>Apa yang dapat Anda lakukan:</h5>\n            <ul>\n                <li>Tunggu beberapa menit dan coba lagi</li>\n                <li>Periksa koneksi internet Anda</li>\n                <li>Hubungi administrator jika masalah berlanjut</li>\n                <li>Kembali ke halaman sebelumnya</li>\n            </ul>\n        </div>\n        \n        <div class=\"error-actions\">\n            <a href=\"/\" class=\"btn btn-primary\">üè† Kembali ke Beranda</a>\n            <a href=\"javascript:location.reload()\" class=\"btn btn-warning\">üîÑ Coba Lagi</a>\n            <a href=\"javascript:history.back()\" class=\"btn btn-secondary\">‚Üê Kembali</a>\n        </div>\n        \n        \n    </div>\n    \n    <script>\n        // Auto reload after 60 seconds\n        let countdown = 60;\n        const countdownElement = document.createElement('div');\n        countdownElement.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.8);\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            z-index: 1000;\n        `;\n        document.body.appendChild(countdownElement);\n        \n        const timer = setInterval(() => {\n            countdown--;\n            countdownElement.textContent = `Auto reload dalam ${countdown} detik`;\n            \n            if (countdown <= 0) {\n                clearInterval(timer);\n                location.reload();\n            }\n        }, 1000);\n        \n        // Click to cancel auto reload\n        countdownElement.addEventListener('click', () => {\n            clearInterval(timer);\n            countdownElement.textContent = 'Auto reload dibatalkan';\n            setTimeout(() => {\n                countdownElement.remove();\n            }, 2000);\n        });\n        \n        // Track server errors for analytics\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'server_error', {\n                'error_code': '500',\n                'page_location': window.location.href,\n                'page_title': document.title\n            });\n        }\n        \n        // Report error to monitoring service\n        if (typeof fetch !== 'undefined') {\n            fetch('/api/health/error-report', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    type: 'client_error_page_view',\n                    statusCode: '500',\n                    url: window.location.href,\n                    userAgent: navigator.userAgent,\n                    timestamp: new Date().toISOString()\n                })\n            }).catch(() => {\n                // Ignore reporting errors\n            });\n        }\n    </script>\n</body>\n</html>"}
